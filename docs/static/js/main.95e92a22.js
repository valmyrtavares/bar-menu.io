/*! For license information please see main.95e92a22.js.LICENSE.txt */
(()=>{var e={854:(e,t,n)=>{"use strict";n.d(t,{BH:()=>p,G6:()=>x,L:()=>o,LL:()=>C,P0:()=>d,Pz:()=>f,Sg:()=>m,ZR:()=>E,aH:()=>h,b$:()=>b,eu:()=>S,hl:()=>_,m9:()=>M,ne:()=>O,pd:()=>D,q4:()=>u,ru:()=>y,tV:()=>a,uI:()=>v,vZ:()=>I,w1:()=>w,xO:()=>N,xb:()=>T,z$:()=>g,zd:()=>P});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|c>>6,h=63&c;a||(h=64,s||(d=64)),r.push(n[l],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const c=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==c)throw new s;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==c){const e=a<<6&192|c;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const c=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,l=()=>{try{return c()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/bar-menu.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&a(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},u=e=>{var t,n;return null===(n=null===(t=l())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=l())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=l())||void 0===t?void 0:t["_".concat(e)]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function b(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function w(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function x(){return!function(){var e;const t=null===(e=l())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){try{return"object"===typeof indexedDB}catch(e){return!1}}function S(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(k,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new E(n,s,t)}}const k=/\{\$([^}]+)}/g;function T(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function I(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(j(n)&&j(s)){if(!I(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function j(e){return null!==e&&"object"===typeof e}function N(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function P(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function D(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function O(e,t){const n=new A(e,t);return n.subscribe.bind(n)}class A{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=R),void 0===r.error&&(r.error=R),void 0===r.complete&&(r.complete=R);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function R(){}function M(e){return e&&e._delegate?e._delegate:e}},131:(e,t,n)=>{"use strict";var r=n(836);t._j=p,t.mi=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.$n=m;var i=r(n(34)),s=r(n(881));function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,s.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}function c(e){if(e.type)return e;if("#"===e.charAt(0))return c(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,i.default)(9,e));let r,s=e.substring(t+1,e.length-1);if("color"===n){if(s=s.split(" "),r=s.shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,i.default)(10,r))}else s=s.split(",");return s=s.map((e=>parseFloat(e))),{type:n,values:s,colorSpace:r}}const l=e=>{const t=c(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=c(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),u({type:a,values:l})}function h(e){let t="hsl"===(e=c(e)).type||"hsla"===e.type?c(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function f(e,t){return e=c(e),t=o(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function p(e,t){if(e=c(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=c(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?p(e,t):m(e,t)}},881:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},721:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:()=>r})},34:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.Z});var r=n(721)},244:(e,t,n)=>{var r=n(447),i=n(51).each;function s(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}s.prototype={constuctor:s,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=s},0:(e,t,n)=>{var r=n(244),i=n(51),s=i.each,o=i.isFunction,a=i.isArray;function c(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}c.prototype={constructor:c,register:function(e,t,n){var i=this.queries,c=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,c)),o(t)&&(t={match:t}),a(t)||(t=[t]),s(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=c},447:e=>{function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},51:e=>{e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},153:(e,t,n)=>{var r=n(0);e.exports=new r},477:(e,t,n)=>{var r=n(806),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,s){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",s<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},95:(e,t,n)=>{var r=NaN,i="[object Symbol]",s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),f=Object.prototype.toString,p=Math.max,m=Math.min,g=function(){return h.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==i}(e))return r;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=a.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=function(e,t,n){var r,i,s,o,a,c,l=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,s=i;return r=i=void 0,l=t,o=e.apply(s,n)}function b(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=s}function w(){var e=g();if(b(e))return x(e);a=setTimeout(w,function(e){var n=t-(e-c);return d?m(n,s-(e-l)):n}(e))}function x(e){return a=void 0,h&&r?f(e):(r=i=void 0,o)}function _(){var e=g(),n=b(e);if(r=arguments,i=this,c=e,n){if(void 0===a)return function(e){return l=e,a=setTimeout(w,t),u?f(e):o}(c);if(d)return a=setTimeout(w,t),f(c)}return void 0===a&&(a=setTimeout(w,t)),o}return t=y(t)||0,v(n)&&(u=!!n.leading,s=(d="maxWait"in n)?p(y(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=c=i=a=void 0},_.flush=function(){return void 0===a?o:x(g())},_}},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var c="\n"+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case C:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,Ee=null;function Ce(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function ke(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function je(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==Se||null!==Ee)&&(je(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Oe=!1}function Re(e,t,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Me=!1,Le=null,Fe=!1,Ue=null,ze={onError:function(e){Me=!0,Le=e}};function Ve(e,t,n,r,i,s,o,a,c){Me=!1,Le=null,Re.apply(ze,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,St,Et,Ct,kt=!1,Tt=[],It=null,jt=null,Nt=null,Pt=new Map,Dt=new Map,Ot=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){kt=!1,null!==It&&Ft(It)&&(It=null),null!==jt&&Ft(jt)&&(jt=null),null!==Nt&&Ft(Nt)&&(Nt=null),Pt.forEach(Ut),Dt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function qt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==jt&&Vt(jt,e),null!==Nt&&Vt(Nt,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var Bt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,s=Bt.transition;Bt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Bt.transition=s}}function Kt(e,t,n,r){var i=bt,s=Bt.transition;Bt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Bt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return jt=Mt(jt,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Mt(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=xe(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(ln),dn=L({},ln,{view:0,detail:0}),hn=sn(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(L({},fn,{dataTransfer:0})),gn=sn(L({},dn,{relatedTarget:0})),vn=sn(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(L({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var kn=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(kn),In=sn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=sn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=sn(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Pn),On=[9,13,27,32],An=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Rn,Ln=u&&(!An||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function $n(e){if(G(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Wn(t,Gn,e,xe(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function sr(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var kr=Cr("animationend"),Tr=Cr("animationiteration"),Ir=Cr("animationstart"),jr=Cr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),c(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Ar=Pr[Or];Dr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Dr(kr,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(jr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,c,l){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Le;Me=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Lr(i,a,l),s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Lr(i,a,l),s=c}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(c=o.tag)||6===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=s,i=xe(n),o=[];e:{var a=Nr.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Tn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=jn;break;case kr:case Tr:case Ir:c=vn;break;case jr:c=Nn;break;case"scroll":c=hn;break;case"wheel":c=Dn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?a:wi(c),f=null==l?a:wi(l),(a=new u(m,p+"leave",c,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",l,n,i)).target=f,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,p=0,f=u=c;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==c&&Qr(o,a,c,u,!1),null!==l&&null!==d&&Qr(o,d,l,u,!0)}if("select"===(c=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=Yn;else if(Hn(a))if(Xn)g=or;else{g=ir;var v=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!An&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=De(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=De(n,s))&&o.unshift(Wr(n,c,a)):i||null!=(c=De(n,s))&&o.push(Wr(n,c,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var _i=[],Si=-1;function Ei(e){return{current:e}}function Ci(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function ki(e,t){Si++,_i[Si]=e.current,e.current=t}var Ti={},Ii=Ei(Ti),ji=Ei(!1),Ni=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ci(ji),Ci(Ii)}function Ai(e,t,n){if(Ii.current!==Ti)throw Error(s(168));ki(Ii,t),ki(ji,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,B(e)||"Unknown",i));return L({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ii.current,ki(Ii,e),ki(ji,ji.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ri(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ci(ji),Ci(Ii),ki(Ii,e)):Ci(ji),ki(ji,n)}var Fi=null,Ui=!1,zi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,qi),i}finally{bt=t,zi=!1}}return null}var Bi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){Bi[Hi++]=Ki,Bi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=Bi[--Hi],Bi[Hi]=null,Ki=Bi[--Hi],Bi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(cs(e))throw Error(s(418));t=li(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=li(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?li(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=li(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Ei(null),ys=null,bs=null,ws=null;function xs(){ws=bs=ys=null}function _s(e){var t=vs.current;Ci(vs),e._currentValue=t}function Ss(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){ys=e,ws=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Cs(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===ys)throw Error(s(308));bs=e,ys.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var ks=null;function Ts(e){null===ks?ks=[e]:ks.push(e)}function Is(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,js(e,r)}function js(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ns=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function As(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,js(e,n)}return null===(i=r.interleaved)?(t.next=t,Ts(r)):(t.next=i.next,i.next=t),r.interleaved=t,js(e,n)}function Rs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ls(e,t,n,r){var i=e.updateQueue;Ns=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var d=i.baseState;for(o=0,u=l=c=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ns=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Lc|=o,e.lanes=o,e.memoizedState=d}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function zs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vs={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Os(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=As(e,s,i))&&(rl(t,e,i,r),Rs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Os(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=As(e,s,i))&&(rl(t,e,i,r),Rs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Os(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=As(e,i,r))&&(rl(t,e,r,n),Rs(t,e,r))}};function qs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function Bs(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Cs(s):(i=Di(t)?Ni:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Ps(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Cs(s):(s=Di(t)?Ni:Ii.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(zs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vs.enqueueReplaceState(i,i.state,null),Ls(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function $s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Al(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case _:return(t=Ul(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);Gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function m(i,s,a,c){for(var l=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===u?l=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),is&&Ji(i,m),l;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],c))&&(s=o(d,s,m),null===u?l=d:u.sibling=d,u=d);return is&&Ji(i,m),l}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Ji(i,m),l}function g(i,a,c,l){var u=R(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=h(i,y.value,l))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,o,c){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var l=o.key,u=s;null!==u;){if(u.key===l){if((l=o.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===D&&Qs(l)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Ks(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((s=Ml(o.props.children,r.mode,c,o.key)).return=r,r=s):((c=Rl(o.type,o.key,o.props,null,r.mode,c)).ref=Ks(r,s,o),c.return=r,r=c)}return a(r);case _:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Ul(o,r.mode,c)).return=r,r=s}return a(r);case D:return e(r,s,(u=o._init)(o._payload),c)}if(te(o))return m(r,s,o,c);if(R(o))return g(r,s,o,c);Gs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fl(o,r.mode,c)).return=r,r=s),a(r)):n(r,s)}}var Ys=$s(!0),Xs=$s(!1),Js={},Zs=Ei(Js),eo=Ei(Js),to=Ei(Js);function no(e){if(e===Js)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Zs),ki(Zs,t)}function io(){Ci(Zs),Ci(eo),Ci(to)}function so(e){no(to.current);var t=no(Zs.current),n=ce(t,e.type);t!==n&&(ki(eo,e),ki(Zs,n))}function oo(e){eo.current===e&&(Ci(Zs),Ci(eo))}var ao=Ei(0);function co(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function uo(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,bo=!1,wo=0,xo=0;function _o(){throw Error(s(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:ca,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=la,e=n(r,i)}while(bo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function Co(){var e=0!==wo;return wo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function To(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Io(e,t){return"function"===typeof t?t(e):t}function jo(e){var t=To(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var c=a=null,l=null,u=o;do{var d=u.lane;if((po&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,a=r):l=l.next=h,mo.lanes|=d,Lc|=d}u=u.next}while(null!==u&&u!==o);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Lc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Do(e,t){var n=mo,r=To(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Ho(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ao.bind(null,n,r,i,t),void 0,null),null===Nc)throw Error(s(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Lo(e)}function Ro(e,t,n){return n((function(){Mo(t)&&Lo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Lo(e){var t=js(e,1);null!==t&&rl(t,e,1,-1)}function Fo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return To().memoizedState}function Vo(e,t,n,r){var i=ko();mo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Uo(t,n,s,r))}mo.flags|=e,i.memoizedState=Uo(1|t,n,s,r)}function Bo(e,t){return Vo(8390656,8,e,t)}function Ho(e,t){return qo(2048,8,e,t)}function Wo(e,t){return qo(4,2,e,t)}function Ko(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,Lc|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=r}}function ea(){return To().memoizedState}function ta(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Is(e,t,n,r))){rl(n,e,r,tl()),sa(n,t,r)}}function na(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var c=t.interleaved;return null===c?(i.next=i,Ts(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Is(e,t,i,r))&&(rl(n,e,r,i=tl()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:Cs,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},aa={readContext:Cs,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Cs,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Fo,useDebugValue:$o,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nc)throw Error(s(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Nc.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ca={readContext:Cs,useCallback:Yo,useContext:Cs,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:jo,useRef:zo,useState:function(){return jo(Io)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),go.memoizedState,e)},useTransition:function(){return[jo(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:ea,unstable_isNewReconciler:!1},la={readContext:Cs,useCallback:Yo,useContext:Cs,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:zo,useState:function(){return No(Io)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===go?t.memoizedState=e:Jo(t,go.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Os(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wc||(Wc=!0,Kc=r),ha(0,t)},n}function ma(e,t,n){(n=Os(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gc?Gc=new Set([this]):Gc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kl.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Os(-1,1)).tag=2,As(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function xa(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Ys(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var s=t.ref;return Es(t,i),r=Eo(e,t,n,r,s,i),n=Co(),null===e||wa?(is&&n&&es(t),t.flags|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ol(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ea(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Al(s,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ta(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ac,Oc),Oc|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Ac,Oc),Oc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Ac,Oc),Oc|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Ac,Oc),Oc|=r;return xa(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var s=Di(n)?Ni:Ii.current;return s=Pi(t,s),Es(t,i),n=Eo(e,t,n,r,s,i),r=Co(),null===e||wa?(is&&r&&es(t),t.flags|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ia(e,t,n,r,i){if(Di(n)){var s=!0;Mi(t)}else s=!1;if(Es(t,i),null===t.stateNode)Ha(e,t),Bs(t,n,r),Ws(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Cs(l):l=Pi(t,l=Di(n)?Ni:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||c!==l)&&Hs(t,o,r,l),Ns=!1;var h=t.memoizedState;o.state=h,Ls(t,r,o,i),c=t.memoizedState,a!==r||h!==c||ji.current||Ns?("function"===typeof u&&(zs(t,n,u,r),c=t.memoizedState),(a=Ns||qs(t,n,a,r,h,c,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ds(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:gs(t.type,a),o.props=l,d=t.pendingProps,h=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=Cs(c):c=Pi(t,c=Di(n)?Ni:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==c)&&Hs(t,o,r,c),Ns=!1,h=t.memoizedState,o.state=h,Ls(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||ji.current||Ns?("function"===typeof f&&(zs(t,n,f,r),p=t.memoizedState),(l=Ns||qs(t,n,l,r,h,p,c)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ja(e,t,n,r,s,i)}function ja(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Wa(e,t,s);r=t.stateNode,ba.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ys(t,e.child,null,s),t.child=Ys(t,null,a,s)):xa(e,t,a,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),ro(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,xa(e,t,n,r),t.child}var Da,Oa,Aa,Ra,Ma={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Ll(c,i,0,null),e=Ml(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Ma,e):Ua(t,c));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=da(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ys(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,za(e,t,a,r=da(o=Error(s(419)),r,void 0))}if(c=0!==(a&e.childLanes),wa||c){if(null!==(r=Nc)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,js(e,i),rl(r,e,i,-1))}return gl(),za(e,t,a,r=da(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=li(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,o,n);if(a){a=i.fallback,c=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Al(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Al(r,a):(a=Ml(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?La(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Al(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&ps(r),Ys(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ss(e.return,t,n)}function qa(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===co(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===co(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,s);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Al(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Al(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Di(t.type)&&Oi(),Ga(t),null;case 3:return r=t.stateNode,io(),Ci(ji),Ci(Ii),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(al(ss),ss=null))),Oa(e,t),Ga(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Aa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=no(Zs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var c in ye(n,o),i=null,o)if(o.hasOwnProperty(c)){var l=o[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[hi]=t,e[fi]=r,Da(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var u=l[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&b(e,o,u,c))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ci(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(al(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Rc&&(Rc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return io(),Oa(e,t),null===e&&qr(t.stateNode.containerInfo),Ga(t),null;case 10:return _s(t.type._context),Ga(t),null;case 19:if(Ci(ao),null===(o=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(c=o.rendering))if(r)Ka(o,!1);else{if(0!==Rc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=co(e))){for(t.flags|=128,Ka(o,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bc&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=co(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!is)return Ga(t),null}else 2*Xe()-o.renderingStartTime>Bc&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Oc)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $a(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(ji),Ci(Ii),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ao),null;case 4:return io(),null;case 10:return _s(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Aa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ur("scroll",e),o||c===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ra=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cl(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Cl(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tc(t,n,s)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var dc=null,hc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||ec(n,t);case 6:var r=dc,i=hc;dc=null,fc(e,t,n),hc=i,null!==(dc=r)&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dc.removeChild(n.stateNode));break;case 18:null!==dc&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),qt(e)):ci(dc,n.stateNode));break;case 4:r=dc,i=hc,dc=n.stateNode.containerInfo,hc=!0,fc(e,t,n),dc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tc(n,t,o),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Xa&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cl(n,t,a)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fc(e,t,n),Xa=r):fc(e,t,n);break;default:fc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=jl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:dc=c.stateNode,hc=!1;break e;case 3:case 4:dc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===dc)throw Error(s(160));pc(o,a,i),dc=null,hc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Cl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),yc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(g){Cl(e,e.return,g)}try{rc(5,e,e.return)}catch(g){Cl(e,e.return,g)}}break;case 1:gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Cl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===o.type&&null!=o.name&&X(i,o),be(c,a);var u=be(c,o);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(c){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Cl(e,e.return,g)}}break;case 6:if(gc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Cl(e,e.return,g)}}break;case 3:if(gc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){Cl(e,e.return,g)}break;case 4:default:gc(t,e),yc(e);break;case 13:gc(t,e),yc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qc=Xe())),4&r&&mc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||d,gc(t,e),Xa=u):gc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cl(r,n,g)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){_c(h);continue}}null!==p?(p.return=f,Za=p):_c(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=h.stateNode,a=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",a))}catch(g){Cl(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Cl(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gc(t,e),yc(e),4&r&&mc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lc(e,cc(e),o);break;default:throw Error(s(161))}}catch(a){Cl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Za=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Xa;a=Ya;var l=Xa;if(Ya=o,(Xa=c)&&!l)for(Za=i;null!==Za;)c=(o=Za).child,22===o.tag&&null!==o.memoizedState?Sc(i):null!==c?(c.return=o,Za=c):Sc(i);for(;null!==s;)Za=s,wc(s,t,n),s=s.sibling;Za=i,Ya=a,Xa=l}xc(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):xc(e)}}function xc(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&sc(t)}catch(f){Cl(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function _c(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Sc(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){Cl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Cl(t,i,c)}}var s=t.return;try{sc(t)}catch(c){Cl(t,s,c)}break;case 5:var o=t.return;try{sc(t)}catch(c){Cl(t,o,c)}}}catch(c){Cl(t,t.return,c)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Ec,Cc=Math.ceil,kc=w.ReactCurrentDispatcher,Tc=w.ReactCurrentOwner,Ic=w.ReactCurrentBatchConfig,jc=0,Nc=null,Pc=null,Dc=0,Oc=0,Ac=Ei(0),Rc=0,Mc=null,Lc=0,Fc=0,Uc=0,zc=null,Vc=null,qc=0,Bc=1/0,Hc=null,Wc=!1,Kc=null,Gc=null,Qc=!1,$c=null,Yc=0,Xc=0,Jc=null,Zc=-1,el=0;function tl(){return 0!==(6&jc)?Xe():-1!==Zc?Zc:Zc=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&jc)&&0!==Dc?Dc&-Dc:null!==ms.transition?(0===el&&(el=mt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<Xc)throw Xc=0,Jc=null,Error(s(185));vt(e,n,r),0!==(2&jc)&&e===Nc||(e===Nc&&(0===(2&jc)&&(Fc|=n),4===Rc&&cl(e,Dc)),il(e,r),1===n&&0===jc&&0===(1&t.mode)&&(Bc=Xe()+500,Ui&&qi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Nc?Dc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(ll.bind(null,e)):Vi(ll.bind(null,e)),oi((function(){0===(6&jc)&&qi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,sl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sl(e,t){if(Zc=-1,el=0,0!==(6&jc))throw Error(s(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=ht(e,e===Nc?Dc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=jc;jc|=2;var o=ml();for(Nc===e&&Dc===t||(Hc=null,Bc=Xe()+500,fl(e,t));;)try{bl();break}catch(c){pl(e,c)}xs(),kc.current=o,jc=i,null!==Pc?t=0:(Nc=null,Dc=0,t=Rc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Mc,fl(e,0),cl(e,r),il(e,Xe()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Mc,fl(e,0),cl(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_l(e,Vc,Hc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=qc+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Vc,Hc),t);break}_l(e,Vc,Hc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cc(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Vc,Hc),r);break}_l(e,Vc,Hc);break;default:throw Error(s(329))}}}return il(e,Xe()),e.callbackNode===n?sl.bind(null,e):null}function ol(e,t){var n=zc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Vc,Vc=n,null!==t&&al(t)),e}function al(e){null===Vc?Vc=e:Vc.push.apply(Vc,e)}function cl(e,t){for(t&=~Uc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&jc))throw Error(s(327));Sl();var t=ht(e,0);if(0===(1&t))return il(e,Xe()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Mc,fl(e,0),cl(e,t),il(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Vc,Hc),il(e,Xe()),null}function ul(e,t){var n=jc;jc|=1;try{return e(t)}finally{0===(jc=n)&&(Bc=Xe()+500,Ui&&qi())}}function dl(e){null!==$c&&0===$c.tag&&0===(6&jc)&&Sl();var t=jc;jc|=1;var n=Ic.transition,r=bt;try{if(Ic.transition=null,bt=1,e)return e()}finally{bt=r,Ic.transition=n,0===(6&(jc=t))&&qi()}}function hl(){Oc=Ac.current,Ci(Ac)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ci(ji),Ci(Ii),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(ao);break;case 10:_s(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Nc=e,Pc=e=Al(e.current,null),Dc=Oc=t,Rc=0,Mc=null,Uc=Fc=Lc=0,Vc=zc=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pl(e,t){for(;;){var n=Pc;try{if(xs(),ho.current=oa,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,bo=!1,wo=0,Tc.current=null,null===n||null===n.return){Rc=1,Mc=t,Pc=null;break}e:{var o=e,a=n.return,c=n,l=t;if(t=Dc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,c,0,t),1&p.mode&&ga(o,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ga(o,u,t),gl();break e}l=Error(s(426))}else if(is&&1&c.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,c,0,t),ps(ua(l,c));break e}}o=l=ua(l,c),4!==Rc&&(Rc=2),null===zc?zc=[o]:zc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,l,t));break e;case 1:c=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gc||!Gc.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ma(o,c,t));break e}}o=o.return}while(null!==o)}xl(n)}catch(w){t=w,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function ml(){var e=kc.current;return kc.current=oa,null===e?oa:e}function gl(){0!==Rc&&3!==Rc&&2!==Rc||(Rc=4),null===Nc||0===(268435455&Lc)&&0===(268435455&Fc)||cl(Nc,Dc)}function vl(e,t){var n=jc;jc|=2;var r=ml();for(Nc===e&&Dc===t||(Hc=null,fl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(xs(),jc=n,kc.current=r,null!==Pc)throw Error(s(261));return Nc=null,Dc=0,Rc}function yl(){for(;null!==Pc;)wl(Pc)}function bl(){for(;null!==Pc&&!$e();)wl(Pc)}function wl(e){var t=Ec(e.alternate,e,Oc);e.memoizedProps=e.pendingProps,null===t?xl(e):Pc=t,Tc.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Oc)))return void(Pc=n)}else{if(null!==(n=$a(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Rc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Rc&&(Rc=5)}function _l(e,t,n){var r=bt,i=Ic.transition;try{Ic.transition=null,bt=1,function(e,t,n,r){do{Sl()}while(null!==$c);if(0!==(6&jc))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Nc&&(Pc=Nc=null,Dc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qc||(Qc=!0,Nl(tt,(function(){return Sl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ic.transition,Ic.transition=null;var a=bt;bt=1;var c=jc;jc|=4,Tc.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var a=0,c=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(c=a+i),h!==o||0!==r&&3!==h.nodeType||(l=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(c=a),f===o&&++d===r&&(l=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){Cl(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nc,nc=!1}(e,n),vc(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bc(n,e,i),Ye(),jc=c,bt=a,Ic.transition=o}else e.current=n;if(Qc&&(Qc=!1,$c=e,Yc=i),o=e.pendingLanes,0===o&&(Gc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wc)throw Wc=!1,e=Kc,Kc=null,e;0!==(1&Yc)&&0!==e.tag&&Sl(),o=e.pendingLanes,0!==(1&o)?e===Jc?Xc++:(Xc=0,Jc=e):Xc=0,qi()}(e,t,n,r)}finally{Ic.transition=i,bt=r}return null}function Sl(){if(null!==$c){var e=wt(Yc),t=Ic.transition,n=bt;try{if(Ic.transition=null,bt=16>e?16:e,null===$c)var r=!1;else{if(e=$c,$c=null,Yc=0,0!==(6&jc))throw Error(s(331));var i=jc;for(jc|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var c=o.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:rc(8,d,o)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var f=(d=Za).sibling,p=d.return;if(oc(d),d===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rc(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(c=Za).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(_){Cl(c,c.return,_)}if(c===a){Za=null;break e}var x=c.sibling;if(null!==x){x.return=c.return,Za=x;break e}Za=c.return}}if(jc=i,qi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Ic.transition=t}}return!1}function El(e,t,n){e=As(e,t=pa(0,t=ua(n,t),1),1),t=tl(),null!==e&&(vt(e,1,t),il(e,t))}function Cl(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gc||!Gc.has(r))){t=As(t,e=ma(t,e=ua(n,e),1),1),e=tl(),null!==t&&(vt(t,1,e),il(t,e));break}}t=t.return}}function kl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Nc===e&&(Dc&n)===n&&(4===Rc||3===Rc&&(130023424&Dc)===Dc&&500>Xe()-qc?fl(e,0):Uc|=n),il(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=js(e,t))&&(vt(e,t,n),il(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function jl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tl(e,n)}function Nl(e,t){return Ge(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,r){return new Pl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Al(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Ol(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Ml(n.children,i,o,t);case E:a=8,i|=8;break;case C:return(e=Dl(12,n,t,2|i)).elementType=C,e.lanes=o,e;case j:return(e=Dl(13,n,t,i)).elementType=j,e.lanes=o,e;case N:return(e=Dl(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Ll(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case T:a=9;break e;case I:a=11;break e;case P:a=14;break e;case D:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Dl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Dl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,s,o,a,c){return e=new zl(e,t,n,a,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ps(s),e}function ql(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ri(e,n,t)}return t}function Bl(e,t,n,r,i,s,o,a,c){return(e=Vl(n,r,!0,e,0,s,0,a,c)).context=ql(null),n=e.current,(s=Os(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,As(n,s,i),e.current.lanes=i,vt(e,i,r),il(e,r),e}function Hl(e,t,n,r){var i=t.current,s=tl(),o=nl(i);return n=ql(n),null===t.context?t.context=n:t.pendingContext=n,(t=Os(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=As(i,t,o))&&(rl(e,i,o,s),Rs(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Ec=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:so(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(ki(ao,1&ao.current),null!==(e=Wa(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return Wa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Es(t,n),i=Eo(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ps(t),i.updater=Vs,t.stateNode=i,i._reactInternals=t,Ws(t,r,e,n),t=ja(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),xa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ds(e,t),Ls(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=li(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wa(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&ls(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Fa(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ys(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!ji.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){a=o.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Os(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ss(o.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ss(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Es(t,n),r=r(i=Cs(i)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Sa(e,t,r,i=gs(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ha(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Es(t,n),Bs(t,r,i),Ws(t,r,i,n),ja(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Ca(e,t,n)}throw Error(s(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Wl(o);a.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wl(o);s.call(e)}}var o=Bl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),dl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wl(c);a.call(e)}}var c=Vl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,qr(8===e.nodeType?e.parentNode:e),dl((function(){Hl(t,c,n,r)})),c}(n,t,e,i,r);return Wl(o)}Yl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hl(e,t,null,null)},Yl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){Hl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Xe()),0===(6&jc)&&(Bc=Xe()+500,qi()))}break;case 13:dl((function(){var t=js(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Gl(e,1)}},_t=function(e){if(13===e.tag){var t=js(e,134217728);if(null!==t)rl(t,e,134217728,tl());Gl(e,134217728)}},St=function(e){if(13===e.tag){var t=nl(e),n=js(e,t);if(null!==n)rl(n,e,t,tl());Gl(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ul,je=dl;var tu={usingClientEntryPoint:!1,Events:[bi,wi,xi,ke,Te,ul]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(s(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bl(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(s(40));return!!e._reactRootContainer&&(dl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},436:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=a(n(791)),s=a(n(418)),o=n(26);function a(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=b();return function(){var n,i=w(e);if(t){var s=w(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}t.PrevArrow=function(e){g(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,s.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,u(u({},n),r)):i.default.createElement("button",c({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent),t.NextArrow=function(e){g(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,s.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,u(u({},n),r)):i.default.createElement("button",c({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent)},484:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};var s={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=s},800:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=a(n(791)),s=a(n(418)),o=n(26);function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){var t=p();return function(){var n,i=m(e);if(t){var s=m(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}t.Dots=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(d,e);var t,n,r,a=f(d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),a.apply(this,arguments)}return t=d,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,a=t.onMouseLeave,u=t.infinite,d=t.slidesToScroll,h=t.slidesToShow,f=t.slideCount,p=t.currentSlide,m=(e={slideCount:f,slidesToScroll:d,slidesToShow:h,infinite:u}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,g={onMouseEnter:n,onMouseOver:r,onMouseLeave:a},v=[],y=0;y<m;y++){var b=(y+1)*d-1,w=u?b:(0,o.clamp)(b,0,f-1),x=w-(d-1),_=u?x:(0,o.clamp)(x,0,f-1),S=(0,s.default)({"slick-active":u?p>=_&&p<=w:p===_}),E={message:"dots",index:y,slidesToScroll:d,currentSlide:p},C=this.clickHandler.bind(this,E);v=v.concat(i.default.createElement("li",{key:y,className:S},i.default.cloneElement(this.props.customPaging(y),{onClick:C})))}return i.default.cloneElement(this.props.appendDots(v),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},g))}}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.PureComponent)},717:(e,t,n)=>{"use strict";t.Z=void 0;var r,i=(r=n(178))&&r.__esModule?r:{default:r};t.Z=i.default},382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0}},293:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(791)),i=h(n(382)),s=h(n(95)),o=h(n(418)),a=n(26),c=n(931),l=n(800),u=n(436),d=h(n(474));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=_();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:String(t)}t.InnerSlider=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(_,e);var t,n,h,g=w(_);function _(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),E(x(t=g.call(this,e)),"listRefHandler",(function(e){return t.list=e})),E(x(t),"trackRefHandler",(function(e){return t.track=e})),E(x(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,a.getHeight)(e)+"px"}})),E(x(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,a.getOnDemandLazySlides)(v(v({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=v({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new d.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),E(x(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),E(x(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,a.getOnDemandLazySlides)(v(v({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=v(v({listRef:t.list,trackRef:t.track},t.props),t.state),s=t.didPropsChange(e);s&&t.updateState(i,s,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),E(x(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,s.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),E(x(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=v(v({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),E(x(t),"updateState",(function(e,n,i){var s=(0,a.initializedState)(e);e=v(v(v({},e),s),{},{slideIndex:s.currentSlide});var o=(0,a.getTrackLeft)(e);e=v(v({},e),{},{left:o});var c=(0,a.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(s.trackStyle=c),t.setState(s,i)})),E(x(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],s=(0,a.getPreClones)(v(v(v({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,a.getPostClones)(v(v(v({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var c=0;c<s;c++)n+=i[i.length-1-c],e+=i[i.length-1-c];for(var l=0;l<o;l++)e+=i[l];for(var u=0;u<t.state.currentSlide;u++)n+=i[u];var d={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");d.left="calc(".concat(d.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:d}}var f=r.default.Children.count(t.props.children),p=v(v(v({},t.props),t.state),{},{slideCount:f}),m=(0,a.getPreClones)(p)+(0,a.getPostClones)(p)+f,g=100/t.props.slidesToShow*m,y=100/m,b=-y*((0,a.getPreClones)(p)+t.state.currentSlide)*g/100;return t.props.centerMode&&(b+=(100-y*g/100)/2),{slideWidth:y+"%",trackStyle:{width:g+"%",left:b+"%"}}})),E(x(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var s=e.onclick;e.onclick=function(t){s(t),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),E(x(t),"progressiveLazyLoad",(function(){for(var e=[],n=v(v({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,a.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,a.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),E(x(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,s=r.beforeChange,o=r.onLazyLoad,c=r.speed,l=r.afterChange,u=t.state.currentSlide,d=(0,a.slideHandler)(v(v(v({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=d.state,f=d.nextState;if(h){s&&s(u,h.currentSlide);var p=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),l&&l(u),delete t.animationEndCallback),t.setState(h,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),f&&(t.animationEndCallback=setTimeout((function(){var e=f.animating,n=m(f,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),l&&l(h.currentSlide),delete t.animationEndCallback}))}),c))}))}})),E(x(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=v(v({},t.props),t.state),i=(0,a.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var s=t.list.querySelectorAll(".slick-current");s[0]&&s[0].focus()}})),E(x(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),E(x(t),"keyHandler",(function(e){var n=(0,a.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),E(x(t),"selectHandler",(function(e){t.changeSlide(e)})),E(x(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),E(x(t),"enableBodyScroll",(function(){window.ontouchmove=null})),E(x(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,a.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),E(x(t),"swipeMove",(function(e){var n=(0,a.swipeMove)(e,v(v(v({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),E(x(t),"swipeEnd",(function(e){var n=(0,a.swipeEnd)(e,v(v(v({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),E(x(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),E(x(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),E(x(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),E(x(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),E(x(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,a.canGoNext)(v(v({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),E(x(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),E(x(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),E(x(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),E(x(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),E(x(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),E(x(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),E(x(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),E(x(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),E(x(t),"render",(function(){var e,n,i,s=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),d=v(v({},t.props),t.state),h=(0,a.extractObject)(d,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),f=t.props.pauseOnHover;if(h=v(v({},h),{},{onMouseEnter:f?t.onTrackOver:null,onMouseLeave:f?t.onTrackLeave:null,onMouseOver:f?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var m=(0,a.extractObject)(d,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),g=t.props.pauseOnDotsHover;m=v(v({},m),{},{clickHandler:t.changeSlide,onMouseEnter:g?t.onDotsLeave:null,onMouseOver:g?t.onDotsOver:null,onMouseLeave:g?t.onDotsLeave:null}),e=r.default.createElement(l.Dots,m)}var y=(0,a.extractObject)(d,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);y.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(u.PrevArrow,y),i=r.default.createElement(u.NextArrow,y));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var w=null;!1===t.props.vertical?!0===t.props.centerMode&&(w={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(w={padding:t.props.centerPadding+" 0px"});var x=v(v({},b),w),_=t.props.touchMove,S={className:"slick-list",style:x,onClick:t.clickHandler,onMouseDown:_?t.swipeStart:null,onMouseMove:t.state.dragging&&_?t.swipeMove:null,onMouseUp:_?t.swipeEnd:null,onMouseLeave:t.state.dragging&&_?t.swipeEnd:null,onTouchStart:_?t.swipeStart:null,onTouchMove:t.state.dragging&&_?t.swipeMove:null,onTouchEnd:_?t.touchEnd:null,onTouchCancel:t.state.dragging&&_?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},E={className:s,dir:"ltr",style:t.props.style};return t.props.unslick&&(S={className:"slick-list"},E={className:s}),r.default.createElement("div",E,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},S),r.default.createElement(c.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=v(v({},i.default),{},{currentSlide:t.props.initialSlide,targetSlide:t.props.initialSlide?t.props.initialSlide:0,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=v(v({},t.state),n),t}return t=_,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var s=i[n];if(!e.hasOwnProperty(s)){t=!0;break}if("object"!==f(e[s])&&"function"!==typeof e[s]&&!isNaN(e[s])&&e[s]!==this.props[s]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&y(t.prototype,n),h&&y(t,h),Object.defineProperty(t,"prototype",{writable:!1}),_}(r.default.Component)},178:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(791)),i=n(293),s=c(n(477)),o=c(n(484)),a=n(26);function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=v();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:String(t)}var x=(0,a.canUseDOM)()&&n(153);t.default=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(d,e);var t,n,c,l=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),b(g(t=l.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),b(g(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),b(g(t),"slickNext",(function(){return t.innerSlider.slickNext()})),b(g(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),b(g(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),b(g(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=d,(n=[{key:"media",value:function(e,t){x.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,s.default)({minWidth:0,maxWidth:n}):(0,s.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,a.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,s.default)({minWidth:t.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){x.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},o.default),this.props),t[0].settings):h(h({},o.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var s=r.default.Children.toArray(this.props.children);s=s.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var c=[],l=null,d=0;d<s.length;d+=e.rows*e.slidesPerRow){for(var f=[],p=d;p<d+e.rows*e.slidesPerRow;p+=e.slidesPerRow){for(var m=[],g=p;g<p+e.slidesPerRow&&(e.variableWidth&&s[g].props.style&&(l=s[g].props.style.width),!(g>=s.length));g+=1)m.push(r.default.cloneElement(s[g],{key:100*d+10*p+g,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(r.default.createElement("div",{key:10*d+p},m))}e.variableWidth?c.push(r.default.createElement("div",{key:d,style:{width:l}},f)):c.push(r.default.createElement("div",{key:d},f))}if("unslick"===e){var v="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:v},s)}return c.length<=e.slidesToShow&&!e.infinite&&(e.unslick=!0),r.default.createElement(i.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(e)),c)}}])&&f(t.prototype,n),c&&f(t,c),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.default.Component)},931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var r=o(n(791)),i=o(n(418)),s=n(26);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=f();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:String(t)}var b=function(e){var t,n,r,i,s;return r=(s=e.rtl?e.slideCount-1-e.index:e.index)<0||s>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-i-1&&s<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":s===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},w=function(e,t){return e.key||t},x=function(e){var t,n=[],o=[],a=[],c=r.default.Children.count(e.children),l=(0,s.lazyStartIndex)(e),u=(0,s.lazyEndIndex)(e);return r.default.Children.forEach(e.children,(function(d,h){var f,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};f=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?d:r.default.createElement("div",null);var m=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(g(g({},e),{},{index:h})),v=f.props.className||"",y=b(g(g({},e),{},{index:h}));if(n.push(r.default.cloneElement(f,{key:"original"+w(f,h),"data-index":h,className:(0,i.default)(y,v),tabIndex:"-1","aria-hidden":!y["slick-active"],style:g(g({outline:"none"},f.props.style||{}),m),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var x=c-h;x<=(0,s.getPreClones)(e)&&((t=-x)>=l&&(f=d),y=b(g(g({},e),{},{index:t})),o.push(r.default.cloneElement(f,{key:"precloned"+w(f,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(y,v),"aria-hidden":!y["slick-active"],style:g(g({},f.props.style||{}),m),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),(t=c+h)<u&&(f=d),y=b(g(g({},e),{},{index:t})),a.push(r.default.cloneElement(f,{key:"postcloned"+w(f,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(y,v),"aria-hidden":!y["slick-active"],style:g(g({},f.props.style||{}),m),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))}})),e.rtl?o.concat(n,a).reverse():o.concat(n,a)};t.Track=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(o,e);var t,n,i,s=d(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(h(e=s.call.apply(s,[this].concat(n))),"node",null),v(h(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=x(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return r.default.createElement("div",c({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&l(t.prototype,n),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.default.PureComponent)},26:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=u,t.extractObject=void 0,t.filterSettings=function(e){return A.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})},t.validSettings=t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=void 0;var r=s(n(791)),i=s(n(484));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return Math.max(t,Math.min(e,n))}var d=t.safePreventDefault=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()},h=t.getOnDemandLazySlides=function(e){for(var t=[],n=f(e),r=p(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t},f=(t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=p(e),i=n;i<r;i++)t.push(i);return t},t.lazyStartIndex=function(e){return e.currentSlide-m(e)}),p=t.lazyEndIndex=function(e){return e.currentSlide+g(e)},m=t.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},g=t.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},v=t.getWidth=function(e){return e&&e.offsetWidth||0},y=t.getHeight=function(e){return e&&e.offsetHeight||0},b=t.getSwipeDirection=function(e){var t,n,r,i,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===s?i>=35&&i<=135?"up":"down":"vertical"},w=t.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},x=(t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n},t.initializedState=function(e){var t,n=r.default.Children.count(e.children),i=e.listRef,s=Math.ceil(v(i)),o=e.trackRef&&e.trackRef.node,a=Math.ceil(v(o));if(e.vertical)t=s;else{var l=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(l*=s/100),t=Math.ceil((s-l)/e.slidesToShow)}var u=i&&y(i.querySelector('[data-index="0"]')),d=u*e.slidesToShow,f=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(f=n-1-e.initialSlide);var p=e.lazyLoadedList||[],m=h(c(c({},e),{},{currentSlide:f,lazyLoadedList:p})),g={slideCount:n,slideWidth:t,listWidth:s,trackWidth:a,currentSlide:f,slideHeight:u,listHeight:d,lazyLoadedList:p=p.concat(m)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g},t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,s=e.index,o=e.slideCount,a=e.lazyLoad,l=e.currentSlide,d=e.centerMode,f=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,g=e.lazyLoadedList;if(t&&n)return{};var v,y,b,x=s,_={},S={},E=i?s:u(s,0,o-1);if(r){if(!i&&(s<0||s>=o))return{};s<0?x=s+o:s>=o&&(x=s-o),a&&g.indexOf(x)<0&&(g=g.concat(x)),_={animating:!0,currentSlide:x,lazyLoadedList:g,targetSlide:x},S={animating:!1,targetSlide:x}}else v=x,x<0?(v=x+o,i?o%f!==0&&(v=o-o%f):v=0):!w(e)&&x>l?x=v=l:d&&x>=o?(x=i?o:o-1,v=i?0:o-1):x>=o&&(v=x-o,i?o%f!==0&&(v=0):v=o-p),!i&&x+p>=o&&(v=o-p),y=T(c(c({},e),{},{slideIndex:x})),b=T(c(c({},e),{},{slideIndex:v})),i||(y===b&&(x=v),y=b),a&&(g=g.concat(h(c(c({},e),{},{currentSlide:x})))),m?(_={animating:!0,currentSlide:v,trackStyle:k(c(c({},e),{},{left:y})),lazyLoadedList:g,targetSlide:E},S={animating:!1,currentSlide:v,trackStyle:C(c(c({},e),{},{left:b})),swipeLeft:null,targetSlide:E}):_={currentSlide:v,trackStyle:C(c(c({},e),{},{left:b})),lazyLoadedList:g,targetSlide:E};return{state:_,nextState:S}},t.changeSlide=function(e,t){var n,r,i,s,o=e.slidesToScroll,a=e.slidesToShow,l=e.slideCount,u=e.currentSlide,d=e.targetSlide,h=e.lazyLoad,f=e.infinite;if(n=l%o!==0?0:(l-u)%o,"previous"===t.message)s=u-(i=0===n?o:a-n),h&&!f&&(s=-1===(r=u-i)?l-1:r),f||(s=d-o);else if("next"===t.message)s=u+(i=0===n?o:n),h&&!f&&(s=(u+o)%l+n),f||(s=d+o);else if("dots"===t.message)s=t.index*t.slidesToScroll;else if("children"===t.message){if(s=t.index,f){var p=P(c(c({},e),{},{targetSlide:s}));s>t.currentSlide&&"left"===p?s-=l:s<t.currentSlide&&"right"===p&&(s+=l)}}else"index"===t.message&&(s=Number(t.index));return s},t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""},t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&d(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}},t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,s=t.swipeToSlide,o=t.verticalSwiping,a=t.rtl,l=t.currentSlide,u=t.edgeFriction,h=t.edgeDragged,f=t.onEdge,p=t.swiped,m=t.swiping,g=t.slideCount,v=t.slidesToScroll,y=t.infinite,x=t.touchObject,_=t.swipeEvent,S=t.listHeight,E=t.listWidth;if(!n){if(r)return d(e);i&&s&&o&&d(e);var k,I={},j=T(t);x.curX=e.touches?e.touches[0].pageX:e.clientX,x.curY=e.touches?e.touches[0].pageY:e.clientY,x.swipeLength=Math.round(Math.sqrt(Math.pow(x.curX-x.startX,2)));var N=Math.round(Math.sqrt(Math.pow(x.curY-x.startY,2)));if(!o&&!m&&N>10)return{scrolling:!0};o&&(x.swipeLength=N);var P=(a?-1:1)*(x.curX>x.startX?1:-1);o&&(P=x.curY>x.startY?1:-1);var D=Math.ceil(g/v),O=b(t.touchObject,o),A=x.swipeLength;return y||(0===l&&("right"===O||"down"===O)||l+1>=D&&("left"===O||"up"===O)||!w(t)&&("left"===O||"up"===O))&&(A=x.swipeLength*u,!1===h&&f&&(f(O),I.edgeDragged=!0)),!p&&_&&(_(O),I.swiped=!0),k=i?j+A*(S/E)*P:a?j-A*P:j+A*P,o&&(k=j+A*P),I=c(c({},I),{},{touchObject:x,swipeLeft:k,trackStyle:C(c(c({},t),{},{left:k}))}),Math.abs(x.curX-x.startX)<.8*Math.abs(x.curY-x.startY)?I:(x.swipeLength>10&&(I.swiping=!0,d(e)),I)}},t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,s=t.listWidth,o=t.touchThreshold,a=t.verticalSwiping,l=t.listHeight,u=t.swipeToSlide,h=t.scrolling,f=t.onSwipe,p=t.targetSlide,m=t.currentSlide,g=t.infinite;if(!n)return r&&d(e),{};var v=a?l/o:s/o,y=b(i,a),w={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return w;if(!i.swipeLength)return w;if(i.swipeLength>v){var x,E;d(e),f&&f(y);var C=g?m:p;switch(y){case"left":case"up":E=C+S(t),x=u?_(t,E):E,w.currentDirection=0;break;case"right":case"down":E=C-S(t),x=u?_(t,E):E,w.currentDirection=1;break;default:x=C}w.triggerSlideHandler=x}else{var I=T(t);w.trackStyle=k(c(c({},t),{},{left:I}))}return w},t.getNavigableIndexes=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i}),_=t.checkNavigable=function(e,t){var n=x(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t},S=t.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+y(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var s=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-s)||1}return e.slidesToScroll},E=t.checkSpecKeys=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)},C=t.getTrackCSS=function(e){var t,n;E(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=N(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=c(c({},i),{},{WebkitTransform:s,transform:o,msTransform:a})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i},k=t.getTrackAnimateCSS=function(e){E(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=C(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},T=t.getTrackLeft=function(e){if(e.unslick)return 0;E(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,s=e.infinite,o=e.centerMode,a=e.slideCount,c=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,h=e.variableWidth,f=e.slideHeight,p=e.fade,m=e.vertical;if(p||1===e.slideCount)return 0;var g=0;if(s?(g=-I(e),a%l!==0&&r+l>a&&(g=-(r>a?c-(r-a):a%l)),o&&(g+=parseInt(c/2))):(a%l!==0&&r+l>a&&(g=c-a%l),o&&(g=parseInt(c/2))),t=m?r*f*-1+g*f:r*u*-1+g*u,!0===h){var v,y=i&&i.node;if(v=r+I(e),t=(n=y&&y.childNodes[v])?-1*n.offsetLeft:0,!0===o){v=s?r+I(e):r,n=y&&y.children[v],t=0;for(var b=0;b<v;b++)t-=y&&y.children[b]&&y.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t},I=t.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},j=t.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},N=t.getTotalSlides=function(e){return 1===e.slideCount?1:I(e)+e.slideCount+j(e)},P=t.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+D(e)?"left":"right":e.targetSlide<e.currentSlide-O(e)?"right":"left"},D=t.slidesOnRight=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var s=(t-1)/2+1;return parseInt(i)>0&&(s+=1),r&&t%2===0&&(s+=1),s}return r?0:t-1},O=t.slidesOnLeft=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var s=(t-1)/2+1;return parseInt(i)>0&&(s+=1),r||t%2!==0||(s+=1),s}return r?t-1:0},A=(t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)},t.validSettings=Object.keys(i.default))},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===s?"."+I(c,0):s,x(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),j(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(c=0,s=""===s?".":s+":",x(e))for(var l=0;l<e.length;l++){var u=s+I(a=e[l],l);c+=j(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=j(a=a.value,t,i,u=s+I(a,l++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function N(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},A={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},474:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,s="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],c="undefined"!==typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&c()}function a(){o(s)}function c(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||s},h=y(0,0,0,0);function f(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],s=e["padding-"+i];t[i]=f(s)}return t}(r),s=i.left+i.right,o=i.top+i.bottom,a=f(r.width),c=f(r.height);if("border-box"===r.boxSizing&&(Math.round(a+s)!==t&&(a-=p(r,"left","right")+s),Math.round(c+o)!==n&&(c-=p(r,"top","bottom")+o)),!function(e){return e===d(e).document.documentElement}(e)){var l=Math.round(a+s)-t,u=Math.round(c+o)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return y(i.left,i.top,a,c)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function v(e){return i?g(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):h}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,s="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(s.prototype);return u(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);u(this,{target:e,contentRect:n})},x=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!==typeof WeakMap?new WeakMap:new r,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new x(t,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));const E="undefined"!==typeof s.ResizeObserver?s.ResizeObserver:S},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(l))m=!0,O(_);else{var t=r(u);null!==t&&A(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!j());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&A(x,d.startTime-n),c=!1}return c}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,k=-1,T=5,I=-1;function j(){return!(t.unstable_now()-I<T)}function N(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"===typeof b)S=function(){b(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=N,S=function(){D.postMessage(null)}}else S=function(){v(N,0)};function O(e){C=e,E||(E=!0,S())}function A(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(g?(y(k),k=-1):g=!0,A(x,s-o))):(e.sortIndex=a,n(l,e),m||p||(m=!0,O(_))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},806:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},418:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},825:(e,t,n)=>{"use strict";n.d(t,{Jn:()=>F,qX:()=>O,Xd:()=>D,wN:()=>A,Mq:()=>z,ZF:()=>U,KN:()=>V});var r=n(258),i=n(781),s=n(854);const o=(e,t)=>t.some((t=>e instanceof t));let a,c;const l=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),v(l.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(y(this),t,...r);return d.set(s,t.sort?t.sort():[t]),v(s)}}function g(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));u.set(e,t)}(e),o(e,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,p):e)}function v(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(v(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&l.set(t,e)})).catch((()=>{})),f.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),f.set(t,e)),t}const y=e=>f.get(e);const b=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],x=new Map;function _(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return x.set(t,s),s}p=(e=>({...e,get:(t,n,r)=>_(t,n)||e.get(t,n,r),has:(t,n)=>!!_(t,n)||e.has(t,n)}))(p);class S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const E="@firebase/app",C="0.9.24",k=new i.Yd("@firebase/app"),T="[DEFAULT]",I={[E]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},j=new Map,N=new Map;function P(e,t){try{e.container.addComponent(t)}catch(n){k.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function D(e){const t=e.name;if(N.has(t))return k.debug("There were multiple attempts to register component ".concat(t,".")),!1;N.set(t,e);for(const n of j.values())P(n,e);return!0}function O(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function A(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;O(e,t).clearInstance(n)}const R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},M=new s.LL("app","Firebase",R);class L{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw M.create("app-deleted",{appName:this._name})}}const F="10.7.0";function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:T,automaticDataCollectionEnabled:!1},t),o=i.name;if("string"!==typeof o||!o)throw M.create("bad-app-name",{appName:String(o)});if(n||(n=(0,s.aH)()),!n)throw M.create("no-options");const a=j.get(o);if(a){if((0,s.vZ)(n,a.options)&&(0,s.vZ)(i,a.config))return a;throw M.create("duplicate-app",{appName:o})}const c=new r.H0(o);for(const r of N.values())c.addComponent(r);const l=new L(n,i,c);return j.set(o,l),l}function z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;const t=j.get(e);if(!t&&e===T&&(0,s.aH)())return U();if(!t)throw M.create("no-app",{appName:e});return t}function V(e,t,n){var i;let s=null!==(i=I[e])&&void 0!==i?i:e;n&&(s+="-".concat(n));const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void k.warn(e.join(" "))}D(new r.wA("".concat(s,"-version"),(()=>({library:s,version:t})),"VERSION"))}const q="firebase-heartbeat-database",B=1,H="firebase-heartbeat-store";let W=null;function K(){return W||(W=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=v(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(v(o.result),e.oldVersion,e.newVersion,v(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(q,B,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(H)}}).catch((e=>{throw M.create("idb-open",{originalErrorMessage:e.message})}))),W}async function G(e,t){try{const n=(await K()).transaction(H,"readwrite"),r=n.objectStore(H);await r.put(t,Q(e)),await n.done}catch(n){if(n instanceof s.ZR)k.warn(n.message);else{const e=M.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});k.warn(e.message)}}}function Q(e){return"".concat(e.name,"!").concat(e.options.appId)}class ${constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new X(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Y();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Y(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),J(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.L)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Y(){return(new Date).toISOString().substring(0,10)}class X{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.hl)()&&(0,s.eu)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await K();return await t.transaction(H).objectStore(H).get(Q(e))}catch(t){if(t instanceof s.ZR)k.warn(t.message);else{const e=M.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});k.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return G(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return G(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function J(e){return(0,s.L)(JSON.stringify({version:2,heartbeats:e})).length}var Z;Z="",D(new r.wA("platform-logger",(e=>new S(e)),"PRIVATE")),D(new r.wA("heartbeat",(e=>new $(e)),"PRIVATE")),V(E,C,Z),V(E,C,"esm2017"),V("fire-js","")},258:(e,t,n)=>{"use strict";n.d(t,{H0:()=>a,wA:()=>i});var r=n(854);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},781:(e,t,n)=>{"use strict";n.d(t,{Yd:()=>l,in:()=>i});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class l{constructor(e){this.name=e,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},481:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbstractUserDataWriter:()=>Em,AggregateField:()=>vp,AggregateQuerySnapshot:()=>yp,Bytes:()=>bp,CACHE_SIZE_UNLIMITED:()=>ep,CollectionReference:()=>Wf,DocumentReference:()=>Hf,DocumentSnapshot:()=>Om,FieldPath:()=>wp,FieldValue:()=>_p,Firestore:()=>tp,FirestoreError:()=>Vr,GeoPoint:()=>Sp,LoadBundleTask:()=>Zf,PersistentCacheIndexManager:()=>kg,Query:()=>Bf,QueryCompositeFilterConstraint:()=>sm,QueryConstraint:()=>tm,QueryDocumentSnapshot:()=>Am,QueryEndAtConstraint:()=>gm,QueryFieldFilterConstraint:()=>rm,QueryLimitConstraint:()=>um,QueryOrderByConstraint:()=>cm,QuerySnapshot:()=>Rm,QueryStartAtConstraint:()=>fm,SnapshotMetadata:()=>Dm,Timestamp:()=>ri,Transaction:()=>gg,WriteBatch:()=>pg,_AutoId:()=>Zr,_ByteString:()=>Ts,_DatabaseId:()=>Ms,_DocumentKey:()=>li,_EmptyAppCheckTokenProvider:()=>Xr,_EmptyAuthCredentialsProvider:()=>Hr,_FieldPath:()=>ci,_TestingHooks:()=>Og,_cast:()=>Ff,_debugAssert:()=>Fr,_isBase64Available:()=>ks,_logWarn:()=>Ar,_validateIsNotUsedTogether:()=>Af,addDoc:()=>Qm,aggregateFieldEqual:()=>Nm,aggregateQuerySnapshotEqual:()=>Pm,and:()=>am,arrayRemove:()=>xg,arrayUnion:()=>wg,average:()=>Im,clearIndexedDbPersistence:()=>lp,collection:()=>Kf,collectionGroup:()=>Gf,connectFirestoreEmulator:()=>qf,count:()=>jm,deleteAllPersistentCacheIndexes:()=>Ng,deleteDoc:()=>Gm,deleteField:()=>yg,disableNetwork:()=>hp,disablePersistentCacheIndexAutoCreation:()=>jg,doc:()=>Qf,documentId:()=>xp,enableIndexedDbPersistence:()=>op,enableMultiTabIndexedDbPersistence:()=>ap,enableNetwork:()=>dp,enablePersistentCacheIndexAutoCreation:()=>Ig,endAt:()=>ym,endBefore:()=>vm,ensureFirestoreConfigured:()=>ip,executeWrite:()=>Xm,getAggregateFromServer:()=>eg,getCountFromServer:()=>Zm,getDoc:()=>Fm,getDocFromCache:()=>zm,getDocFromServer:()=>Vm,getDocs:()=>qm,getDocsFromCache:()=>Bm,getDocsFromServer:()=>Hm,getFirestore:()=>rp,getPersistentCacheIndexManager:()=>Tg,increment:()=>_g,initializeFirestore:()=>np,limit:()=>dm,limitToLast:()=>hm,loadBundle:()=>pp,memoryEagerGarbageCollector:()=>sg,memoryLocalCache:()=>ag,memoryLruGarbageCollector:()=>og,namedQuery:()=>mp,onSnapshot:()=>$m,onSnapshotsInSync:()=>Ym,or:()=>om,orderBy:()=>lm,persistentLocalCache:()=>cg,persistentMultipleTabManager:()=>hg,persistentSingleTabManager:()=>dg,query:()=>nm,queryEqual:()=>Yf,refEqual:()=>$f,runTransaction:()=>vg,serverTimestamp:()=>bg,setDoc:()=>Wm,setIndexConfiguration:()=>Eg,setLogLevel:()=>Pr,snapshotEqual:()=>Lm,startAfter:()=>mm,startAt:()=>pm,sum:()=>Tm,terminate:()=>fp,updateDoc:()=>Km,waitForPendingWrites:()=>up,where:()=>im,writeBatch:()=>Sg});var r,i=n(825),s=n(258),o=n(781),a=n(854),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},l={},u=u||{},d=c||self;function h(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var p="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:v).apply(null,arguments)}function b(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function w(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function x(){this.s=this.s,this.o=this.o}x.prototype.s=!1,x.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,p)&&e[p]||(e[p]=++m))},x.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function S(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function E(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(h(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};d.addEventListener("test",e,t),d.removeEventListener("test",e,t)}catch(n){}return e}();function T(e){return/^[\s\xa0]*$/.test(e)}function I(){var e=d.navigator;return e&&(e=e.userAgent)?e:""}function j(e){return-1!=I().indexOf(e)}function N(e){return N[" "](e),e}N[" "]=function(){};var P,D,O=j("Opera"),A=j("Trident")||j("MSIE"),R=j("Edge"),M=R||A,L=j("Gecko")&&!(-1!=I().toLowerCase().indexOf("webkit")&&!j("Edge"))&&!(j("Trident")||j("MSIE"))&&!j("Edge"),F=-1!=I().toLowerCase().indexOf("webkit")&&!j("Edge");function U(){var e=d.document;return e?e.documentMode:void 0}e:{var z="",V=function(){var e=I();return L?/rv:([^\);]+)(\)|;)/.exec(e):R?/Edge\/([\d\.]+)/.exec(e):A?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):F?/WebKit\/(\S+)/.exec(e):O?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(V&&(z=V?V[1]:""),A){var q=U();if(null!=q&&q>parseFloat(z)){P=String(q);break e}}P=z}if(d.document&&A){var B=U();D=B||(parseInt(P,10)||void 0)}else D=void 0;var H=D;function W(e,t){if(C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(L){e:{try{N(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:K[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&W.$.h.call(this)}}w(W,C);var K={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),Q=0;function $(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Q,this.fa=this.ia=!1}function Y(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function X(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function J(e){const t={};for(const n in e)t[n]=e[n];return t}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Z.length;t++)n=Z[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function te(e){this.src=e,this.g={},this.h=0}function ne(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=_(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Y(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function re(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}te.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=re(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new $(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var ie="closure_lm_"+(1e6*Math.random()|0),se={};function oe(e,t,n,r,i){if(r&&r.once)return ce(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)oe(e,t[s],n,r,i);return null}return n=me(n),e&&e[G]?e.O(t,n,f(r)?!!r.capture:!!r,i):ae(e,t,n,!1,r,i)}function ae(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=f(i)?!!i.capture:!!i,a=fe(e);if(a||(e[ie]=a=new te(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=he;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)k||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(de(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ce(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ce(e,t[s],n,r,i);return null}return n=me(n),e&&e[G]?e.P(t,n,f(r)?!!r.capture:!!r,i):ae(e,t,n,!0,r,i)}function le(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)le(e,t[s],n,r,i);else r=f(r)?!!r.capture:!!r,n=me(n),e&&e[G]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=re(s=e.g[t],n,r,i))&&(Y(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=fe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=re(t,n,r,i)),(n=-1<e?t[e]:null)&&ue(n))}function ue(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[G])ne(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(de(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fe(t))?(ne(n,e),0==n.h&&(n.src=null,t[ie]=null)):Y(e)}}}function de(e){return e in se?se[e]:se[e]="on"+e}function he(e,t){if(e.fa)e=!0;else{t=new W(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ue(e),e=n.call(r,t)}return e}function fe(e){return(e=e[ie])instanceof te?e:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(e){return"function"===typeof e?e:(e[pe]||(e[pe]=function(t){return e.handleEvent(t)}),e[pe])}function ge(){x.call(this),this.i=new te(this),this.S=this,this.J=null}function ve(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var i=t;ee(t=new C(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ye(o,r,!0,t)&&i}if(i=ye(o=t.g=e,r,!0,t)&&i,i=ye(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ye(o=t.g=n[s],r,!1,t)&&i}function ye(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&ne(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}w(ge,x),ge.prototype[G]=!0,ge.prototype.removeEventListener=function(e,t,n,r){le(this,e,t,n,r)},ge.prototype.N=function(){if(ge.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Y(n[r]);delete t.g[e],t.h--}}this.J=null},ge.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ge.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var be=d.JSON.stringify;function we(){var e=Te;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var xe=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new _e),(e=>e.reset()));class _e{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Se(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ee(e){d.setTimeout((()=>{throw e}),0)}let Ce,ke=!1,Te=new class{constructor(){this.h=this.g=null}add(e,t){const n=xe.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ie=()=>{const e=d.Promise.resolve(void 0);Ce=()=>{e.then(je)}};var je=()=>{for(var e;e=we();){try{e.h.call(e.g)}catch(n){Ee(n)}var t=xe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ke=!1};function Ne(e,t){ge.call(this),this.h=e||1,this.g=t||d,this.j=y(this.qb,this),this.l=Date.now()}function Pe(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function De(e,t,n){if("function"===typeof e)n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:d.setTimeout(e,t||0)}function Oe(e){e.g=De((()=>{e.g=null,e.i&&(e.i=!1,Oe(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}w(Ne,ge),(r=Ne.prototype).ga=!1,r.T=null,r.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ve(this,"tick"),this.ga&&(Pe(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){Ne.$.N.call(this),Pe(this),delete this.g};class Ae extends x{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Re(e){x.call(this),this.h=e,this.g={}}w(Re,x);var Me=[];function Le(e,t,n,r){Array.isArray(n)||(n&&(Me[0]=n.toString()),n=Me);for(var i=0;i<n.length;i++){var s=oe(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Fe(e){X(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ue(e)}),e),e.g={}}function Ue(){this.g=!0}function ze(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return be(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Re.prototype.N=function(){Re.$.N.call(this),Fe(this)},Re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ue.prototype.Ea=function(){this.g=!1},Ue.prototype.info=function(){};var Ve={},qe=null;function Be(){return qe=qe||new ge}function He(e){C.call(this,Ve.Ta,e)}function We(e){const t=Be();ve(t,new He(t))}function Ke(e,t){C.call(this,Ve.STAT_EVENT,e),this.stat=t}function Ge(e){const t=Be();ve(t,new Ke(t,e))}function Qe(e,t){C.call(this,Ve.Ua,e),this.size=t}function $e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){e()}),t)}Ve.Ta="serverreachability",w(He,C),Ve.STAT_EVENT="statevent",w(Ke,C),Ve.Ua="timingevent",w(Qe,C);var Ye={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Xe={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Je(){}function Ze(e){return e.h||(e.h=e.i())}function et(){}Je.prototype.h=null;var tt,nt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rt(){C.call(this,"d")}function it(){C.call(this,"c")}function st(){}function ot(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Re(this),this.P=ct,e=M?125:void 0,this.V=new Ne(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new at}function at(){this.i=null,this.g="",this.h=!1}w(rt,C),w(it,C),w(st,Je),st.prototype.g=function(){return new XMLHttpRequest},st.prototype.i=function(){return{}},tt=new st;var ct=45e3,lt={},ut={};function dt(e,t,n){e.L=1,e.A=Nt(Ct(t)),e.u=n,e.S=!0,ht(e,null)}function ht(e,t){e.G=Date.now(),gt(e),e.B=Ct(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Bt(n.i,"t",r),e.o=0,n=e.l.J,e.h=new at,e.g=Hn(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Ae(y(e.Pa,e,e.g),e.O)),Le(e.U,e.g,"readystatechange",e.nb),t=e.I?J(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),We(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function ft(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function pt(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=mt(e,n),r==ut){4==t&&(e.s=4,Ge(14),i=!1),ze(e.j,e.m,null,"[Incomplete Response]");break}if(r==lt){e.s=4,Ge(15),ze(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ze(e.j,e.m,r,null),xt(e,r)}ft(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Ge(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mn(t),t.M=!0,Ge(11))):(ze(e.j,e.m,n,"[Invalid Chunked Response]"),wt(e),bt(e))}function mt(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?ut:(n=Number(t.substring(n,r)),isNaN(n)?lt:(r+=1)+n>t.length?ut:(t=t.slice(r,r+n),e.o=r+n,t))}function gt(e){e.Y=Date.now()+e.P,vt(e,e.P)}function vt(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=$e(y(e.lb,e),t)}function yt(e){e.C&&(d.clearTimeout(e.C),e.C=null)}function bt(e){0==e.l.H||e.J||Un(e.l,e)}function wt(e){yt(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Pe(e.V),Fe(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function xt(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||$t(n.i,e)))if(!e.K&&$t(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Fn(n),In(n)}Rn(n),Ge(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=$e(y(n.ib,n),6e3));if(1>=Qt(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else Vn(n,11)}else if((e.K||n.g==e)&&Fn(n),!T(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Yt(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,jt(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Bn(r,r.J?r.pa:null,r.Y),o.K){Xt(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(yt(a),gt(a)),r.g=o}else An(r);0<n.j.length&&Nn(n)}else"stop"!=l[0]&&"close"!=l[0]||Vn(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Vn(n,7):Tn(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}We()}catch(l){}}function _t(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(h(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(h(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(r=ot.prototype).setTimeout=function(e){this.P=e},r.nb=function(e){e=e.target;const t=this.M;t&&3==xn(e)?t.l():this.Pa(e)},r.Pa=function(e){try{if(e==this.g)e:{const u=xn(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||M||this.g&&(this.h.h||this.g.ja()||_n(this.g)))){this.J||4!=u||7==t||We(),yt(this);var n=this.g.da();this.ca=n;t:if(ft(this)){var r=_n(this.g);e="";var i=r.length,s=4==xn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){wt(this),bt(this);var o="";break t}this.h.i=new d.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,Ge(12),wt(this),bt(this);break e}ze(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xt(this,n)}this.S?(pt(this,u,o),M&&this.i&&3==u&&(Le(this.U,this.V,"tick",this.mb),this.V.start())):(ze(this.j,this.m,o,null),xt(this,o)),4==u&&wt(this),this.i&&!this.J&&(4==u?Un(this.l,this):(this.i=!1,gt(this)))}else(function(e){const t={};e=(e.g&&2<=xn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(T(e[r]))continue;var n=Se(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),wt(this),bt(this)}}}catch(u){}},r.mb=function(){if(this.g){var e=xn(this.g),t=this.g.ja();this.o<t.length&&(yt(this),pt(this,e,t),this.i&&4!=e&&gt(this))}},r.cancel=function(){this.J=!0,wt(this)},r.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(We(),Ge(17)),wt(this),this.s=2,bt(this)):vt(this,this.Y-e)};var St=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Et(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Et){this.h=e.h,kt(this,e.j),this.s=e.s,this.g=e.g,Tt(this,e.m),this.l=e.l;var t=e.i,n=new Ut;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),It(this,n),this.o=e.o}else e&&(t=String(e).match(St))?(this.h=!1,kt(this,t[1]||"",!0),this.s=Pt(t[2]||""),this.g=Pt(t[3]||"",!0),Tt(this,t[4]),this.l=Pt(t[5]||"",!0),It(this,t[6]||"",!0),this.o=Pt(t[7]||"")):(this.h=!1,this.i=new Ut(null,this.h))}function Ct(e){return new Et(e)}function kt(e,t,n){e.j=n?Pt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Tt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function It(e,t,n){t instanceof Ut?(e.i=t,function(e,t){t&&!e.j&&(zt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Vt(this,t),Bt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Dt(t,Lt)),e.i=new Ut(t,e.h))}function jt(e,t,n){e.i.set(t,n)}function Nt(e){return jt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Pt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ot),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ot(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Et.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Dt(t,At,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Dt(t,At,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Dt(n,"/"==n.charAt(0)?Mt:Rt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Dt(n,Ft)),e.join("")};var At=/[#\/\?@]/g,Rt=/[#\?:]/g,Mt=/[#\?]/g,Lt=/[#\?@]/g,Ft=/#/g;function Ut(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Vt(e,t){zt(e),t=Ht(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function qt(e,t){return zt(e),t=Ht(e,t),e.g.has(t)}function Bt(e,t,n){Vt(e,t),0<n.length&&(e.i=null,e.g.set(Ht(e,t),S(n)),e.h+=n.length)}function Ht(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Ut.prototype).add=function(e,t){zt(this),this.i=null,e=Ht(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){zt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.ta=function(){zt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.Z=function(e){zt(this);let t=[];if("string"===typeof e)qt(this,e)&&(t=t.concat(this.g.get(Ht(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return zt(this),this.i=null,qt(this,e=Ht(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Wt(e){this.l=e||Kt,d.PerformanceNavigationTiming?e=0<(e=d.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(d.g&&d.g.Ka&&d.g.Ka()&&d.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Kt=10;function Gt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qt(e){return e.h?1:e.g?e.g.size:0}function $t(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Yt(e,t){e.g?e.g.add(t):e.h=t}function Xt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Jt(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return S(e.i)}Wt.prototype.cancel=function(){if(this.i=Jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Zt,en=class{stringify(e){return d.JSON.stringify(e,void 0)}parse(e){return d.JSON.parse(e,void 0)}};function tn(){this.g=new en}function nn(e,t,n){const r=n||"";try{_t(e,(function(e,n){let i=e;f(e)&&(i=be(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function rn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function sn(e){this.l=e.ec||null,this.j=e.ob||!1}function on(e,t){ge.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=an,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}w(sn,Je),sn.prototype.g=function(){return new on(this.l,this.j)},sn.prototype.i=(Zt={},function(){return Zt}),w(on,ge);var an=0;function cn(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ln(e){e.readyState=4,e.l=null,e.j=null,e.A=null,un(e)}function un(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=on.prototype).open=function(e,t){if(this.readyState!=an)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,un(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||d).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ln(this)),this.readyState=an},r.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,un(this)),this.g&&(this.readyState=3,un(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof d.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cn(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ln(this):un(this),3==this.readyState&&cn(this)}},r.Za=function(e){this.g&&(this.response=this.responseText=e,ln(this))},r.Ya=function(e){this.g&&(this.response=e,ln(this))},r.ka=function(){this.g&&ln(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(on.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var dn=d.JSON.parse;function hn(e){ge.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fn,this.L=this.M=!1}w(hn,ge);var fn="",pn=/^https?$/i,mn=["POST","PUT"];function gn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vn(e),bn(e)}function vn(e){e.F||(e.F=!0,ve(e,"complete"),ve(e,"error"))}function yn(e){if(e.h&&"undefined"!=typeof u&&(!e.C[1]||4!=xn(e)||2!=e.da()))if(e.v&&4==xn(e))De(e.La,0,e);else if(ve(e,"readystatechange"),4==xn(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(St)[1]||null;!i&&d.self&&d.self.location&&(i=d.self.location.protocol.slice(0,-1)),r=!pn.test(i?i.toLowerCase():"")}n=r}if(n)ve(e,"complete"),ve(e,"success");else{e.m=6;try{var s=2<xn(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",vn(e)}}finally{bn(e)}}}function bn(e,t){if(e.g){wn(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ve(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function wn(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(d.clearTimeout(e.A),e.A=null)}function xn(e){return e.g?e.g.readyState:0}function _n(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case fn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(jr){return null}}function Sn(e){let t="";return X(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function En(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Sn(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):jt(e,t,n))}function Cn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kn(e){this.Ga=0,this.j=[],this.l=new Ue,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Cn("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Cn("baseRetryDelayMs",5e3,e),this.hb=Cn("retryDelaySeedMs",1e4,e),this.eb=Cn("forwardChannelMaxRetries",2,e),this.xa=Cn("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Wt(e&&e.concurrentRequestLimit),this.Ja=new tn,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Tn(e){if(jn(e),3==e.H){var t=e.W++,n=Ct(e.I);if(jt(n,"SID",e.K),jt(n,"RID",t),jt(n,"TYPE","terminate"),Dn(e,n),(t=new ot(e,e.l,t)).L=2,t.A=Nt(Ct(n)),n=!1,d.navigator&&d.navigator.sendBeacon)try{n=d.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&d.Image&&((new Image).src=t.A,n=!0),n||(t.g=Hn(t.l,null),t.g.ha(t.A)),t.G=Date.now(),gt(t)}qn(e)}function In(e){e.g&&(Mn(e),e.g.cancel(),e.g=null)}function jn(e){In(e),e.u&&(d.clearTimeout(e.u),e.u=null),Fn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&d.clearTimeout(e.m),e.m=null)}function Nn(e){if(!Gt(e.i)&&!e.m){e.m=!0;var t=e.Na;Ce||Ie(),ke||(Ce(),ke=!0),Te.add(t,e),e.C=0}}function Pn(e,t){var n;n=t?t.m:e.W++;const r=Ct(e.I);jt(r,"SID",e.K),jt(r,"RID",n),jt(r,"AID",e.V),Dn(e,r),e.o&&e.s&&En(r,e.o,e.s),n=new ot(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=On(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Yt(e.i,n),dt(n,r,t)}function Dn(e,t){e.na&&X(e.na,(function(e,n){jt(t,n,e)})),e.h&&_t({},(function(e,n){jt(t,n,e)}))}function On(e,t,n){n=Math.min(e.j.length,n);var r=e.h?y(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{nn(a,e,"req"+n+"_")}catch(Xi){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function An(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ce||Ie(),ke||(Ce(),ke=!0),Te.add(t,e),e.A=0}}function Rn(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=$e(y(e.Ma,e),zn(e,e.A)),e.A++,!0)}function Mn(e){null!=e.B&&(d.clearTimeout(e.B),e.B=null)}function Ln(e){e.g=new ot(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ct(e.wa);jt(t,"RID","rpc"),jt(t,"SID",e.K),jt(t,"AID",e.V),jt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&jt(t,"TO",e.qa),jt(t,"TYPE","xmlhttp"),Dn(e,t),e.o&&e.s&&En(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Nt(Ct(t)),n.u=null,n.S=!0,ht(n,e)}function Fn(e){null!=e.v&&(d.clearTimeout(e.v),e.v=null)}function Un(e,t){var n=null;if(e.g==t){Fn(e),Mn(e),e.g=null;var r=2}else{if(!$t(e.i,t))return;n=t.F,Xt(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;ve(r=Be(),new Qe(r,n)),Nn(e)}else An(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Qt(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=$e(y(e.Na,e,t),zn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Rn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Vn(e,5);break;case 4:Vn(e,10);break;case 3:Vn(e,6);break;default:Vn(e,2)}}function zn(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Vn(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=y(e.pb,e);n||(n=new Et("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||kt(n,"https"),Nt(n)),function(e,t){const n=new Ue;if(d.Image){const r=new Image;r.onload=b(rn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=b(rn,n,r,"TestLoadImage: error",!1,t),r.onabort=b(rn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=b(rn,n,r,"TestLoadImage: timeout",!1,t),d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ge(2);e.H=0,e.h&&e.h.za(t),qn(e),jn(e)}function qn(e){if(e.H=0,e.ma=[],e.h){const t=Jt(e.i);0==t.length&&0==e.j.length||(E(e.ma,t),E(e.ma,e.j),e.i.i.length=0,S(e.j),e.j.length=0),e.h.ya()}}function Bn(e,t,n){var r=n instanceof Et?Ct(n):new Et(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Tt(r,r.m);else{var i=d.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Et(null);r&&kt(s,r),t&&(s.g=t),i&&Tt(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&jt(r,n,t),jt(r,"VER",e.ra),Dn(e,r),r}function Hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new hn(new sn({ob:n})):new hn(e.va)).Oa(e.J),t}function Wn(){}function Kn(){if(A&&!(10<=Number(H)))throw Error("Environmental error: no available transport.")}function Gn(e,t){ge.call(this),this.g=new kn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!T(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Yn(this)}function Qn(e){rt.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $n(){it.call(this),this.status=1}function Yn(e){this.g=e}function Xn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Jn(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Zn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(r=hn.prototype).Oa=function(e){this.M=e},r.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tt.g(),this.C=this.u?Ze(this.u):Ze(tt),this.g.onreadystatechange=y(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void gn(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=d.FormData&&e instanceof d.FormData,!(0<=_(mn,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wn(this),0<this.B&&((this.L=function(e){return A&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=y(this.ua,this)):this.A=De(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){gn(this,s)}},r.ua=function(){"undefined"!=typeof u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ve(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ve(this,"complete"),ve(this,"abort"),bn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bn(this,!0)),hn.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?yn(this):this.kb())},r.kb=function(){yn(this)},r.isActive=function(){return!!this.g},r.da=function(){try{return 2<xn(this)?this.g.status:-1}catch(Zt){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(Zt){return""}},r.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),dn(t)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=kn.prototype).ra=8,r.H=1,r.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ot(this,this.l,e);let s=this.s;if(this.U&&(s?(s=J(s),ee(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=On(this,i,t),jt(n=Ct(this.I),"RID",e),jt(n,"CVER",22),this.F&&jt(n,"X-HTTP-Session-Id",this.F),Dn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Sn(s)))+"&"+t:this.o&&En(n,this.o,s)),Yt(this.i,i),this.bb&&jt(n,"TYPE","init"),this.P?(jt(n,"$req",t),jt(n,"SID","null"),i.aa=!0,dt(i,n,null)):dt(i,n,t),this.H=2}}else 3==this.H&&(e?Pn(this,e):0==this.j.length||Gt(this.i)||Pn(this))},r.Ma=function(){if(this.u=null,Ln(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=$e(y(this.jb,this),e)}},r.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ge(10),In(this),Ln(this))},r.ib=function(){null!=this.v&&(this.v=null,In(this),Rn(this),Ge(19))},r.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ge(2)):(this.l.info("Failed to ping google.com"),Ge(1))},r.isActive=function(){return!!this.h&&this.h.isActive(this)},(r=Wn.prototype).Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.isActive=function(){return!0},r.Va=function(){},Kn.prototype.g=function(e,t){return new Gn(e,t)},w(Gn,ge),Gn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ge(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Bn(e,null,e.Y),Nn(e)},Gn.prototype.close=function(){Tn(this.g)},Gn.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=be(e),e=n);t.j.push(new class{constructor(e,t){this.g=e,this.map=t}}(t.fb++,e)),3==t.H&&Nn(t)},Gn.prototype.N=function(){this.g.h=null,delete this.j,Tn(this.g),delete this.g,Gn.$.N.call(this)},w(Qn,rt),w($n,it),w(Yn,Wn),Yn.prototype.Ba=function(){ve(this.g,"a")},Yn.prototype.Aa=function(e){ve(this.g,new Qn(e))},Yn.prototype.za=function(e){ve(this.g,new $n)},Yn.prototype.ya=function(){ve(this.g,"b")},w(Xn,(function(){this.blockSize=-1})),Xn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Xn.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Jn(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Jn(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Jn(this,r),i=0;break}}this.h=i,this.i+=t},Xn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var er={};function tr(e){return-128<=e&&128>e?function(e,t){var n=er;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Zn([0|e],0>e?-1:0)})):new Zn([0|e],0>e?-1:0)}function nr(e){if(isNaN(e)||!isFinite(e))return ir;if(0>e)return lr(nr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=rr;return new Zn(t,0)}var rr=4294967296,ir=tr(0),sr=tr(1),or=tr(16777216);function ar(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function cr(e){return-1==e.h}function lr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Zn(n,~e.h).add(sr)}function ur(e,t){return e.add(lr(t))}function dr(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function hr(e,t){this.g=e,this.h=t}function fr(e,t){if(ar(t))throw Error("division by zero");if(ar(e))return new hr(ir,ir);if(cr(e))return t=fr(lr(e),t),new hr(lr(t.g),lr(t.h));if(cr(t))return t=fr(e,lr(t)),new hr(lr(t.g),t.h);if(30<e.g.length){if(cr(e)||cr(t))throw Error("slowDivide_ only works with positive integers.");for(var n=sr,r=t;0>=r.X(e);)n=pr(n),r=pr(r);var i=mr(n,1),s=mr(r,1);for(r=mr(r,2),n=mr(n,2);!ar(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=mr(r,1),n=mr(n,1)}return t=ur(e,i.R(t)),new hr(i,t)}for(i=ir;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=nr(n)).R(t);cr(o)||0<o.X(e);)o=(s=nr(n-=r)).R(t);ar(s)&&(s=sr),i=i.add(s),e=ur(e,o)}return new hr(i,e)}function pr(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Zn(n,e.h)}function mr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Zn(i,e.h)}(r=Zn.prototype).ea=function(){if(cr(this))return-lr(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:rr+r)*t,t*=rr}return e},r.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ar(this))return"0";if(cr(this))return"-"+lr(this).toString(e);for(var t=nr(Math.pow(e,6)),n=this,r="";;){var i=fr(n,t).g,s=((0<(n=ur(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ar(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},r.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.X=function(e){return cr(e=ur(this,e))?-1:ar(e)?0:1},r.abs=function(){return cr(this)?lr(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Zn(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(e){if(ar(this)||ar(e))return ir;if(cr(this))return cr(e)?lr(this).R(lr(e)):lr(lr(this).R(e));if(cr(e))return lr(this.R(lr(e)));if(0>this.X(or)&&0>e.X(or))return nr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=o*c,dr(n,2*r+2*i),n[2*r+2*i+1]+=s*c,dr(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,dr(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,dr(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Zn(n,0)},r.gb=function(e){return fr(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Zn(n,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Zn(n,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Zn(n,this.h^e.h)},Kn.prototype.createWebChannel=Kn.prototype.g,Gn.prototype.send=Gn.prototype.u,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Ye.NO_ERROR=0,Ye.TIMEOUT=8,Ye.HTTP_ERROR=6,Xe.COMPLETE="complete",et.EventType=nt,nt.OPEN="a",nt.CLOSE="b",nt.ERROR="c",nt.MESSAGE="d",ge.prototype.listen=ge.prototype.O,hn.prototype.listenOnce=hn.prototype.P,hn.prototype.getLastError=hn.prototype.Sa,hn.prototype.getLastErrorCode=hn.prototype.Ia,hn.prototype.getStatus=hn.prototype.da,hn.prototype.getResponseJson=hn.prototype.Wa,hn.prototype.getResponseText=hn.prototype.ja,hn.prototype.send=hn.prototype.ha,hn.prototype.setWithCredentials=hn.prototype.Oa,Xn.prototype.digest=Xn.prototype.l,Xn.prototype.reset=Xn.prototype.reset,Xn.prototype.update=Xn.prototype.j,Zn.prototype.add=Zn.prototype.add,Zn.prototype.multiply=Zn.prototype.R,Zn.prototype.modulo=Zn.prototype.gb,Zn.prototype.compare=Zn.prototype.X,Zn.prototype.toNumber=Zn.prototype.ea,Zn.prototype.toString=Zn.prototype.toString,Zn.prototype.getBits=Zn.prototype.D,Zn.fromNumber=nr,Zn.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return lr(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=nr(Math.pow(n,8)),i=ir,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=nr(Math.pow(n,o)),i=i.R(o).add(nr(a))):i=(i=i.R(r)).add(nr(a))}return i};var gr=l.createWebChannelTransport=function(){return new Kn},vr=l.getStatEventTarget=function(){return Be()},yr=l.ErrorCode=Ye,br=l.EventType=Xe,wr=l.Event=Ve,xr=l.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_r=(l.FetchXmlHttpFactory=sn,l.WebChannel=et),Sr=l.XhrIo=hn,Er=l.Md5=Xn,Cr=l.Integer=Zn;const kr="@firebase/firestore";class Tr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");let Ir="10.7.0";const jr=new o.Yd("@firebase/firestore");function Nr(){return jr.logLevel}function Pr(e){jr.setLogLevel(e)}function Dr(e){if(jr.logLevel<=o.in.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Rr);jr.debug("Firestore (".concat(Ir,"): ").concat(e),...i)}}function Or(e){if(jr.logLevel<=o.in.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Rr);jr.error("Firestore (".concat(Ir,"): ").concat(e),...i)}}function Ar(e){if(jr.logLevel<=o.in.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Rr);jr.warn("Firestore (".concat(Ir,"): ").concat(e),...i)}}function Rr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ir,") INTERNAL ASSERTION FAILED: ")+e;throw Or(t),new Error(t)}function Lr(e,t){e||Mr()}function Fr(e,t){e||Mr()}function Ur(e,t){return e}const zr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vr extends a.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class qr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Br{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Hr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Tr.UNAUTHENTICATED)))}shutdown(){}}class Wr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Kr{constructor(e){this.t=e,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qr,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Dr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Dr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qr)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Dr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Lr("string"==typeof t.accessToken),new Br(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lr(null===e||"string"==typeof e),new Tr(e)}}class Gr{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Tr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qr{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Gr(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Tr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $r{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Dr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Dr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Dr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Dr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Lr("string"==typeof e.token),this.R=e.token,new $r(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Xr{getToken(){return Promise.resolve(new $r(""))}invalidateToken(){}start(e,t){}shutdown(){}}function Jr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Zr{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Jr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ei(e,t){return e<t?-1:e>t?1:0}function ti(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function ni(e){return e+"\0"}class ri{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Vr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ri.fromMillis(Date.now())}static fromDate(e){return ri.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ri(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ei(this.nanoseconds,e.nanoseconds):ei(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ii{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ii(e)}static min(){return new ii(new ri(0,0))}static max(){return new ii(new ri(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class si{constructor(e,t,n){void 0===t?t=0:t>e.length&&Mr(),void 0===n?n=e.length-t:n>e.length-t&&Mr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===si.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class oi extends si{construct(e,t,n){return new oi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Vr(zr.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new oi(e)}static emptyPath(){return new oi([])}}const ai=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ci extends si{construct(e,t,n){return new ci(e,t,n)}static isValidIdentifier(e){return ai.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ci.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ci(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Vr(zr.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Vr(zr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Vr(zr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Vr(zr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ci(t)}static emptyPath(){return new ci([])}}class li{constructor(e){this.path=e}static fromPath(e){return new li(oi.fromString(e))}static fromName(e){return new li(oi.fromString(e).popFirst(5))}static empty(){return new li(oi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new li(new oi(e.slice()))}}class ui{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function di(e){return e.fields.find((e=>2===e.kind))}function hi(e){return e.fields.filter((e=>2!==e.kind))}function fi(e,t){let n=ei(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(n=mi(e.fields[r],t.fields[r]),0!==n)return n;return ei(e.fields.length,t.fields.length)}ui.UNKNOWN_ID=-1;class pi{constructor(e,t){this.fieldPath=e,this.kind=t}}function mi(e,t){const n=ci.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:ei(e.kind,t.kind)}class gi{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gi(0,bi.min())}}function vi(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ii.fromTimestamp(1e9===r?new ri(n+1,0):new ri(n,r));return new bi(i,li.empty(),t)}function yi(e){return new bi(e.readTime,e.key,-1)}class bi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new bi(ii.min(),li.empty(),-1)}static max(){return new bi(ii.max(),li.empty(),-1)}}function wi(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=li.comparator(e.documentKey,t.documentKey),0!==n?n:ei(e.largestBatchId,t.largestBatchId))}const xi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _i{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Si(e){if(e.code!==zr.FAILED_PRECONDITION||e.message!==xi)throw e;Dr("LocalStore","Unexpectedly lost primary lease")}class Ei{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ei(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ei?t:Ei.resolve(t)}catch(e){return Ei.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ei.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ei.reject(t)}static resolve(e){return new Ei(((t,n)=>{t(e)}))}static reject(e){return new Ei(((t,n)=>{n(e)}))}static waitFor(e){return new Ei(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Ei.resolve(!1);for(const n of e)t=t.next((e=>e?Ei.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ei(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ei(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Ci{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new qr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Ii(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Oi(t.target.error);this.V.reject(new Ii(e,n))}}static open(e,t,n,r){try{return new Ci(t,e.transaction(r,n))}catch(e){throw new Ii(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Dr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ni(t)}}class ki{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===ki.S((0,a.z$)())&&Or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Dr("SimpleDb","Removing database:",e),Pi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,a.hl)())return!1;if(ki.C())return!0;const e=(0,a.z$)(),t=ki.S(e),n=0<t&&t<10,r=ki.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/bar-menu.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Dr("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ii(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Vr(zr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Vr(zr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ii(e,r))},r.onupgradeneeded=e=>{Dr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Dr("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Ci.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Ei.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Dr("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Ti{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Pi(this.k.delete())}}class Ii extends Vr{constructor(e,t){super(zr.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function ji(e){return"IndexedDbTransactionError"===e.name}class Ni{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Dr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Dr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Pi(n)}add(e){return Dr("SimpleDb","ADD",this.store.name,e,e),Pi(this.store.add(e))}get(e){return Pi(this.store.get(e)).next((t=>(void 0===t&&(t=null),Dr("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Dr("SimpleDb","DELETE",this.store.name,e),Pi(this.store.delete(e))}count(){return Dr("SimpleDb","COUNT",this.store.name),Pi(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Ei(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Ei(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Dr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Ei(((n,r)=>{t.onerror=e=>{const t=Oi(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Ei(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Ti(i),o=t(i.primaryKey,i.value,s);if(o instanceof Ei){const e=o.catch((e=>(s.done(),Ei.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Ei.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pi(e){return new Ei(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Oi(e.target.error);n(t)}}))}let Di=!1;function Oi(e){const t=ki.S((0,a.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Vr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Di||(Di=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ai{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Dr("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Dr("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){ji(e)?Dr("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Si(e)}await this.ee(6e4)}))}}class Ri{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Ei.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Dr("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Dr("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=yi(t);wi(r,n)>0&&(n=r)})),new bi(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Mi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Li(e){return null==e}function Fi(e){return 0===e&&1/e==-1/0}function Ui(e){return"number"==typeof e&&Number.isInteger(e)&&!Fi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function zi(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=qi(t)),t=Vi(e.get(n),t);return qi(t)}function Vi(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function qi(e){return e+"\x01\x01"}function Bi(e){const t=e.length;if(Lr(t>=2),2===t)return Lr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),oi.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Mr(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Mr()}s=t+2}return new oi(r)}Mi._e=-1;const Hi=["userId","batchId"];function Wi(e,t){return[e,zi(t)]}function Ki(e,t,n){return[e,zi(t),n]}const Gi={},Qi=["prefixPath","collectionGroup","readTime","documentId"],$i=["prefixPath","collectionGroup","documentId"],Yi=["collectionGroup","readTime","prefixPath","documentId"],Xi=["canonicalId","targetId"],Ji=["targetId","path"],Zi=["path","targetId"],es=["collectionId","parent"],ts=["indexId","uid"],ns=["uid","sequenceNumber"],rs=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],is=["indexId","uid","orderedDocumentKey"],ss=["userId","collectionPath","documentId"],os=["userId","collectionPath","largestBatchId"],as=["userId","collectionGroup","largestBatchId"],cs=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ls=[...cs,"documentOverlays"],us=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ds=us,hs=[...ds,"indexConfiguration","indexState","indexEntries"];class fs extends _i{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function ps(e,t){const n=Ur(e);return ki.M(n.ae,t)}function ms(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function gs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vs(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ys{constructor(e,t){this.comparator=e,this.root=t||ws.EMPTY}insert(e,t){return new ys(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ws.BLACK,null,null))}remove(e){return new ys(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ws.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bs(this.root,e,this.comparator,!1)}getReverseIterator(){return new bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bs(this.root,e,this.comparator,!0)}}class bs{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ws{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ws.RED,this.left=null!=r?r:ws.EMPTY,this.right=null!=i?i:ws.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ws(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ws.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ws.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ws.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ws.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mr();if(this.right.isRed())throw Mr();const e=this.left.check();if(e!==this.right.check())throw Mr();return e+(this.isRed()?0:1)}}ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1,ws.EMPTY=new class{constructor(){this.size=0}get key(){throw Mr()}get value(){throw Mr()}get color(){throw Mr()}get left(){throw Mr()}get right(){throw Mr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ws(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xs{constructor(e){this.comparator=e,this.data=new ys(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _s(this.data.getIterator())}getIteratorFrom(e){return new _s(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof xs))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xs(this.comparator);return t.data=e,t}}class _s{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ss(e){return e.hasNext()?e.getNext():void 0}class Es{constructor(e){this.fields=e,e.sort(ci.comparator)}static empty(){return new Es([])}unionWith(e){let t=new xs(ci.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Es(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ti(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Cs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function ks(){return"undefined"!=typeof atob}class Ts{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Cs("Invalid base64 string: "+e):e}}(e);return new Ts(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ts(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ei(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ts.EMPTY_BYTE_STRING=new Ts("");const Is=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(e){if(Lr(!!e),"string"==typeof e){let t=0;const n=Is.exec(e);if(Lr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ns(e.seconds),nanos:Ns(e.nanos)}}function Ns(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ps(e){return"string"==typeof e?Ts.fromBase64String(e):Ts.fromUint8Array(e)}function Ds(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Os(e){const t=e.mapValue.fields.__previous_value__;return Ds(t)?Os(t):t}function As(e){const t=js(e.mapValue.fields.__local_write_time__.timestampValue);return new ri(t.seconds,t.nanos)}class Rs{constructor(e,t,n,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class Ms{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ms("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ms&&e.projectId===this.projectId&&e.database===this.database}}const Ls={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fs={nullValue:"NULL_VALUE"};function Us(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ds(e)?4:eo(e)?9007199254740991:10:Mr()}function zs(e,t){if(e===t)return!0;const n=Us(e);if(n!==Us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return As(e).isEqual(As(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=js(e.timestampValue),r=js(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ps(e.bytesValue).isEqual(Ps(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ns(e.geoPointValue.latitude)===Ns(t.geoPointValue.latitude)&&Ns(e.geoPointValue.longitude)===Ns(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ns(e.integerValue)===Ns(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ns(e.doubleValue),r=Ns(t.doubleValue);return n===r?Fi(n)===Fi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ti(e.arrayValue.values||[],t.arrayValue.values||[],zs);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ms(n)!==ms(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zs(n[i],r[i])))return!1;return!0}(e,t);default:return Mr()}}function Vs(e,t){return void 0!==(e.values||[]).find((e=>zs(e,t)))}function qs(e,t){if(e===t)return 0;const n=Us(e),r=Us(t);if(n!==r)return ei(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ei(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ns(e.integerValue||e.doubleValue),r=Ns(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bs(e.timestampValue,t.timestampValue);case 4:return Bs(As(e),As(t));case 5:return ei(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ps(e),r=Ps(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ei(n[i],r[i]);if(0!==e)return e}return ei(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ei(Ns(e.latitude),Ns(t.latitude));return 0!==n?n:ei(Ns(e.longitude),Ns(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=qs(n[i],r[i]);if(e)return e}return ei(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ls.mapValue&&t===Ls.mapValue)return 0;if(e===Ls.mapValue)return 1;if(t===Ls.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=ei(r[o],s[o]);if(0!==e)return e;const t=qs(n[r[o]],i[s[o]]);if(0!==t)return t}return ei(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Mr()}}function Bs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ei(e,t);const n=js(e),r=js(t),i=ei(n.seconds,r.seconds);return 0!==i?i:ei(n.nanos,r.nanos)}function Hs(e){return Ws(e)}function Ws(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=js(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ps(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return li.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ws(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ws(e.fields[i]));return n+"}"}(e.mapValue):Mr()}function Ks(e){switch(Us(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Os(e);return t?16+Ks(t):16;case 5:return 2*e.stringValue.length;case 6:return Ps(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Ks(t)),0)}(e.arrayValue);case 10:return function(e){let t=0;return gs(e.fields,((e,n)=>{t+=e.length+Ks(n)})),t}(e.mapValue);default:throw Mr()}}function Gs(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qs(e){return!!e&&"integerValue"in e}function $s(e){return!!e&&"arrayValue"in e}function Ys(e){return!!e&&"nullValue"in e}function Xs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Js(e){return!!e&&"mapValue"in e}function Zs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return gs(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Zs(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function eo(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function to(e){return"nullValue"in e?Fs:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Gs(Ms.empty(),li.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Mr()}function no(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Gs(Ms.empty(),li.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ls:Mr()}function ro(e,t){const n=qs(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function io(e,t){const n=qs(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class so{constructor(e){this.value=e}static empty(){return new so({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Js(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zs(t)}setAll(e){let t=ci.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Zs(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Js(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Js(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){gs(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new so(Zs(this.value))}}function oo(e){const t=[];return gs(e.fields,((e,n)=>{const r=new ci([e]);if(Js(n)){const e=oo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Es(t)}class ao{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ao(e,0,ii.min(),ii.min(),ii.min(),so.empty(),0)}static newFoundDocument(e,t,n,r){return new ao(e,1,t,ii.min(),n,r,0)}static newNoDocument(e,t){return new ao(e,2,t,ii.min(),ii.min(),so.empty(),0)}static newUnknownDocument(e,t){return new ao(e,3,t,ii.min(),ii.min(),so.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ii.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=so.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=so.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ii.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ao&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ao(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class co{constructor(e,t){this.position=e,this.inclusive=t}}function lo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?li.comparator(li.fromName(o.referenceValue),n.key):qs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function uo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zs(e.position[n],t.position[n]))return!1;return!0}class ho{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function fo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class po{}class mo extends po{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Co(e,t,n):"array-contains"===t?new jo(e,n):"in"===t?new No(e,n):"not-in"===t?new Po(e,n):"array-contains-any"===t?new Do(e,n):new mo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ko(e,n):new To(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qs(t,this.value)):null!==t&&Us(this.value)===Us(t)&&this.matchesComparison(qs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class go extends po{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new go(e,t)}matches(e){return vo(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function vo(e){return"and"===e.op}function yo(e){return"or"===e.op}function bo(e){return wo(e)&&vo(e)}function wo(e){for(const t of e.filters)if(t instanceof go)return!1;return!0}function xo(e){if(e instanceof mo)return e.field.canonicalString()+e.op.toString()+Hs(e.value);if(bo(e))return e.filters.map((e=>xo(e))).join(",");{const t=e.filters.map((e=>xo(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function _o(e,t){return e instanceof mo?function(e,t){return t instanceof mo&&e.op===t.op&&e.field.isEqual(t.field)&&zs(e.value,t.value)}(e,t):e instanceof go?function(e,t){return t instanceof go&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&_o(n,t.filters[r])),!0)}(e,t):void Mr()}function So(e,t){const n=e.filters.concat(t);return go.create(n,e.op)}function Eo(e){return e instanceof mo?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Hs(e.value))}(e):e instanceof go?function(e){return e.op.toString()+" {"+e.getFilters().map(Eo).join(" ,")+"}"}(e):"Filter"}class Co extends mo{constructor(e,t,n){super(e,t,n),this.key=li.fromName(n.referenceValue)}matches(e){const t=li.comparator(e.key,this.key);return this.matchesComparison(t)}}class ko extends mo{constructor(e,t){super(e,"in",t),this.keys=Io("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class To extends mo{constructor(e,t){super(e,"not-in",t),this.keys=Io("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Io(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>li.fromName(e.referenceValue)))}class jo extends mo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $s(t)&&Vs(t.arrayValue,this.value)}}class No extends mo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vs(this.value.arrayValue,t)}}class Po extends mo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vs(this.value.arrayValue,t)}}class Do extends mo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$s(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Vs(this.value.arrayValue,e)))}}class Oo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function Ao(e){return new Oo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ro(e){const t=Ur(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>xo(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Li(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Hs(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Hs(e))).join(",")),t.ce=e}return t.ce}function Mo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!_o(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!uo(e.startAt,t.startAt)&&uo(e.endAt,t.endAt)}function Lo(e){return li.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Fo(e,t){return e.filters.filter((e=>e instanceof mo&&e.field.isEqual(t)))}function Uo(e,t,n){let r=Fs,i=!0;for(const s of Fo(e,t)){let e=Fs,t=!0;switch(s.op){case"<":case"<=":e=to(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Fs}ro({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];ro({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function zo(e,t,n){let r=Ls,i=!0;for(const s of Fo(e,t)){let e=Ls,t=!0;switch(s.op){case">=":case">":e=no(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Ls}io({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];io({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Vo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function qo(e,t,n,r,i,s,o,a){return new Vo(e,t,n,r,i,s,o,a)}function Bo(e){return new Vo(e)}function Ho(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wo(e){return null!==e.collectionGroup}function Ko(e){const t=Ur(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new xs(ci.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new ho(r,n))})),e.has(ci.keyField().canonicalString())||t.le.push(new ho(ci.keyField(),n))}return t.le}function Go(e){const t=Ur(e);return t.he||(t.he=Qo(t,Ko(e))),t.he}function Qo(e,t){if("F"===e.limitType)return Ao(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ho(e.field,t)}));const n=e.endAt?new co(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new co(e.startAt.position,e.startAt.inclusive):null;return Ao(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $o(e,t){const n=e.filters.concat([t]);return new Vo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Yo(e,t,n){return new Vo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xo(e,t){return Mo(Go(e),Go(t))&&e.limitType===t.limitType}function Jo(e){return"".concat(Ro(Go(e)),"|lt:").concat(e.limitType)}function Zo(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Eo(e))).join(", "),"]")),Li(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Hs(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Hs(e))).join(",")),"Target(".concat(t,")")}(Go(e)),"; limitType=").concat(e.limitType,")")}function ea(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):li.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ko(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=lo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ko(e),t))&&!(e.endAt&&!function(e,t,n){const r=lo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ko(e),t))}(e,t)}function ta(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function na(e){return(t,n)=>{let r=!1;for(const i of Ko(e)){const e=ra(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ra(e,t,n){const r=e.field.isKeyField()?li.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qs(r,i):Mr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mr()}}class ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return vs(this.inner)}size(){return this.innerSize}}const sa=new ys(li.comparator);function oa(){return sa}const aa=new ys(li.comparator);function ca(){let e=aa;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function la(e){let t=aa;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ua(){return ha()}function da(){return ha()}function ha(){return new ia((e=>e.toString()),((e,t)=>e.isEqual(t)))}const fa=new ys(li.comparator),pa=new xs(li.comparator);function ma(){let e=pa;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ga=new xs(ei);function va(){return ga}function ya(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fi(t)?"-0":t}}function ba(e){return{integerValue:""+e}}function wa(e,t){return Ui(t)?ba(t):ya(e,t)}class xa{constructor(){this._=void 0}}function _a(e,t,n){return e instanceof Ca?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ds(t)&&(t=Os(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ka?Ta(e,t):e instanceof Ia?ja(e,t):function(e,t){const n=Ea(e,t),r=Pa(n)+Pa(e.Ie);return Qs(n)&&Qs(e.Ie)?ba(r):ya(e.serializer,r)}(e,t)}function Sa(e,t,n){return e instanceof ka?Ta(e,t):e instanceof Ia?ja(e,t):n}function Ea(e,t){return e instanceof Na?function(e){return Qs(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ca extends xa{}class ka extends xa{constructor(e){super(),this.elements=e}}function Ta(e,t){const n=Da(t);for(const r of e.elements)n.some((e=>zs(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ia extends xa{constructor(e){super(),this.elements=e}}function ja(e,t){let n=Da(t);for(const r of e.elements)n=n.filter((e=>!zs(e,r)));return{arrayValue:{values:n}}}class Na extends xa{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Pa(e){return Ns(e.integerValue||e.doubleValue)}function Da(e){return $s(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Oa{constructor(e,t){this.field=e,this.transform=t}}class Aa{constructor(e,t){this.version=e,this.transformResults=t}}class Ra{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ra}static exists(e){return new Ra(void 0,e)}static updateTime(e){return new Ra(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ma(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class La{}function Fa(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Qa(e.key,Ra.none()):new Ba(e.key,e.data,Ra.none());{const n=e.data,r=so.empty();let i=new xs(ci.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ha(e.key,r,new Es(i.toArray()),Ra.none())}}function Ua(e,t,n){e instanceof Ba?function(e,t,n){const r=e.value.clone(),i=Ka(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ha?function(e,t,n){if(!Ma(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ka(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wa(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function za(e,t,n,r){return e instanceof Ba?function(e,t,n,r){if(!Ma(e.precondition,t))return n;const i=e.value.clone(),s=Ga(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ha?function(e,t,n,r){if(!Ma(e.precondition,t))return n;const i=Ga(e.fieldTransforms,r,t),s=t.data;return s.setAll(Wa(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ma(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Va(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ea(r.transform,e||null);null!=i&&(null===n&&(n=so.empty()),n.set(r.field,i))}return n||null}function qa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ti(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ka&&t instanceof ka||e instanceof Ia&&t instanceof Ia?ti(e.elements,t.elements,zs):e instanceof Na&&t instanceof Na?zs(e.Ie,t.Ie):e instanceof Ca&&t instanceof Ca}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ba extends La{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ha extends La{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Wa(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ka(e,t,n){const r=new Map;Lr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Sa(o,a,n[i]))}return r}function Ga(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,_a(e,s,t))}return r}class Qa extends La{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $a extends La{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ya{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ua(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=za(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=za(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=da();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Fa(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(ii.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ma())}isEqual(e){return this.batchId===e.batchId&&ti(this.mutations,e.mutations,((e,t)=>qa(e,t)))&&ti(this.baseMutations,e.baseMutations,((e,t)=>qa(e,t)))}}class Xa{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Lr(e.mutations.length===n.length);let r=fa;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Xa(e,t,n,r)}}class Ja{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Za{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class ec{constructor(e,t){this.count=e,this.unchangedNames=t}}var tc,nc;function rc(e){switch(e){default:return Mr();case zr.CANCELLED:case zr.UNKNOWN:case zr.DEADLINE_EXCEEDED:case zr.RESOURCE_EXHAUSTED:case zr.INTERNAL:case zr.UNAVAILABLE:case zr.UNAUTHENTICATED:return!1;case zr.INVALID_ARGUMENT:case zr.NOT_FOUND:case zr.ALREADY_EXISTS:case zr.PERMISSION_DENIED:case zr.FAILED_PRECONDITION:case zr.ABORTED:case zr.OUT_OF_RANGE:case zr.UNIMPLEMENTED:case zr.DATA_LOSS:return!0}}function ic(e){if(void 0===e)return Or("GRPC error has no .code"),zr.UNKNOWN;switch(e){case tc.OK:return zr.OK;case tc.CANCELLED:return zr.CANCELLED;case tc.UNKNOWN:return zr.UNKNOWN;case tc.DEADLINE_EXCEEDED:return zr.DEADLINE_EXCEEDED;case tc.RESOURCE_EXHAUSTED:return zr.RESOURCE_EXHAUSTED;case tc.INTERNAL:return zr.INTERNAL;case tc.UNAVAILABLE:return zr.UNAVAILABLE;case tc.UNAUTHENTICATED:return zr.UNAUTHENTICATED;case tc.INVALID_ARGUMENT:return zr.INVALID_ARGUMENT;case tc.NOT_FOUND:return zr.NOT_FOUND;case tc.ALREADY_EXISTS:return zr.ALREADY_EXISTS;case tc.PERMISSION_DENIED:return zr.PERMISSION_DENIED;case tc.FAILED_PRECONDITION:return zr.FAILED_PRECONDITION;case tc.ABORTED:return zr.ABORTED;case tc.OUT_OF_RANGE:return zr.OUT_OF_RANGE;case tc.UNIMPLEMENTED:return zr.UNIMPLEMENTED;case tc.DATA_LOSS:return zr.DATA_LOSS;default:return Mr()}}(nc=tc||(tc={}))[nc.OK=0]="OK",nc[nc.CANCELLED=1]="CANCELLED",nc[nc.UNKNOWN=2]="UNKNOWN",nc[nc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nc[nc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nc[nc.NOT_FOUND=5]="NOT_FOUND",nc[nc.ALREADY_EXISTS=6]="ALREADY_EXISTS",nc[nc.PERMISSION_DENIED=7]="PERMISSION_DENIED",nc[nc.UNAUTHENTICATED=16]="UNAUTHENTICATED",nc[nc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nc[nc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nc[nc.ABORTED=10]="ABORTED",nc[nc.OUT_OF_RANGE=11]="OUT_OF_RANGE",nc[nc.UNIMPLEMENTED=12]="UNIMPLEMENTED",nc[nc.INTERNAL=13]="INTERNAL",nc[nc.UNAVAILABLE=14]="UNAVAILABLE",nc[nc.DATA_LOSS=15]="DATA_LOSS";let sc=null;function oc(){return new TextEncoder}const ac=new Cr([4294967295,4294967295],0);function cc(e){const t=oc().encode(e),n=new Er;return n.update(t),new Uint8Array(n.digest())}function lc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Cr([n,r],0),new Cr([i,s],0)]}class uc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new dc("Invalid padding: ".concat(t));if(n<0)throw new dc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new dc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new dc("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Cr.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Cr.fromNumber(n)));return 1===r.compare(ac)&&(r=new Cr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=cc(e),[n,r]=lc(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new uc(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=cc(e),[n,r]=lc(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new hc(ii.min(),r,new ys(ei),oa(),ma())}}class fc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new fc(n,t,ma(),ma(),ma())}}class pc{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class mc{constructor(e,t){this.targetId=e,this.fe=t}}class gc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ts.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class vc{constructor(){this.ge=0,this.pe=wc(),this.ye=Ts.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ma(),t=ma(),n=ma();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mr()}})),new fc(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=wc()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Lr(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class yc{constructor(e){this.Le=e,this.ke=new Map,this.qe=oa(),this.Qe=bc(),this.Ke=new ys(ei)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Mr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Lo(i))if(0===n){const e=new li(i.path);this.We(t,e,ao.newNoDocument(e,ii.min()))}else Lr(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==sc||sc.tt(function(e,t,n,r,i){var s,o,a,c,l,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==h?void 0:h.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Ps(n).toUint8Array()}catch(e){if(e instanceof Cs)return Ar("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new uc(s,r,i)}catch(e){return Ar(e instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Lo(i.target)){const t=new li(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,ao.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=ma();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new hc(e,t,this.Ke,this.qe,n);return this.qe=oa(),this.Qe=bc(),this.Ke=new ys(ei),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new vc,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new xs(ei),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Dr("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new vc),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function bc(){return new ys(li.comparator)}function wc(){return new ys(li.comparator)}const xc={asc:"ASCENDING",desc:"DESCENDING"},_c={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sc={and:"AND",or:"OR"};class Ec{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cc(e,t){return e.useProto3Json||Li(t)?t:{value:t}}function kc(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Tc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ic(e,t){return kc(e,t.toTimestamp())}function jc(e){return Lr(!!e),ii.fromTimestamp(function(e){const t=js(e);return new ri(t.seconds,t.nanos)}(e))}function Nc(e,t){return function(e){return new oi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Pc(e){const t=oi.fromString(e);return Lr(Zc(t)),t}function Dc(e,t){return Nc(e.databaseId,t.path)}function Oc(e,t){const n=Pc(t);if(n.get(1)!==e.databaseId.projectId)throw new Vr(zr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vr(zr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new li(Lc(n))}function Ac(e,t){return Nc(e.databaseId,t)}function Rc(e){const t=Pc(e);return 4===t.length?oi.emptyPath():Lc(t)}function Mc(e){return new oi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lc(e){return Lr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Fc(e,t,n){return{name:Dc(e,t),fields:n.value.mapValue.fields}}function Uc(e,t,n){const r=Oc(e,t.name),i=jc(t.updateTime),s=t.createTime?jc(t.createTime):ii.min(),o=new so({mapValue:{fields:t.fields}}),a=ao.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function zc(e,t){let n;if(t instanceof Ba)n={update:Fc(e,t.key,t.value)};else if(t instanceof Qa)n={delete:Dc(e,t.key)};else if(t instanceof Ha)n={update:Fc(e,t.key,t.data),updateMask:Jc(t.fieldMask)};else{if(!(t instanceof $a))return Mr();n={verify:Dc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ca)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ka)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ia)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Na)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Mr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ic(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mr()}(e,t.precondition)),n}function Vc(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ra.updateTime(jc(e.updateTime)):void 0!==e.exists?Ra.exists(e.exists):Ra.none()}(t.currentDocument):Ra.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Lr("REQUEST_TIME"===t.setToServerValue),n=new Ca;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new ka(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Ia(e)}else"increment"in t?n=new Na(e,t.increment):Mr();const r=ci.fromServerFormat(t.fieldPath);return new Oa(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Oc(e,t.update.name),s=new so({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Es(t.map((e=>ci.fromServerFormat(e))))}(t.updateMask);return new Ha(i,s,e,n,r)}return new Ba(i,s,n,r)}if(t.delete){const r=Oc(e,t.delete);return new Qa(r,n)}if(t.verify){const r=Oc(e,t.verify);return new $a(r,n)}return Mr()}function qc(e,t){return{documents:[Ac(e,t.path)]}}function Bc(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ac(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ac(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Xc(go.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:$c(e.field),direction:Kc(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Cc(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Hc(e){let t=Rc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Lr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Wc(e);return t instanceof go&&bo(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new ho(Yc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Li(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new co(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new co(n,t)}(n.endAt)),qo(t,i,o,s,a,"F",c,l)}function Wc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yc(e.unaryFilter.field);return mo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Yc(e.unaryFilter.field);return mo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yc(e.unaryFilter.field);return mo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Yc(e.unaryFilter.field);return mo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mr()}}(e):void 0!==e.fieldFilter?function(e){return mo.create(Yc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mr()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return go.create(e.compositeFilter.filters.map((e=>Wc(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Mr()}}(e.compositeFilter.op))}(e):Mr()}function Kc(e){return xc[e]}function Gc(e){return _c[e]}function Qc(e){return Sc[e]}function $c(e){return{fieldPath:e.canonicalString()}}function Yc(e){return ci.fromServerFormat(e.fieldPath)}function Xc(e){return e instanceof mo?function(e){if("=="===e.op){if(Xs(e.value))return{unaryFilter:{field:$c(e.field),op:"IS_NAN"}};if(Ys(e.value))return{unaryFilter:{field:$c(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xs(e.value))return{unaryFilter:{field:$c(e.field),op:"IS_NOT_NAN"}};if(Ys(e.value))return{unaryFilter:{field:$c(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$c(e.field),op:Gc(e.op),value:e.value}}}(e):e instanceof go?function(e){const t=e.getFilters().map((e=>Xc(e)));return 1===t.length?t[0]:{compositeFilter:{op:Qc(e.op),filters:t}}}(e):Mr()}function Jc(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Zc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class el{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ii.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ii.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ts.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new el(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tl{constructor(e){this.ut=e}}function nl(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:rl(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Dc(e,t.key),fields:t.data.value.mapValue.fields,updateTime:kc(e,t.version.toTimestamp()),createTime:kc(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:il(t.version)};else{if(!t.isUnknownDocument())return Mr();r.unknownDocument={path:n.path.toArray(),version:il(t.version)}}return r}function rl(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function il(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function sl(e){const t=new ri(e.seconds,e.nanoseconds);return ii.fromTimestamp(t)}function ol(e,t){const n=(t.baseMutations||[]).map((t=>Vc(e.ut,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Vc(e.ut,t))),i=ri.fromMillis(t.localWriteTimeMs);return new Ya(t.batchId,i,n,r)}function al(e){const t=sl(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?sl(e.lastLimboFreeSnapshotVersion):ii.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Lr(1===e.documents.length),Go(Bo(Rc(e.documents[0])))}(e.query):function(e){return Go(Hc(e))}(e.query),new el(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Ts.fromBase64String(e.resumeToken))}function cl(e,t){const n=il(t.snapshotVersion),r=il(t.lastLimboFreeSnapshotVersion);let i;i=Lo(t.target)?qc(e.ut,t.target):Bc(e.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ro(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ll(e){const t=Hc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yo(t,t.limit,"L"):t}function ul(e,t){return new Ja(t.largestBatchId,Vc(e.ut,t.overlayMutation))}function dl(e,t){const n=t.path.lastSegment();return[e,zi(t.path.popLast()),n]}function hl(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:il(r.readTime),documentKey:zi(r.documentKey.path),largestBatchId:r.largestBatchId}}class fl{getBundleMetadata(e,t){return pl(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:sl(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return pl(e).put(function(e){return{bundleId:e.id,createTime:il(jc(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return ml(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:ll(e.bundledQuery),readTime:sl(e.readTime)}}(e)}))}saveNamedQuery(e,t){return ml(e).put(function(e){return{name:e.name,readTime:il(jc(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function pl(e){return ps(e,"bundles")}function ml(e){return ps(e,"namedQueries")}class gl{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new gl(e,n)}getOverlay(e,t){return vl(e).get(dl(this.userId,t)).next((e=>e?ul(this.serializer,e):null))}getOverlays(e,t){const n=ua();return Ei.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Ja(t,i);r.push(this.lt(e,s))})),Ei.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(zi(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(vl(e).H("collectionPathOverlayIndex",r))})),Ei.waitFor(i)}getOverlaysForCollection(e,t,n){const r=ua(),i=zi(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return vl(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=ul(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=ua();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vl(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=ul(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return vl(e).put(function(e,t,n){const[r,i,s]=dl(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:zc(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function vl(e){return ps(e,"documentOverlays")}class yl{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Ns(e.integerValue));else if("doubleValue"in e){const n=Ns(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Fi(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ps(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?eo(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Mr()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),li.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function bl(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function wl(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=bl(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}yl.St=new yl;class xl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=wl(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=wl(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class _l{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Sl{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class El{constructor(){this.Wt=new xl,this.Gt=new _l(this.Wt),this.zt=new Sl(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Cl{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Cl(this.indexId,this.documentKey,this.arrayValue,n)}}function kl(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Tl(e.arrayValue,t.arrayValue),0!==n?n:(n=Tl(e.directionalValue,t.directionalValue),0!==n?n:li.comparator(e.documentKey,t.documentKey)))}function Tl(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Il{constructor(e){this.Jt=new xs(((e,t)=>ci.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(Lr(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=di(e);if(void 0!==t&&!this.tn(t))return!1;const n=hi(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Yt.length||!this.rn(this.Yt[s++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new xs(ci.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new pi(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new pi(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new pi(n.field,"asc"===n.dir?0:1)));return new ui(ui.UNKNOWN_ID,this.collectionId,t,gi.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function jl(e){var t,n;if(Lr(e instanceof mo||e instanceof go),e instanceof mo){if(e instanceof No){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>mo.create(e.field,"==",t))))||[];return go.create(r,"or")}return e}const r=e.filters.map((e=>jl(e)));return go.create(r,e.op)}function Nl(e){if(0===e.getFilters().length)return[];const t=Al(jl(e));return Lr(Ol(t)),Pl(t)||Dl(t)?[t]:t.getFilters()}function Pl(e){return e instanceof mo}function Dl(e){return e instanceof go&&bo(e)}function Ol(e){return Pl(e)||Dl(e)||function(e){if(e instanceof go&&yo(e)){for(const t of e.getFilters())if(!Pl(t)&&!Dl(t))return!1;return!0}return!1}(e)}function Al(e){if(Lr(e instanceof mo||e instanceof go),e instanceof mo)return e;if(1===e.filters.length)return Al(e.filters[0]);const t=e.filters.map((e=>Al(e)));let n=go.create(t,e.op);return n=Ll(n),Ol(n)?n:(Lr(n instanceof go),Lr(vo(n)),Lr(n.filters.length>1),n.filters.reduce(((e,t)=>Rl(e,t))))}function Rl(e,t){let n;return Lr(e instanceof mo||e instanceof go),Lr(t instanceof mo||t instanceof go),n=e instanceof mo?t instanceof mo?function(e,t){return go.create([e,t],"and")}(e,t):Ml(e,t):t instanceof mo?Ml(t,e):function(e,t){if(Lr(e.filters.length>0&&t.filters.length>0),vo(e)&&vo(t))return So(e,t.getFilters());const n=yo(e)?e:t,r=yo(e)?t:e,i=n.filters.map((e=>Rl(e,r)));return go.create(i,"or")}(e,t),Ll(n)}function Ml(e,t){if(vo(t))return So(t,e.getFilters());{const n=t.filters.map((t=>Rl(e,t)));return go.create(n,"or")}}function Ll(e){if(Lr(e instanceof mo||e instanceof go),e instanceof mo)return e;const t=e.getFilters();if(1===t.length)return Ll(t[0]);if(wo(e))return e;const n=t.map((e=>Ll(e))),r=[];return n.forEach((t=>{t instanceof mo?r.push(t):t instanceof go&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:go.create(r,e.op)}class Fl{constructor(){this.on=new Ul}addToCollectionParentIndex(e,t){return this.on.add(t),Ei.resolve()}getCollectionParents(e,t){return Ei.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Ei.resolve()}deleteFieldIndex(e,t){return Ei.resolve()}deleteAllFieldIndexes(e){return Ei.resolve()}createTargetIndexes(e,t){return Ei.resolve()}getDocumentsMatchingTarget(e,t){return Ei.resolve(null)}getIndexType(e,t){return Ei.resolve(0)}getFieldIndexes(e,t){return Ei.resolve([])}getNextCollectionGroupToUpdate(e){return Ei.resolve(null)}getMinOffset(e,t){return Ei.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,t){return Ei.resolve(bi.min())}updateCollectionGroup(e,t,n){return Ei.resolve()}updateIndexEntries(e,t){return Ei.resolve()}}class Ul{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xs(oi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new xs(oi.comparator)).toArray()}}const zl=new Uint8Array(0);class Vl{constructor(e,t){this.user=e,this.databaseId=t,this._n=new Ul,this.an=new ia((e=>Ro(e)),((e,t)=>Mo(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:zi(r)};return ql(e).put(i)}return Ei.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ni(t),""],!1,!0);return ql(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Bi(r.parent))}return n}))}addFieldIndex(e,t){const n=Hl(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Wl(e);return i.next((e=>{n.put(hl(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Hl(e),r=Wl(e),i=Bl(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Hl(e),n=Bl(e),r=Wl(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Ei.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Il(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Bl(e);let r=!0;const i=new Map;return Ei.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=ma();const r=[];return Ei.forEach(i,((i,s)=>{Dr("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Ro(t)));const o=function(e,t){const n=di(t);if(void 0===n)return null;for(const r of Fo(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of hi(t))for(const t of Fo(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of hi(t)){const t=0===i.kind?Uo(e,i.fieldPath,e.startAt):zo(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new co(n,r)}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of hi(t)){const t=0===i.kind?zo(e,i.fieldPath,e.endAt):Uo(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new co(n,r)}(s,i),u=this.ln(i,s,c),d=this.ln(i,s,l),h=this.hn(i,s,a),f=this.Pn(i.indexId,o,u,c.inclusive,d,l.inclusive,h);return Ei.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=li.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Ei.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Nl(go.create(e.filters,"and")).map((t=>Ao(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/c]):zl,d=this.Tn(e,a,n[u%c],r),h=this.En(e,a,i[u%c],s),f=o.map((t=>this.Tn(e,a,t,!0)));l.push(...this.createRange(d,h,f))}return l}Tn(e,t,n,r){const i=new Cl(e,li.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new Cl(e,li.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new Il(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return Ei.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new xs(ci.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new El;for(const r of hi(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);yl.St.ht(e,i)}return n.Ut()}In(e){const t=new El;return yl.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new El;return yl.St.ht(Gs(this.databaseId,t),n.jt(function(e){const t=hi(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new El);let i=0;for(const s of hi(e)){const e=n[i++];for(const n of r)if(this.Rn(t,s.fieldPath)&&$s(e))r=this.Vn(r,s,e);else{const t=n.jt(s.kind);yl.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new El;n.seed(e.Ut()),yl.St.ht(s,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof mo&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Hl(e),r=Wl(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Ei.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new gi(t.sequenceNumber,new bi(sl(t.readTime),new li(Bi(t.documentKey)),t.largestBatchId)):gi.empty(),r=e.fields.map((e=>{let[t,n]=e;return new pi(ci.fromServerFormat(t),n)}));return new ui(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ei(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Hl(e),i=Wl(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Ei.forEach(t,(t=>i.put(hl(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Ei.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Ei.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Ei.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?Ei.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return Bl(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return Bl(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=Bl(e);let i=new xs(kl);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new Cl(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new xs(kl);const r=this.dn(t,e);if(null==r)return n;const i=di(t);if(null!=i){const s=e.data.field(i.fieldPath);if($s(s))for(const i of s.arrayValue.values||[])n=n.add(new Cl(t.indexId,e.key,this.In(i),r))}else n=n.add(new Cl(t.indexId,e.key,zl,r));return n}yn(e,t,n,r,i){Dr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=Ss(s),c=Ss(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=Ss(o)):t?(i(a),a=Ss(s)):(a=Ss(s),c=Ss(o))}}(r,i,kl,(r=>{s.push(this.wn(e,t,n,r))}),(r=>{s.push(this.Sn(e,t,n,r))})),Ei.waitFor(s)}fn(e){let t=1;return Wl(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>kl(e,t))).filter(((e,t,n)=>!t||0!==kl(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=kl(s,e),i=kl(s,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(s),r.push(s.Ht());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,zl,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,zl,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return kl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Kl)}getMinOffset(e,t){return Ei.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||Mr())))).next(Kl)}}function ql(e){return ps(e,"collectionParents")}function Bl(e){return ps(e,"indexEntries")}function Hl(e){return ps(e,"indexConfiguration")}function Wl(e){return ps(e,"indexState")}function Kl(e){Lr(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;wi(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new bi(t.readTime,t.documentKey,n)}const Gl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ql{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ql(e,Ql.DEFAULT_COLLECTION_PERCENTILE,Ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $l(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(c.next((()=>{Lr(1===a)})));const l=[];for(const u of n.mutations){const e=Ki(t,u.key.path,n.batchId);s.push(i.delete(e)),l.push(u.key)}return Ei.waitFor(s).next((()=>l))}function Yl(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Mr();t=e.noDocument}return JSON.stringify(t).length}Ql.DEFAULT_COLLECTION_PERCENTILE=10,Ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ql.DEFAULT=new Ql(41943040,Ql.DEFAULT_COLLECTION_PERCENTILE,Ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ql.DISABLED=new Ql(-1,0,0);class Xl{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){Lr(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Xl(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zl(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=eu(e),s=Zl(e);return s.add({}).next((o=>{Lr("number"==typeof o);const a=new Ya(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>zc(e.ut,t))),i=n.mutations.map((t=>zc(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new xs(((e,t)=>ei(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Ki(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(s.put(c)),l.push(i.put(t,Gi))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[o]=a.keys()})),Ei.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return Zl(e).get(t).next((e=>e?(Lr(e.userId===this.userId),ol(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?Ei.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Zl(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Lr(t.batchId>=n),i=ol(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Zl(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zl(e).W("userMutationsIndex",t).next((e=>e.map((e=>ol(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Wi(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return eu(e).Y({range:r},((n,r,s)=>{const[o,a,c]=n,l=Bi(a);if(o===this.userId&&t.path.isEqual(l))return Zl(e).get(c).next((e=>{if(!e)throw Mr();Lr(e.userId===this.userId),i.push(ol(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xs(ei);const r=[];return t.forEach((t=>{const i=Wi(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=eu(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,c=Bi(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),Ei.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Wi(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new xs(ei);return eu(e).Y({range:s},((e,t,i)=>{const[s,a,c]=e,l=Bi(a);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):i.done()})).next((()=>this.vn(e,o)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Zl(e).get(t).next((e=>{if(null===e)throw Mr();Lr(e.userId===this.userId),n.push(ol(this.serializer,e))})))})),Ei.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return $l(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),Ei.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ei.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return eu(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Bi(e[1]);r.push(t)}else n.done()})).next((()=>{Lr(0===r.length)}))}))}containsKey(e,t){return Jl(e,this.userId,t)}Mn(e){return tu(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Jl(e,t,n){const r=Wi(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return eu(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Zl(e){return ps(e,"mutations")}function eu(e){return ps(e,"documentMutations")}function tu(e){return ps(e,"mutationQueues")}class nu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new nu(0)}static Nn(){return new nu(-1)}}class ru{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new nu(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>ii.fromTimestamp(new ri(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>iu(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(Lr(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return iu(e).Y(((s,o)=>{const a=al(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Ei.waitFor(i))).next((()=>r))}forEachTarget(e,t){return iu(e).Y(((e,n)=>{const r=al(n);t(r)}))}Bn(e){return su(e).get("targetGlobalKey").next((e=>(Lr(null!==e),e)))}Ln(e,t){return su(e).put("targetGlobalKey",t)}kn(e,t){return iu(e).put(cl(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ro(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return iu(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=al(n);Mo(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=ou(e);return t.forEach((t=>{const s=zi(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Ei.waitFor(r)}removeMatchingKeys(e,t,n){const r=ou(e);return Ei.forEach(t,(t=>{const i=zi(t.path);return Ei.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=ou(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ou(e);let i=ma();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Bi(e[1]),s=new li(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=zi(t.path),r=IDBKeyRange.bound([n],[ni(n)],!1,!0);let i=0;return ou(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return iu(e).get(t).next((e=>e?al(e):null))}}function iu(e){return ps(e,"targets")}function su(e){return ps(e,"targetGlobal")}function ou(e){return ps(e,"targetDocuments")}function au(e,t){let[n,r]=e,[i,s]=t;const o=ei(n,i);return 0===o?ei(r,s):o}class cu{constructor(e){this.Qn=e,this.buffer=new xs(au),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();au(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lu{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Dr("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ji(e)?Dr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Si(e)}await this.Gn(3e5)}))}}class uu{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ei.resolve(Mi._e);const n=new cu(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Dr("LruGarbageCollector","Garbage collection skipped; disabled"),Ei.resolve(Gl)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Dr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Gl):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,s,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Dr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Nr()<=o.in.DEBUG&&Dr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(c-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-c)+"ms\n"+"Total Duration: ".concat(l-u,"ms")),Ei.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function du(e,t){return new uu(e,t)}class hu{constructor(e,t){this.db=e,this.garbageCollector=du(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return fu(e,n)}removeReference(e,t,n){return fu(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return fu(e,t)}Xn(e,t){return function(e,t){let n=!1;return tu(e).Z((r=>Jl(e,r,t).next((e=>(e&&(n=!0),Ei.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,ii.min()),ou(e).delete(function(e){return[0,zi(e.path)]}(s)))))}));r.push(t)}})).next((()=>Ei.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return fu(e,t)}Zn(e,t){const n=ou(e);let r,i=Mi._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:c}=n;0===s?(i!==Mi._e&&t(new li(Bi(r)),i),i=c,r=a):i=Mi._e})).next((()=>{i!==Mi._e&&t(new li(Bi(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fu(e,t){return ou(e).put(function(e,t){return{targetId:0,path:zi(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class pu{constructor(){this.changes=new ia((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ao.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ei.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mu{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return bu(e).put(n)}removeEntry(e,t,n){return bu(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],rl(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=ao.newInvalidDocument(t);return bu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(wu(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:ao.newInvalidDocument(t)};return bu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(wu(t))},((e,r)=>{n={document:this.tr(t,r),size:Yl(r)}})).next((()=>n))}getEntries(e,t){let n=oa();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=oa(),r=new ys(li.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,Yl(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return Ei.resolve();let r=new xs(_u);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(wu(r.first()),wu(r.last())),s=r.getIterator();let o=s.getNext();return bu(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=li.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&_u(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(wu(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),rl(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bu(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=oa();for(const i of e){const e=this.tr(li.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(ea(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=oa();const s=xu(t,n),o=xu(t,bi.max());return bu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.tr(li.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new vu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return yu(e).get("remoteDocumentGlobalKey").next((e=>(Lr(!!e),e)))}er(e,t){return yu(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Uc(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=li.fromSegments(t.noDocument.path),r=sl(t.noDocument.readTime);n=ao.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Mr();{const e=li.fromSegments(t.unknownDocument.path),r=sl(t.unknownDocument.version);n=ao.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new ri(e[0],e[1]);return ii.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(ii.min()))return e}return ao.newInvalidDocument(e)}}function gu(e){return new mu(e)}class vu extends pu{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ia((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new xs(((e,t)=>ei(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=nl(this._r.serializer,s);r=r.add(i.path.popLast());const c=Yl(a);n+=c-o.size,t.push(this._r.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=nl(this._r.serializer,s.convertToNoDocument(ii.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),Ei.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function yu(e){return ps(e,"remoteDocumentGlobal")}function bu(e){return ps(e,"remoteDocumentsV14")}function wu(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function xu(e,t){const n=t.documentKey.path.toArray();return[e,rl(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _u(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ei(n[s],r[s]),i)return i;return i=ei(n.length,r.length),i||(i=ei(n[n.length-2],r[r.length-2]),i||ei(n[n.length-1],r[r.length-1]))}class Su{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Eu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&za(n.mutation,e,Es.empty(),ri.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ma()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ma();const r=ua();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ca();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ua();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ma())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=oa();const s=ha(),o=ha();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ha)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),za(o.mutation,t,o.mutation.getFieldMask(),ri.now())):s.set(t.key,Es.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Su(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=ha();let r=new ys(((e,t)=>e-t)),i=ma();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Es.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||ma()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,l=da();c.forEach((e=>{if(!i.has(e)){const r=Fa(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,l))}return Ei.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return li.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ei.resolve(ua());let o=-1,a=i;return s.next((t=>Ei.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Ei.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,ma()))).next((e=>({batchId:o,changes:la(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new li(t)).next((e=>{let t=ca();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=ca();return this.indexManager.getCollectionParents(e,i).next((o=>Ei.forEach(o,(o=>{const a=function(e,t){return new Vo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ao.newInvalidDocument(r)))}));let n=ca();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&za(s.mutation,r,Es.empty(),ri.now()),ea(t,r)&&(n=n.insert(e,r))})),n}))}}class Cu{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Ei.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:jc(e.createTime)}}(t)),Ei.resolve()}getNamedQuery(e,t){return Ei.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:ll(e.bundledQuery),readTime:jc(e.readTime)}}(t)),Ei.resolve()}}class ku{constructor(){this.overlays=new ys(li.comparator),this.lr=new Map}getOverlay(e,t){return Ei.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ua();return Ei.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Ei.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Ei.resolve()}getOverlaysForCollection(e,t,n){const r=ua(),i=t.length+1,s=new li(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ei.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ys(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ua(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=ua(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Ei.resolve(o)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ja(t,n));let i=this.lr.get(t);void 0===i&&(i=ma(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class Tu{constructor(){this.hr=new xs(Iu.Pr),this.Ir=new xs(Iu.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new Iu(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new Iu(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new li(new oi([])),n=new Iu(t,e),r=new Iu(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new li(new oi([])),n=new Iu(t,e),r=new Iu(t,e+1);let i=ma();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Iu(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Iu{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return li.comparator(e.key,t.key)||ei(e.gr,t.gr)}static Tr(e,t){return ei(e.gr,t.gr)||li.comparator(e.key,t.key)}}class ju{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new xs(Iu.Pr)}checkEmpty(e){return Ei.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ya(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.yr=this.yr.add(new Iu(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ei.resolve(s)}lookupMutationBatch(e,t){return Ei.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Ei.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ei.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Ei.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Iu(t,0),r=new Iu(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Ei.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xs(ei);return t.forEach((e=>{const t=new Iu(e,0),r=new Iu(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Ei.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;li.isDocumentKey(i)||(i=i.child(""));const s=new Iu(new li(i),0);let o=new xs(ei);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),s),Ei.resolve(this.br(o))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Lr(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Ei.forEach(t.mutations,(r=>{const i=new Iu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new Iu(t,0),r=this.yr.firstAfterOrEqual(n);return Ei.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ei.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Nu{constructor(e){this.Cr=e,this.docs=new ys(li.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ei.resolve(n?n.document.mutableCopy():ao.newInvalidDocument(t))}getEntries(e,t){let n=oa();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ao.newInvalidDocument(e))})),Ei.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=oa();const s=t.path,o=new li(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||wi(yi(o),n)<=0||(r.has(o.key)||ea(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Ei.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Mr()}vr(e,t){return Ei.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Pu(this)}getSize(e){return Ei.resolve(this.size)}}class Pu extends pu{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Ei.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Du{constructor(e){this.persistence=e,this.Fr=new ia((e=>Ro(e)),Mo),this.lastRemoteSnapshotVersion=ii.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Tu,this.targetCount=0,this.Nr=nu.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Ei.resolve()}getLastRemoteSnapshotVersion(e){return Ei.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ei.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Ei.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Ei.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new nu(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Ei.resolve()}updateTargetData(e,t){return this.kn(t),Ei.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Ei.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Ei.waitFor(i).next((()=>r))}getTargetCount(e){return Ei.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Ei.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Ei.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ei.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Ei.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Ei.resolve(n)}containsKey(e,t){return Ei.resolve(this.Or.containsKey(t))}}class Ou{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Mi(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Du(this),this.indexManager=new Fl,this.remoteDocumentCache=function(e){return new Nu(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new tl(t),this.Kr=new Cu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ku,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new ju(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Dr("MemoryPersistence","Starting transaction:",e);const r=new Au(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Ei.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Au extends _i{constructor(e){super(),this.currentSequenceNumber=e}}class Ru{constructor(e){this.persistence=e,this.Gr=new Tu,this.zr=null}static jr(e){return new Ru(e)}get Hr(){if(this.zr)return this.zr;throw Mr()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Ei.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Ei.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Ei.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ei.forEach(this.Hr,(n=>{const r=li.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,ii.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Ei.or([()=>Ei.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Mu{constructor(e,t){this.persistence=e,this.Yr=new ia((e=>zi(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=du(this,t)}static jr(e,t){return new Mu(e,t)}$r(){}Ur(e){return Ei.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}jn(e){const t=this.Yn(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}Hn(e,t){return Ei.forEach(this.Yr,((n,r)=>this.Xn(e,n,r).next((e=>e?Ei.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.vr(e,(r=>this.Xn(e,r,t).next((e=>{e||(n++,i.removeEntry(r,ii.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Yr.set(t,e.currentSequenceNumber),Ei.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Yr.set(n,e.currentSequenceNumber),Ei.resolve()}removeReference(e,t,n){return this.Yr.set(n,e.currentSequenceNumber),Ei.resolve()}updateLimboDocument(e,t){return this.Yr.set(t,e.currentSequenceNumber),Ei.resolve()}Qr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ks(e.data.value)),t}Xn(e,t,n){return Ei.or([()=>this.persistence.Wr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Yr.get(t);return Ei.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Lu{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Ci("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hi,{unique:!0}),e.createObjectStore("documentMutations")}(e),Fu(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Ei.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Fu(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ii.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hi,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Ei.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Zr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(s=s.next((()=>this.ei(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ni(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:ss});t.createIndex("collectionPathOverlayIndex",os,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",as,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Qi});t.createIndex("documentKeyIndex",$i),t.createIndex("collectionGroupIndex",Yi)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ii(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ts}).createIndex("sequenceNumberIndex",ns,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:rs}).createIndex("documentKeyIndex",is,{unique:!1})}(e)))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=Yl(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Ei.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Ei.forEach(n,(n=>{Lr(n.userId===t.userId);const r=ol(this.serializer,n);return $l(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new oi(n),o=function(e){return[0,zi(e)]}(s);r.push(t.get(o).next((n=>n?Ei.resolve():(n=>t.put({targetId:0,path:zi(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Ei.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:es});const n=t.store("collectionParents"),r=new Ul,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:zi(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new oi(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=Bi(r);return i(o.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=al(n),i=cl(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new li(oi.fromString(e.document.name).popFirst(5)):e.noDocument?li.fromSegments(e.noDocument.path):e.unknownDocument?li.fromSegments(e.unknownDocument.path):Mr()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>Ei.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=gu(this.serializer),i=new Ou(Ru.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:ma();ol(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Ei.forEach(n,((e,n)=>{const s=new Tr(n),o=gl.ct(this.serializer,s),a=i.getIndexManager(s),c=Xl.ct(s,this.serializer,a,i.referenceDelegate);return new Eu(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new fs(t,Mi._e),e).next()}))}))}}function Fu(e){e.createObjectStore("targetDocuments",{keyPath:Ji}).createIndex("documentTargetsIndex",Zi,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xi,{unique:!0}),e.createObjectStore("targetGlobal")}const Uu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zu{constructor(e,t,n,r,i,s,o,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=s,this.document=o,this.oi=c,this._i=l,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!zu.D())throw new Vr(zr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hu(this,r),this.Ii=t+"main",this.serializer=new tl(a),this.Ti=new ki(this.Ii,this.ai,new Lu(this.serializer)),this.qr=new ru(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gu(this.serializer),this.Kr=new fl,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&Or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Vr(zr.FAILED_PRECONDITION,Uu);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new Mi(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>qu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(ji(e))return Dr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Dr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return Vu(e).get("owner").next((e=>Ei.resolve(this.wi(e))))}Si(e){return qu(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ps(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Ei.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Ei.resolve(!0):Vu(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Vr(zr.FAILED_PRECONDITION,Uu);return!1}}return!(!this.networkEnabled||!this.inForeground)||qu(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Dr("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new fs(e,Mi._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>qu(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return Xl.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vl(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return gl.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Dr("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?hs:14===e?ds:13===e?us:12===e?ls:11===e?cs:void Mr()}(this.ai);let s;return this.Ti.runTransaction(e,r,i,(r=>(s=new fs(r,this.Lr?this.Lr.next():Mi._e),"readwrite-primary"===t?this.fi(s).next((e=>!!e||this.gi(s))).next((t=>{if(!t)throw Or("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new Vr(zr.FAILED_PRECONDITION,xi);return n(s)})).next((e=>this.yi(s).next((()=>e)))):this.Li(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Li(e){return Vu(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Vr(zr.FAILED_PRECONDITION,Uu)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vu(e).put("owner",t)}static D(){return ki.D()}pi(e){const t=Vu(e);return t.get("owner").next((e=>this.wi(e)?(Dr("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ei.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Or("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;(0,a.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Dr("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Or("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Or("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Vu(e){return ps(e,"owner")}function qu(e){return ps(e,"clientMetadata")}function Bu(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Hu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=ma(),r=ma();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Hu(e,t.fromCache,n,r)}}class Wu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ku{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Wu;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Nr()<=o.in.DEBUG&&Dr("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ei.resolve()):(Nr()<=o.in.DEBUG&&Dr("QueryEngine","Query:",Zo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Nr()<=o.in.DEBUG&&Dr("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Go(t))):Ei.resolve())}zi(e,t){if(Ho(t))return Ei.resolve(null);let n=Go(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Yo(t,null,"F"),n=Go(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ma(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,r);return this.Zi(t,s,i,n.readTime)?this.zi(e,Yo(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,r){return Ho(t)||r.isEqual(ii.min())?Ei.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const s=this.Yi(t,i);return this.Zi(t,s,n,r)?Ei.resolve(null):(Nr()<=o.in.DEBUG&&Dr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zo(t)),this.Xi(e,s,t,vi(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new xs(na(e));return t.forEach(((t,r)=>{ea(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Nr()<=o.in.DEBUG&&Dr("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.Gi.getDocumentsMatchingQuery(e,t,bi.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Gu{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new ys(ei),this.ns=new ia((e=>Ro(e)),Mo),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Eu(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function Qu(e,t,n,r){return new Gu(e,t,n,r)}async function $u(e,t){const n=Ur(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=ma();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Yu(e){const t=Ur(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function Xu(e,t,n){let r=ma(),i=ma();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=oa();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ii.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Dr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{us:r,cs:i}}))}function Ju(e,t){const n=Ur(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Zu(e,t){const n=Ur(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Ei.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new el(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function ed(e,t,n){const r=Ur(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!ji(e))throw e;Dr("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function td(e,t,n){const r=Ur(e);let i=ii.min(),s=ma();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ur(e),i=r.ns.get(n);return void 0!==i?Ei.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Go(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:ii.min(),n?s:ma()))).next((e=>(id(r,ta(t),e),{documents:e,ls:s})))))}function nd(e,t){const n=Ur(e),r=Ur(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function rd(e,t){const n=Ur(e),r=n.rs.get(t)||ii.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,vi(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(id(n,t,e),e)))}function id(e,t,n){let r=e.rs.get(t)||ii.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function sd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ma();const r=await Zu(e,Go(ll(t.bundledQuery))),i=Ur(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=jc(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(e,t);const o=r.withResumeToken(Ts.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(o.targetId,o),i.qr.updateTargetData(e,o).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function od(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ad(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function cd(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class ld{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Vr(r.error.code,r.error.message))),s?new ld(e,t,r.state,i):(Or("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ud{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Vr(n.error.code,n.error.message))),i?new ud(e,n.state,r):(Or("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=va();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Ui(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new dd(e,i):(Or("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class hd{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hd(t.clientId,t.onlineState):(Or("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class fd{constructor(){this.activeTargetIds=va()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pd{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ys(ei),this.started=!1,this.ps=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=od(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new fd),this.Ss=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(od(this.persistenceKey,n));if(e){const t=dd.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(cd(this.persistenceKey,e));if(n){const r=ud.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(cd(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Dr("SharedClientState","READ",e,t),t}setItem(e,t){Dr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Dr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Dr("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Mi._e;if(null!=e)try{const n=JSON.parse(e);Lr("number"==typeof n),t=n}catch(e){Or("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Mi._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new ld(this.currentUser,e,t,n),i=ad(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=ad(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=cd(this.persistenceKey,e),i=new ud(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return dd.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ld.Ts(new Tr(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return ud.Ts(r,t)}Ms(e){return hd.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Dr("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Xs(s,o).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=va();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class md{constructor(){this.eo=new fd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new fd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gd{ro(e){}shutdown(){}}class vd{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Dr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Dr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yd=null;function bd(){return null===yd?yd=268435456+Math.round(2147483648*Math.random()):yd++,"0x"+yd.toString(16)}const wd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xd{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const _d="WebChannelConnection";class Sd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const s=bd(),o=this.So(e,t);Dr("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,o,a,n).then((t=>(Dr("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Ar("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,s){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ir,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=wd[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=bd();return new Promise(((s,o)=>{const a=new Sr;a.setWithCredentials(!0),a.listenOnce(br.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case yr.NO_ERROR:const t=a.getResponseJson();Dr(_d,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case yr.TIMEOUT:Dr(_d,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Vr(zr.DEADLINE_EXCEEDED,"Request time out"));break;case yr.HTTP_ERROR:const n=a.getStatus();if(Dr(_d,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(zr).indexOf(t)>=0?t:zr.UNKNOWN}(t.status);o(new Vr(e,t.message))}else o(new Vr(zr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Vr(zr.UNAVAILABLE,"Connection failed."));break;default:Mr()}}finally{Dr(_d,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Dr(_d,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}vo(e,t,n){const r=bd(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gr(),o=vr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Dr(_d,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=s.createWebChannel(l,a);let d=!1,h=!1;const f=new xd({co:t=>{h?Dr(_d,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Dr(_d,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Dr(_d,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,_r.EventType.OPEN,(()=>{h||Dr(_d,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,_r.EventType.CLOSE,(()=>{h||(h=!0,Dr(_d,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,_r.EventType.ERROR,(t=>{h||(h=!0,Ar(_d,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new Vr(zr.UNAVAILABLE,"The operation could not be completed")))})),p(u,_r.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Lr(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Dr(_d,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=tc[e];if(void 0!==t)return ic(t)}(t),i=o.message;void 0===n&&(n=zr.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.Ro(new Vr(n,i)),u.close()}else Dr(_d,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(o,wr.STAT_EVENT,(t=>{t.stat===xr.PROXY?Dr(_d,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===xr.NOPROXY&&Dr(_d,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function Ed(){return"undefined"!=typeof window?window:null}function Cd(){return"undefined"!=typeof document?document:null}function kd(e){return new Ec(e,!0)}class Td{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Dr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Id{constructor(e,t,n,r,i,s,o,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Td(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===zr.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===zr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new Vr(zr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Dr("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Dr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jd extends Id{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Lr(void 0===t||"string"==typeof t),Ts.fromBase64String(t||"")):(Lr(void 0===t||t instanceof Uint8Array),Ts.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?zr.UNKNOWN:ic(e.code);return new Vr(t,e.message||"")}(o);n=new gc(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Oc(e,r.document.name),s=jc(r.document.updateTime),o=r.document.createTime?jc(r.document.createTime):ii.min(),a=new so({mapValue:{fields:r.document.fields}}),c=ao.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new pc(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Oc(e,r.document),s=r.readTime?jc(r.readTime):ii.min(),o=ao.newNoDocument(i,s),a=r.removedTargetIds||[];n=new pc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Oc(e,r.document),s=r.removedTargetIds||[];n=new pc([],s,i,null)}else{if(!("filter"in t))return Mr();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new ec(r,i),o=e.targetId;n=new mc(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ii.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ii.min():t.readTime?jc(t.readTime):ii.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=Mc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Lo(r)?{documents:qc(e,r)}:{query:Bc(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Tc(e,t.resumeToken);const r=Cc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ii.min())>0){n.readTime=kc(e,t.snapshotVersion.toTimestamp());const r=Cc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mr()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=Mc(this.serializer),t.removeTarget=e,this.e_(t)}}class Nd extends Id{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Lr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(Lr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?jc(e.updateTime):jc(t);return n.isEqual(ii.min())&&(n=jc(t)),new Aa(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=jc(e.commitTime);return this.listener.I_(n,t)}return Lr(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Mc(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>zc(this.serializer,e)))};this.e_(t)}}class Pd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new Vr(zr.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.wo(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===zr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vr(zr.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===zr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vr(zr.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class Dd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Or(t),this.f_=!1):Dr("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Od{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{qd(this)&&(Dr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ur(e);t.C_.add(4),await Rd(t),t.M_.set("Unknown"),t.C_.delete(4),await Ad(t)}(this))}))})),this.M_=new Dd(n,r)}}async function Ad(e){if(qd(e))for(const t of e.v_)await t(!0)}async function Rd(e){for(const t of e.v_)await t(!1)}function Md(e,t){const n=Ur(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Vd(n)?zd(n):oh(n).Ho()&&Fd(n,t))}function Ld(e,t){const n=Ur(e),r=oh(n);n.D_.delete(t),r.Ho()&&Ud(n,t),0===n.D_.size&&(r.Ho()?r.Zo():qd(n)&&n.M_.set("Unknown"))}function Fd(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ii.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}oh(e).u_(t)}function Ud(e,t){e.x_.Oe(t),oh(e).c_(t)}function zd(e){e.x_=new yc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),oh(e).start(),e.M_.g_()}function Vd(e){return qd(e)&&!oh(e).jo()&&e.D_.size>0}function qd(e){return 0===Ur(e).C_.size}function Bd(e){e.x_=void 0}async function Hd(e){e.D_.forEach(((t,n)=>{Fd(e,t)}))}async function Wd(e,t){Bd(e),Vd(e)?(e.M_.w_(t),zd(e)):e.M_.set("Unknown")}async function Kd(e,t,n){if(e.M_.set("Online"),t instanceof gc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){Dr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Gd(e,n)}else if(t instanceof pc?e.x_.$e(t):t instanceof mc?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(ii.min()))try{const t=await Yu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(Ts.EMPTY_BYTE_STRING,r.snapshotVersion)),Ud(e,t);const i=new el(r.target,t,n,r.sequenceNumber);Fd(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Dr("RemoteStore","Failed to raise snapshot:",t),await Gd(e,t)}}async function Gd(e,t,n){if(!ji(t))throw t;e.C_.add(1),await Rd(e),e.M_.set("Offline"),n||(n=()=>Yu(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Dr("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Ad(e)}))}function Qd(e,t){return t().catch((n=>Gd(e,n,t)))}async function $d(e){const t=Ur(e),n=ah(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Yd(t);)try{const e=await Ju(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,Xd(t,e)}catch(e){await Gd(t,e)}Jd(t)&&Zd(t)}function Yd(e){return qd(e)&&e.b_.length<10}function Xd(e,t){e.b_.push(t);const n=ah(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Jd(e){return qd(e)&&!ah(e).jo()&&e.b_.length>0}function Zd(e){ah(e).start()}async function eh(e){ah(e).E_()}async function th(e){const t=ah(e);for(const n of e.b_)t.P_(n.mutations)}async function nh(e,t,n){const r=e.b_.shift(),i=Xa.from(r,t,n);await Qd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await $d(e)}async function rh(e,t){t&&ah(e).h_&&await async function(e,t){if(function(e){return rc(e)&&e!==zr.ABORTED}(t.code)){const n=e.b_.shift();ah(e).Yo(),await Qd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await $d(e)}}(e,t),Jd(e)&&Zd(e)}async function ih(e,t){const n=Ur(e);n.asyncQueue.verifyOperationInProgress(),Dr("RemoteStore","RemoteStore received new credentials");const r=qd(n);n.C_.add(3),await Rd(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Ad(n)}async function sh(e,t){const n=Ur(e);t?(n.C_.delete(2),await Ad(n)):t||(n.C_.add(2),await Rd(n),n.M_.set("Unknown"))}function oh(e){return e.O_||(e.O_=function(e,t,n){const r=Ur(e);return r.A_(),new jd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Hd.bind(null,e),Io:Wd.bind(null,e),a_:Kd.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),Vd(e)?zd(e):e.M_.set("Unknown")):(await e.O_.stop(),Bd(e))}))),e.O_}function ah(e){return e.N_||(e.N_=function(e,t,n){const r=Ur(e);return r.A_(),new Nd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:eh.bind(null,e),Io:rh.bind(null,e),T_:th.bind(null,e),I_:nh.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await $d(e)):(await e.N_.stop(),e.b_.length>0&&(Dr("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class ch{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new ch(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vr(zr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lh(e,t){if(Or("AsyncQueue","".concat(t,": ").concat(e)),ji(e))return new Vr(zr.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class uh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||li.comparator(t.key,n.key):(e,t)=>li.comparator(e.key,t.key),this.keyedMap=ca(),this.sortedSet=new ys(this.comparator)}static emptySet(e){return new uh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new uh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class dh{constructor(){this.B_=new ys(li.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Mr():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class hh{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new hh(e,t,uh.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class fh{constructor(){this.k_=void 0,this.listeners=[]}}class ph{constructor(){this.queries=new ia((e=>Jo(e)),Xo),this.onlineState="Unknown",this.q_=new Set}}async function mh(e,t){const n=Ur(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new fh),i)try{s.k_=await n.onListen(r)}catch(e){const n=lh(e,"Initialization of query '".concat(Zo(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&bh(n)}async function gh(e,t){const n=Ur(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function vh(e,t){const n=Ur(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&bh(n)}function yh(e,t,n){const r=Ur(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function bh(e){e.q_.forEach((e=>{e.next()}))}class wh{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new hh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=hh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class xh{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class _h{constructor(e){this.serializer=e}hs(e){return Oc(this.serializer,e)}Ps(e){return e.metadata.exists?Uc(this.serializer,e.document,!1):ao.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return jc(e)}}class Sh{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Eh(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=oi.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new _h(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||ma()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Ur(e);let s=ma(),o=oa();for(const l of n){const e=t.hs(l.metadata.name);l.document&&(s=s.add(e));const n=t.Ps(l);n.setReadTime(t.Is(l.metadata.readTime)),o=o.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=await Zu(i,function(e){return Go(Bo(oi.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Xu(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new _h(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await sd(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function Eh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Ch{constructor(e){this.key=e}}class kh{constructor(e){this.key=e}}class Th{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ma(),this.mutatedKeys=ma(),this._a=na(e),this.aa=new uh(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new dh,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=ea(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ha(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||c&&this._a(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:s,la:n,Zi:o,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mr()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const o=t&&!r?this.Ia():[],a=0===this.oa.size&&this.current&&!r?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new hh(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new dh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ma(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new kh(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new Ch(n))})),t}da(e){this.ia=e.ls,this.oa=ma();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return hh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Ih{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class jh{constructor(e){this.key=e,this.Ra=!1}}class Nh{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ia((e=>Jo(e)),Xo),this.fa=new Map,this.ga=new Set,this.pa=new ys(li.comparator),this.ya=new Map,this.wa=new Tu,this.Sa={},this.ba=new Map,this.Da=nu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function Ph(e,t){const n=rf(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const e=await Zu(n.localStore,Go(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Dh(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Md(n.remoteStore,e)}return i}async function Dh(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await td(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Bh(e,t.targetId,a.Ta),a.snapshot}(e,t,n,r);const s=await td(e.localStore,t,!0),o=new Th(t,s.ls),a=o.ca(s.documents),c=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=o.applyChanges(a,e.isPrimaryClient,c);Bh(e,n,l.Ta);const u=new Ih(t,n,o);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function Oh(e,t){const n=Ur(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!Xo(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ed(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Ld(n.remoteStore,r.targetId),Vh(n,r.targetId)})).catch(Si)):(Vh(n,r.targetId),await ed(n.localStore,r.targetId,!0))}async function Ah(e,t){const n=Ur(e);try{const e=await function(e,t){const n=Ur(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(Ts.EMPTY_BYTE_STRING,ii.min()).withLastLimboFreeSnapshotVersion(ii.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,s)&&o.push(n.qr.updateTargetData(e,l))}));let a=oa(),c=ma();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Xu(e,s,t.documentUpdates).next((e=>{a=e.us,c=e.cs}))),!r.isEqual(ii.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Ei.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(Lr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?Lr(r.Ra):e.removedDocuments.size>0&&(Lr(r.Ra),r.Ra=!1))})),await Kh(n,e,t)}catch(e){await Si(e)}}function Rh(e,t,n){const r=Ur(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ur(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&bh(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Mh(e,t,n){const r=Ur(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let e=new ys(li.comparator);e=e.insert(s,ao.newNoDocument(s,ii.min()));const n=ma().add(s),i=new hc(ii.min(),new Map,new ys(ei),e,n);await Ah(r,i),r.pa=r.pa.remove(s),r.ya.delete(t),Wh(r)}else await ed(r.localStore,t,!1).then((()=>Vh(r,t,n))).catch(Si)}async function Lh(e,t){const n=Ur(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ur(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Ei.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Lr(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ma();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);zh(n,r,null),Uh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kh(n,e)}catch(e){await Si(e)}}async function Fh(e,t,n){const r=Ur(e);try{const e=await function(e,t){const n=Ur(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Lr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);zh(r,t,n),Uh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Kh(r,e)}catch(n){await Si(n)}}function Uh(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function zh(e,t,n){const r=Ur(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Vh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||qh(e,t)}))}function qh(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(Ld(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Wh(e))}function Bh(e,t,n){for(const r of n)r instanceof Ch?(e.wa.addReference(r.key,t),Hh(e,r)):r instanceof kh?(Dr("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||qh(e,r.key)):Mr()}function Hh(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Dr("SyncEngine","New document in limbo: "+n),e.ga.add(r),Wh(e))}function Wh(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new li(oi.fromString(t)),r=e.Da.next();e.ya.set(r,new jh(n)),e.pa=e.pa.insert(n,r),Md(e.remoteStore,new el(Go(Bo(n.path)),r,"TargetPurposeLimboResolution",Mi._e))}}async function Kh(e,t,n){const r=Ur(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{o.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Hu.Qi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Va.a_(i),await async function(e,t){const n=Ur(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ei.forEach(t,(t=>Ei.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ei.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!ji(e))throw e;Dr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,s))}async function Gh(e,t){const n=Ur(e);if(!n.currentUser.isEqual(t)){Dr("SyncEngine","User change. New user:",t.toKey());const e=await $u(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new Vr(zr.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Kh(n,e._s)}}function Qh(e,t){const n=Ur(e),r=n.ya.get(t);if(r&&r.Ra)return ma().add(r.key);{let e=ma();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function $h(e,t){const n=Ur(e),r=await td(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&Bh(n,t.targetId,i.Ta),i}async function Yh(e,t){const n=Ur(e);return rd(n.localStore,t).then((e=>Kh(n,e)))}async function Xh(e,t,n,r){const i=Ur(e),s=await function(e,t){const n=Ur(e),r=Ur(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Ei.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await $d(i.remoteStore):"acknowledged"===n||"rejected"===n?(zh(i,t,r||null),Uh(i,t),function(e,t){Ur(Ur(e).mutationQueue).Fn(t)}(i.localStore,t)):Mr(),await Kh(i,s)):Dr("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Jh(e,t,n){const r=Ur(e),i=[],s=[];for(const o of t){let e;const t=r.fa.get(o);if(t&&0!==t.length){e=await Zu(r.localStore,Go(t[0]));for(const e of t){const t=r.ma.get(e),n=await $h(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await nd(r.localStore,o);e=await Zu(r.localStore,t),await Dh(r,Zh(t),o,!1,e.resumeToken)}i.push(e)}return r.Va.a_(s),i}function Zh(e){return qo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ef(e){return function(e){return Ur(Ur(e).persistence).Bi()}(Ur(e).localStore)}async function tf(e,t,n,r){const i=Ur(e);if(i.Ca)return void Dr("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await rd(i.localStore,ta(s[0])),r=hc.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Ts.EMPTY_BYTE_STRING);await Kh(i,e,r);break}case"rejected":await ed(i.localStore,t,!0),Vh(i,t,r);break;default:Mr()}}async function nf(e,t,n){const r=rf(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){Dr("SyncEngine","Adding an already active target "+e);continue}const t=await nd(r.localStore,e),n=await Zu(r.localStore,t);await Dh(r,Zh(t),n.targetId,!1,n.resumeToken),Md(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await ed(r.localStore,e,!1).then((()=>{Ld(r.remoteStore,e),Vh(r,e)})).catch(Si)}}function rf(e){const t=Ur(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ah.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mh.bind(null,t),t.Va.a_=vh.bind(null,t.eventManager),t.Va.Fa=yh.bind(null,t.eventManager),t}function sf(e){const t=Ur(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fh.bind(null,t),t}class of{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Qu(this.persistence,new Ku,e.initialUser,this.serializer)}createPersistence(e){return new Ou(Ru.jr,this.serializer)}createSharedClientState(e){return new md}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class af extends of{constructor(e){super(),this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){Lr(this.persistence.referenceDelegate instanceof Mu);const n=this.persistence.referenceDelegate.garbageCollector;return new lu(n,e.asyncQueue,t)}createPersistence(e){const t=void 0!==this.cacheSizeBytes?Ql.withCacheSize(this.cacheSizeBytes):Ql.DEFAULT;return new Ou((e=>Mu.jr(e,t)),this.serializer)}}class cf extends of{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await sf(this.xa.syncEngine),await $d(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Qu(this.persistence,new Ku,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new lu(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Ri(t,this.persistence);return new Ai(e.asyncQueue,n)}createPersistence(e){const t=Bu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ql.withCacheSize(this.cacheSizeBytes):Ql.DEFAULT;return new zu(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ed(),Cd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new md}}class lf extends cf{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof pd&&(this.sharedClientState.syncEngine={Ys:Xh.bind(null,t),Zs:tf.bind(null,t),Xs:nf.bind(null,t),Bi:ef.bind(null,t),Js:Yh.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=Ur(e);if(rf(n),sf(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Jh(n,e.toArray());n.Ca=!0,await sh(n.remoteStore,!0);for(const r of t)Md(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Vh(n,i),ed(n.localStore,i,!0)))),Ld(n.remoteStore,i)})),await t,await Jh(n,e),function(e){const t=Ur(e);t.ya.forEach(((e,n)=>{Ld(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new ys(li.comparator)}(n),n.Ca=!1,await sh(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Ed();if(!pd.D(t))throw new Vr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Bu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pd(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class uf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Rh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gh.bind(null,this.syncEngine),await sh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ph}createDatastore(e){const t=kd(e.databaseInfo.databaseId),n=function(e){return new Sd(e)}(e.databaseInfo);return function(e,t,n,r){return new Pd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Od(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Rh(this.syncEngine,e,0)),vd.D()?new vd:new gd)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Nh(e,t,n,r,i,s);return o&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ur(e);Dr("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await Rd(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function df(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class hf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class ff{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new qr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new xh(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class pf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Vr(zr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Ur(e),r=Mc(n.serializer)+"/documents",i={documents:t.map((e=>Dc(n.serializer,e)))},s=await n.Co("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Lr(!!t.found),t.found.name,t.found.updateTime;const n=Oc(e,t.found.name),r=jc(t.found.updateTime),i=t.found.createTime?jc(t.found.createTime):ii.min(),s=new so({mapValue:{fields:t.found.fields}});return ao.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Lr(!!t.missing),Lr(!!t.readTime);const n=Oc(e,t.missing),r=jc(t.readTime);return ao.newNoDocument(n,r)}(e,t):Mr()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Lr(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=li.fromPath(t);this.mutations.push(new $a(n,this.precondition(n)))})),await async function(e,t){const n=Ur(e),r=Mc(n.serializer)+"/documents",i={writes:t.map((e=>zc(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mr();t=ii.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Vr(zr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ii.min())?Ra.exists(!1):Ra.updateTime(t):Ra.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ii.min()))throw new Vr(zr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ra.updateTime(t)}return Ra.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class mf{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new Td(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new pf(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!Li(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!rc(t)}return!1}}class gf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Tr.UNAUTHENTICATED,this.clientId=Zr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Dr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Dr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Vr(zr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=lh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function vf(e,t){e.asyncQueue.verifyOperationInProgress(),Dr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await $u(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function yf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wf(e);Dr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>ih(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ih(t.remoteStore,n))),e._onlineComponents=t}function bf(e){return"FirebaseError"===e.name?e.code===zr.FAILED_PRECONDITION||e.code===zr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function wf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Dr("FirestoreClient","Using user provided OfflineComponentProvider");try{await vf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!bf(n))throw n;Ar("Error using user provided cache. Falling back to memory cache: "+n),await vf(e,new of)}}else Dr("FirestoreClient","Using default OfflineComponentProvider"),await vf(e,new of);return e._offlineComponents}async function xf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Dr("FirestoreClient","Using user provided OnlineComponentProvider"),await yf(e,e._uninitializedComponentsProvider._online)):(Dr("FirestoreClient","Using default OnlineComponentProvider"),await yf(e,new uf))),e._onlineComponents}function _f(e){return wf(e).then((e=>e.persistence))}function Sf(e){return wf(e).then((e=>e.localStore))}function Ef(e){return xf(e).then((e=>e.remoteStore))}function Cf(e){return xf(e).then((e=>e.syncEngine))}function kf(e){return xf(e).then((e=>e.datastore))}async function Tf(e){const t=await xf(e),n=t.eventManager;return n.onListen=Ph.bind(null,t.syncEngine),n.onUnlisten=Oh.bind(null,t.syncEngine),n}function If(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new qr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new hf({next:s=>{t.enqueueAndForget((()=>gh(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Vr(zr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Vr(zr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new wh(Bo(n.path),s,{includeMetadataChanges:!0,J_:!0});return mh(e,o)}(await Tf(e),e.asyncQueue,t,n,r))),r.promise}function jf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new qr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new hf({next:n=>{t.enqueueAndForget((()=>gh(e,o))),n.fromCache&&"server"===r.source?i.reject(new Vr(zr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new wh(n,s,{includeMetadataChanges:!0,J_:!0});return mh(e,o)}(await Tf(e),e.asyncQueue,t,n,r))),r.promise}function Nf(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?oc().encode(e):e,function(e,t){return new ff(e,t)}(function(e,t){if(e instanceof Uint8Array)return df(e,t);if(e instanceof ArrayBuffer)return df(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,kd(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Ur(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Ur(e),r=jc(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Eh(r));const i=new Sh(r,e.localStore,t.serializer);let s=await t.Ma();for(;s;){const e=await i.ea(s);e&&n._updateProgress(e),s=await t.Ma()}const o=await i.complete();return await Kh(e,o.ra,void 0),await function(e,t){const n=Ur(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.na)}catch(e){return Ar("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Cf(e),i,r)}))}function Pf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Df=new Map;function Of(e,t,n){if(!n)throw new Vr(zr.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Af(e,t,n,r){if(!0===t&&!0===r)throw new Vr(zr.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Rf(e){if(!li.isDocumentKey(e))throw new Vr(zr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mf(e){if(li.isDocumentKey(e))throw new Vr(zr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Mr()}function Ff(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vr(zr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lf(e);throw new Vr(zr.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Uf(e,t){if(t<=0)throw new Vr(zr.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class zf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Vr(zr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Vr(zr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Af("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Vr(zr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Vr(zr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Vr(zr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Vr(zr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vr(zr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Hr;switch(e.type){case"firstParty":return new Qr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Vr(zr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Df.get(e);t&&(Dr("ComponentProvider","Removing Datastore"),Df.delete(e),t.terminate())}(this),Promise.resolve()}}function qf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Ff(e,Vf))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Tr.MOCK_USER;else{t=(0,a.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Vr(zr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Tr(s)}e._authCredentials=new Wr(new Br(t,n))}}class Bf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Bf(this.firestore,e,this._query)}}class Hf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hf(this.firestore,e,this._key)}}class Wf extends Bf{constructor(e,t,n){super(e,t,Bo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hf(this.firestore,null,new li(e))}withConverter(e){return new Wf(this.firestore,e,this._path)}}function Kf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,a.m9)(e),Of("collection","path",t),e instanceof Vf){const n=oi.fromString(t,...r);return Mf(n),new Wf(e,null,n)}{if(!(e instanceof Hf||e instanceof Wf))throw new Vr(zr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oi.fromString(t,...r));return Mf(n),new Wf(e.firestore,null,n)}}function Gf(e,t){if(e=Ff(e,Vf),Of("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Vr(zr.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Bf(e,null,function(e){return new Vo(oi.emptyPath(),e)}(t))}function Qf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,a.m9)(e),1===arguments.length&&(t=Zr.newId()),Of("doc","path",t),e instanceof Vf){const n=oi.fromString(t,...r);return Rf(n),new Hf(e,null,new li(n))}{if(!(e instanceof Hf||e instanceof Wf))throw new Vr(zr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oi.fromString(t,...r));return Rf(n),new Hf(e.firestore,e instanceof Wf?e.converter:null,new li(n))}}function $f(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),(e instanceof Hf||e instanceof Wf)&&(t instanceof Hf||t instanceof Wf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Yf(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),e instanceof Bf&&t instanceof Bf&&e.firestore===t.firestore&&Xo(e._query,t._query)&&e.converter===t.converter}class Xf{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Td(this,"async_queue_retry"),this.iu=()=>{const e=Cd();e&&Dr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=Cd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Cd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new qr;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!ji(e))throw e;Dr("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Or("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=ch.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&Mr()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function Jf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Zf{constructor(){this._progressObserver={},this._taskCompletionResolver=new qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const ep=-1;class tp extends Vf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Xf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||sp(this),this._firestoreClient.terminate()}}function np(e,t,n){n||(n="(default)");const r=(0,i.qX)(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n}),i=r.getOptions(n);if((0,a.vZ)(i,t))return e;throw new Vr(zr.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new Vr(zr.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Vr(zr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function rp(e,t){const n="object"==typeof e?e:(0,i.Mq)(),r="string"==typeof e?e:t||"(default)",s=(0,i.qX)(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=(0,a.P0)("firestore");e&&qf(s,...e)}return s}function ip(e){return e._firestoreClient||sp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function sp(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Rs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Pf(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new gf(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function op(e,t){gp(e=Ff(e,tp));const n=ip(e);if(n._uninitializedComponentsProvider)throw new Vr(zr.FAILED_PRECONDITION,"SDK cache is already specified.");Ar("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new uf;return cp(n,i,new cf(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function ap(e){gp(e=Ff(e,tp));const t=ip(e);if(t._uninitializedComponentsProvider)throw new Vr(zr.FAILED_PRECONDITION,"SDK cache is already specified.");Ar("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new uf;return cp(t,r,new lf(r,n.cacheSizeBytes))}function cp(e,t,n){const r=new qr;return e.asyncQueue.enqueue((async()=>{try{await vf(e,n),await yf(e,t),r.resolve()}catch(e){const n=e;if(!bf(n))throw n;Ar("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function lp(e){if(e._initialized&&!e._terminated)throw new Vr(zr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new qr;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!ki.D())return Promise.resolve();const t=e+"main";await ki.delete(t)}(Bu(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function up(e){return function(e){const t=new qr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Ur(e);qd(n.remoteStore)||Dr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ur(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=lh(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Cf(e),t))),t.promise}(ip(e=Ff(e,tp)))}function dp(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await _f(e),n=await Ef(e);return t.setNetworkEnabled(!0),function(e){const t=Ur(e);return t.C_.delete(0),Ad(t)}(n)}))}(ip(e=Ff(e,tp)))}function hp(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await _f(e),n=await Ef(e);return t.setNetworkEnabled(!1),async function(e){const t=Ur(e);t.C_.add(0),await Rd(t),t.M_.set("Offline")}(n)}))}(ip(e=Ff(e,tp)))}function fp(e){return(0,i.wN)(e.app,"firestore",e._databaseId.database),e._delete()}function pp(e,t){const n=ip(e=Ff(e,tp)),r=new Zf;return Nf(n,e._databaseId,t,r),r}function mp(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Ur(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await Sf(e),t)))}(ip(e=Ff(e,tp)),t).then((t=>t?new Bf(e,null,t.query):null))}function gp(e){if(e._initialized||e._terminated)throw new Vr(zr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",t=arguments.length>1?arguments[1]:void 0;this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class yp{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class bp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bp(Ts.fromBase64String(e))}catch(e){throw new Vr(zr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new bp(Ts.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Vr(zr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ci(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function xp(){return new wp("__name__")}class _p{constructor(e){this._methodName=e}}class Sp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vr(zr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vr(zr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ei(this._lat,e._lat)||ei(this._long,e._long)}}const Ep=/^__.*__$/;class Cp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ba(e,this.data,t,this.fieldTransforms)}}class kp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Tp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mr()}}class Ip{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Qp(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Tp(this.Iu)&&Ep.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class jp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||kd(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ip({Iu:e,methodName:t,gu:n,path:ci.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Np(e){const t=e._freezeSettings(),n=kd(e._databaseId);return new jp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Pp(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);Hp("Data must be an object, but it was:",o,r);const a=qp(r,o);let c,l;if(s.merge)c=new Es(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Wp(t,r,n);if(!o.contains(i))throw new Vr(zr.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));$p(e,i)||e.push(i)}c=new Es(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new Cp(new so(a),c,l)}class Dp extends _p{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dp}}function Op(e,t,n){return new Ip({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ap extends _p{_toFieldTransform(e){return new Oa(e.path,new Ca)}isEqual(e){return e instanceof Ap}}class Rp extends _p{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Op(this,e,!0),n=this.yu.map((e=>Vp(e,t))),r=new ka(n);return new Oa(e.path,r)}isEqual(e){return this===e}}class Mp extends _p{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Op(this,e,!0),n=this.yu.map((e=>Vp(e,t))),r=new Ia(n);return new Oa(e.path,r)}isEqual(e){return this===e}}class Lp extends _p{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Na(e.serializer,wa(e.serializer,this.wu));return new Oa(e.path,t)}isEqual(e){return this===e}}function Fp(e,t,n,r){const i=e.pu(1,t,n);Hp("Data must be an object, but it was:",i,r);const s=[],o=so.empty();gs(r,((e,r)=>{const c=Gp(t,e,n);r=(0,a.m9)(r);const l=i.Ru(c);if(r instanceof Dp)s.push(c);else{const e=Vp(r,l);null!=e&&(s.push(c),o.set(c,e))}}));const c=new Es(s);return new kp(o,c,i.fieldTransforms)}function Up(e,t,n,r,i,s){const o=e.pu(1,t,n),c=[Wp(t,r,n)],l=[i];if(s.length%2!=0)throw new Vr(zr.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let a=0;a<s.length;a+=2)c.push(Wp(t,s[a])),l.push(s[a+1]);const u=[],d=so.empty();for(let f=c.length-1;f>=0;--f)if(!$p(u,c[f])){const e=c[f];let t=l[f];t=(0,a.m9)(t);const n=o.Ru(e);if(t instanceof Dp)u.push(e);else{const r=Vp(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new Es(u);return new kp(d,h,o.fieldTransforms)}function zp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Vp(n,e.pu(r?4:3,t))}function Vp(e,t){if(Bp(e=(0,a.m9)(e)))return Hp("Unsupported field value:",t,e),qp(e,t);if(e instanceof _p)return function(e,t){if(!Tp(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Vp(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wa(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ri.fromDate(e);return{timestampValue:kc(t.serializer,n)}}if(e instanceof ri){const n=new ri(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kc(t.serializer,n)}}if(e instanceof Sp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bp)return{bytesValue:Tc(t.serializer,e._byteString)};if(e instanceof Hf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Nc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(Lf(e)))}(e,t)}function qp(e,t){const n={};return vs(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gs(e,((e,r)=>{const i=Vp(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Bp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ri||e instanceof Sp||e instanceof bp||e instanceof Hf||e instanceof _p)}function Hp(e,t,n){if(!Bp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Lf(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function Wp(e,t,n){if((t=(0,a.m9)(t))instanceof wp)return t._internalPath;if("string"==typeof t)return Gp(e,t);throw Qp("Field path arguments must be of type string or ",e,!1,void 0,n)}const Kp=new RegExp("[~\\*/\\[\\]]");function Gp(e,t,n){if(t.search(Kp)>=0)throw Qp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new wp(...t.split("."))._internalPath}catch(w){throw Qp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Qp(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=" in field ".concat(r)),o&&(c+=" in document ".concat(i)),c+=")"),new Vr(zr.INVALID_ARGUMENT,a+e+c)}function $p(e,t){return e.some((e=>e.isEqual(t)))}class Yp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Hf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xp extends Yp{data(){return super.data()}}function Jp(e,t){return"string"==typeof t?Gp(e,t):t instanceof wp?t._internalPath:t._delegate._internalPath}function Zp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Vr(zr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class em{}class tm extends em{}function nm(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof em&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof sm)).length,n=e.filter((e=>e instanceof rm)).length;if(t>1||t>0&&n>0)throw new Vr(zr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class rm extends tm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new rm(e,t,n)}_apply(e){const t=this._parse(e);return _m(e._query,t),new Bf(e.firestore,e.converter,$o(e._query,t))}_parse(e){const t=Np(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Vr(zr.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){xm(o,s);const t=[];for(const n of o)t.push(wm(r,e,n));a={arrayValue:{values:t}}}else a=wm(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||xm(o,s),a=zp(n,t,o,"in"===s||"not-in"===s);return mo.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function im(e,t,n){const r=t,i=Jp("where",e);return rm._create(i,r,n)}class sm extends em{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sm(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:go.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)_m(n,i),n=$o(n,i)}(e._query,t),new Bf(e.firestore,e.converter,$o(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function om(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>Sm("or",e))),sm._create("or",t)}function am(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>Sm("and",e))),sm._create("and",t)}class cm extends tm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Vr(zr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Vr(zr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ho(t,n)}(e._query,this._field,this._direction);return new Bf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Vo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function lm(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Jp("orderBy",e);return cm._create(n,t)}class um extends tm{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new um(e,t,n)}_apply(e){return new Bf(e.firestore,e.converter,Yo(e._query,this._limit,this._limitType))}}function dm(e){return Uf("limit",e),um._create("limit",e,"F")}function hm(e){return Uf("limitToLast",e),um._create("limitToLast",e,"L")}class fm extends tm{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new fm(e,t,n)}_apply(e){const t=bm(e,this.type,this._docOrFields,this._inclusive);return new Bf(e.firestore,e.converter,function(e,t){return new Vo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function pm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fm._create("startAt",t,!0)}function mm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fm._create("startAfter",t,!1)}class gm extends tm{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new gm(e,t,n)}_apply(e){const t=bm(e,this.type,this._docOrFields,this._inclusive);return new Bf(e.firestore,e.converter,function(e,t){return new Vo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function vm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gm._create("endBefore",t,!1)}function ym(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gm._create("endAt",t,!0)}function bm(e,t,n,r){if(n[0]=(0,a.m9)(n[0]),n[0]instanceof Yp)return function(e,t,n,r,i){if(!r)throw new Vr(zr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Ko(e))if(o.field.isKeyField())s.push(Gs(t,r.key));else{const e=r.data.field(o.field);if(Ds(e))throw new Vr(zr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Vr(zr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new co(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Np(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Vr(zr.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new Vr(zr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Wo(e)&&-1!==s.indexOf("/"))throw new Vr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(oi.fromString(s));if(!li.isDocumentKey(n))throw new Vr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new li(n);a.push(Gs(t,i))}else{const e=zp(n,r,s);a.push(e)}}return new co(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function wm(e,t,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new Vr(zr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wo(t)&&-1!==n.indexOf("/"))throw new Vr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(oi.fromString(n));if(!li.isDocumentKey(r))throw new Vr(zr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Gs(e,new li(r))}if(n instanceof Hf)return Gs(e,n._key);throw new Vr(zr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Lf(n),"."))}function xm(e,t){if(!Array.isArray(e)||0===e.length)throw new Vr(zr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function _m(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Vr(zr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Vr(zr.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Sm(e,t){if(!(t instanceof rm||t instanceof sm))throw new Vr(zr.INVALID_ARGUMENT,"Function ".concat(e,"() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'."))}class Em{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ns(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return gs(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Sp(Ns(e.latitude),Ns(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Os(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(As(e));default:return null}}convertTimestamp(e){const t=js(e);return new ri(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=oi.fromString(e);Lr(Zc(n));const r=new Ms(n.get(1),n.get(3)),i=new li(n.popFirst(5));return r.isEqual(t)||Or("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Cm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class km extends Em{constructor(e){super(),this.firestore=e}convertBytes(e){return new bp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hf(this.firestore,null,t)}}function Tm(e){return new vp("sum",Wp("sum",e))}function Im(e){return new vp("avg",Wp("average",e))}function jm(){return new vp("count")}function Nm(e,t){var n,r;return e instanceof vp&&t instanceof vp&&e.aggregateType===t.aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())}function Pm(e,t){return Yf(e.query,t.query)&&(0,a.vZ)(e.data(),t.data())}class Dm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Om extends Yp{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Jp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Am extends Om{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Rm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Dm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Am(this._firestore,this._userDataWriter,n.key,n,new Dm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Vr(zr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Am(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Dm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Am(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Dm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Mm(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Mm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mr()}}function Lm(e,t){return e instanceof Om&&t instanceof Om?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Rm&&t instanceof Rm&&e._firestore===t._firestore&&Yf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Fm(e){e=Ff(e,Hf);const t=Ff(e.firestore,tp);return If(ip(t),e._key).then((n=>Jm(t,e,n)))}class Um extends Em{constructor(e){super(),this.firestore=e}convertBytes(e){return new bp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hf(this.firestore,null,t)}}function zm(e){e=Ff(e,Hf);const t=Ff(e.firestore,tp),n=ip(t),r=new Um(t);return function(e,t){const n=new qr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Ur(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Vr(zr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=lh(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Sf(e),t,n))),n.promise}(n,e._key).then((n=>new Om(t,r,e._key,n,new Dm(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Vm(e){e=Ff(e,Hf);const t=Ff(e.firestore,tp);return If(ip(t),e._key,{source:"server"}).then((n=>Jm(t,e,n)))}function qm(e){e=Ff(e,Bf);const t=Ff(e.firestore,tp),n=ip(t),r=new Um(t);return Zp(e._query),jf(n,e._query).then((n=>new Rm(t,r,e,n)))}function Bm(e){e=Ff(e,Bf);const t=Ff(e.firestore,tp),n=ip(t),r=new Um(t);return function(e,t){const n=new qr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await td(e,t,!0),i=new Th(t,r.ls),s=i.ca(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=lh(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Sf(e),t,n))),n.promise}(n,e._query).then((n=>new Rm(t,r,e,n)))}function Hm(e){e=Ff(e,Bf);const t=Ff(e.firestore,tp),n=ip(t),r=new Um(t);return jf(n,e._query,{source:"server"}).then((n=>new Rm(t,r,e,n)))}function Wm(e,t,n){e=Ff(e,Hf);const r=Ff(e.firestore,tp),i=Cm(e.converter,t,n);return Xm(r,[Pp(Np(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ra.none())])}function Km(e,t,n){e=Ff(e,Hf);const r=Ff(e.firestore,tp),i=Np(r);let s;for(var o=arguments.length,c=new Array(o>3?o-3:0),l=3;l<o;l++)c[l-3]=arguments[l];return s="string"==typeof(t=(0,a.m9)(t))||t instanceof wp?Up(i,"updateDoc",e._key,t,n,c):Fp(i,"updateDoc",e._key,t),Xm(r,[s.toMutation(e._key,Ra.exists(!0))])}function Gm(e){return Xm(Ff(e.firestore,tp),[new Qa(e._key,Ra.none())])}function Qm(e,t){const n=Ff(e.firestore,tp),r=Qf(e),i=Cm(e.converter,t);return Xm(n,[Pp(Np(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ra.exists(!1))]).then((()=>r))}function $m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=(0,a.m9)(e);let c={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Jf(n[l])||(c=n[l],l++);const u={includeMetadataChanges:c.includeMetadataChanges};if(Jf(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let d,h,f;if(e instanceof Hf)h=Ff(e.firestore,tp),f=Bo(e._key.path),d={next:t=>{n[l]&&n[l](Jm(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Ff(e,Bf);h=Ff(t.firestore,tp),f=t._query;const r=new Um(h);d={next:e=>{n[l]&&n[l](new Rm(h,r,t,e))},error:n[l+1],complete:n[l+2]},Zp(e._query)}return function(e,t,n,r){const i=new hf(r),s=new wh(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>mh(await Tf(e),s))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>gh(await Tf(e),s)))}}(ip(h),f,u,d)}function Ym(e,t){return function(e,t){const n=new hf(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ur(e).q_.add(t),t.next()}(await Tf(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ur(e).q_.delete(t)}(await Tf(e),n)))}}(ip(e=Ff(e,tp)),Jf(t)?t:{next:t})}function Xm(e,t){return function(e,t){const n=new qr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=sf(e);try{const e=await function(e,t){const n=Ur(e),r=ri.now(),i=t.reduce(((e,t)=>e.add(t.key)),ma());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=oa(),c=ma();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Va(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Ha(e.key,t,oo(t.value.mapValue),Ra.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:la(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new ys(ei)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Kh(r,e.changes),await $d(r.remoteStore)}catch(e){const t=lh(e,"Failed to persist write");n.reject(t)}}(await Cf(e),t,n))),n.promise}(ip(e),t)}function Jm(e,t,n){const r=n.docs.get(t._key),i=new Um(e);return new Om(e,i,t._key,r,new Dm(n.hasPendingWrites,n.fromCache),t.converter)}function Zm(e){return eg(e,{count:jm()})}function eg(e,t){const n=Ff(e.firestore,tp),r=ip(n),i=function(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}(t,((e,t)=>new Za(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new qr;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await kf(e);r.resolve(async function(e,t,n){var r;const i=Ur(e),{request:s,R_:o}=function(e,t,n){const r=Bc(e,t),i={},s=[];let o=0;return n.forEach((e=>{const t="aggregate_"+o++;i[t]=e.alias,"count"===e.aggregateType?s.push({alias:t,count:{}}):"avg"===e.aggregateType?s.push({alias:t,avg:{field:$c(e.fieldPath)}}):"sum"===e.aggregateType&&s.push({alias:t,sum:{field:$c(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:s,structuredQuery:r.structuredQuery},parent:r.parent},R_:i}}(i.serializer,function(e){const t=Ur(e);return t.Pe||(t.Pe=Qo(t,e.explicitOrderBy)),t.Pe}(t),n),a=s.parent;i.connection.yo||delete s.parent;const c=(await i.Co("RunAggregationQuery",a,s,1)).filter((e=>!!e.result));Lr(1===c.length);const l=null===(r=c[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(l).reduce(((e,t)=>(e[o[t]]=l[t],e)),{})}(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new Um(e);return new yp(t,r,n)}(n,e,t)))}class tg{constructor(e){this.kind="memory",this._onlineComponentProvider=new uf,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=new of}toJSON(){return{kind:this.kind}}}class ng{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=dg(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class rg{constructor(){this.kind="memoryEager",this._offlineComponentProvider=new of}toJSON(){return{kind:this.kind}}}class ig{constructor(e){this.kind="memoryLru",this._offlineComponentProvider=new af(e)}toJSON(){return{kind:this.kind}}}function sg(){return new rg}function og(e){return new ig(null==e?void 0:e.cacheSizeBytes)}function ag(e){return new tg(e)}function cg(e){return new ng(e)}class lg{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new uf,this._offlineComponentProvider=new cf(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}class ug{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new uf,this._offlineComponentProvider=new lf(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes)}}function dg(e){return new lg(null==e?void 0:e.forceOwnership)}function hg(){return new ug}const fg={maxAttempts:5};class pg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Np(e)}set(e,t,n){this._verifyNotCommitted();const r=mg(e,this._firestore),i=Cm(r.converter,t,n),s=Pp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ra.none())),this}update(e,t,n){this._verifyNotCommitted();const r=mg(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),c=3;c<s;c++)o[c-3]=arguments[c];return i="string"==typeof(t=(0,a.m9)(t))||t instanceof wp?Up(this._dataReader,"WriteBatch.update",r._key,t,n,o):Fp(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Ra.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mg(e,this._firestore);return this._mutations=this._mutations.concat(new Qa(t._key,Ra.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vr(zr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mg(e,t){if((e=(0,a.m9)(e)).firestore!==t)throw new Vr(zr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class gg extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Np(e)}get(e){const t=mg(e,this._firestore),n=new km(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Mr();const r=e[0];if(r.isFoundDocument())return new Yp(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Yp(this._firestore,n,t._key,null,t.converter);throw Mr()}))}set(e,t,n){const r=mg(e,this._firestore),i=Cm(r.converter,t,n),s=Pp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=mg(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),c=3;c<s;c++)o[c-3]=arguments[c];return i="string"==typeof(t=(0,a.m9)(t))||t instanceof wp?Up(this._dataReader,"Transaction.update",r._key,t,n,o):Fp(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=mg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mg(e,this._firestore),n=new Um(this._firestore);return super.get(e).then((e=>new Om(this._firestore,n,t._key,e._document,new Dm(!1,!1),t.converter)))}}function vg(e,t,n){e=Ff(e,tp);const r=Object.assign(Object.assign({},fg),n);return function(e){if(e.maxAttempts<1)throw new Vr(zr.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new qr;return e.asyncQueue.enqueueAndForget((async()=>{const i=await kf(e);new mf(e.asyncQueue,i,n,t,r).run()})),r.promise}(ip(e),(n=>t(new gg(e,n))),r)}function yg(){return new Dp("deleteField")}function bg(){return new Ap("serverTimestamp")}function wg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Rp("arrayUnion",t)}function xg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Mp("arrayRemove",t)}function _g(e){return new Lp("increment",e)}function Sg(e){return ip(e=Ff(e,tp)),new pg(e,(t=>Xm(e,t)))}function Eg(e,t){var n;const r=ip(e=Ff(e,tp));if(!r._uninitializedComponentsProvider||"memory"===(null===(n=r._uninitializedComponentsProvider)||void 0===n?void 0:n._offlineKind))return Ar("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=function(e){const t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new Vr(zr.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const r of t.indexes){const e=Cg(r,"collectionGroup"),t=[];if(Array.isArray(r.fields))for(const n of r.fields){const e=Gp("setIndexConfiguration",Cg(n,"fieldPath"));"CONTAINS"===n.arrayConfig?t.push(new pi(e,2)):"ASCENDING"===n.order?t.push(new pi(e,0)):"DESCENDING"===n.order&&t.push(new pi(e,1))}n.push(new ui(ui.UNKNOWN_ID,e,t,gi.empty()))}return n}(t);return function(e,t){return e.asyncQueue.enqueue((async()=>async function(e,t){const n=Ur(e),r=n.indexManager,i=[];return n.persistence.runTransaction("Configure indexes","readwrite",(e=>r.getFieldIndexes(e).next((n=>function(e,t,n,r,i){e=[...e],t=[...t],e.sort(n),t.sort(n);const s=e.length,o=t.length;let a=0,c=0;for(;a<o&&c<s;){const s=n(e[c],t[a]);s<0?i(e[c++]):s>0?r(t[a++]):(a++,c++)}for(;a<o;)r(t[a++]);for(;c<s;)i(e[c++])}(n,t,fi,(t=>{i.push(r.addFieldIndex(e,t))}),(t=>{i.push(r.deleteFieldIndex(e,t))})))).next((()=>Ei.waitFor(i)))))}(await Sf(e),t)))}(r,i)}function Cg(e,t){if("string"!=typeof e[t])throw new Vr(zr.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}class kg{constructor(e){this._client=e,this.type="PersistentCacheIndexManager"}}function Tg(e){var t;e=Ff(e,tp);const n=Dg.get(e);if(n)return n;const r=ip(e);if("persistent"!==(null===(t=r._uninitializedComponentsProvider)||void 0===t?void 0:t._offlineKind))return null;const i=new kg(r);return Dg.set(e,i),i}function Ig(e){Pg(e,!0)}function jg(e){Pg(e,!1)}function Ng(e){e._client.verifyNotTerminated(),function(e){return e.asyncQueue.enqueue((async()=>function(e){const t=Ur(e),n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",(e=>n.deleteAllFieldIndexes(e)))}(await Sf(e))))}(e._client).then((e=>Dr("deleting all persistent cache indexes succeeded"))).catch((e=>Ar("deleting all persistent cache indexes failed",e)))}function Pg(e,t){e._client.verifyNotTerminated(),function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){Ur(e).es.$i=t}(await Sf(e),t)))}(e._client,t).then((e=>Dr("setting persistent cache index auto creation isEnabled=".concat(t," succeeded")))).catch((e=>Ar("setting persistent cache index auto creation isEnabled=".concat(t," failed"),e)))}const Dg=new WeakMap;class Og{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return Ag.instance.onExistenceFilterMismatch(e)}}class Ag{constructor(){this.Su=new Map}static get instance(){return Rg||(Rg=new Ag,function(e){if(sc)throw new Error("a TestingHooksSpi instance is already set");sc=e}(Rg)),Rg}tt(e){this.Su.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),n=this.Su;return n.set(t,e),()=>n.delete(t)}}let Rg=null;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ir=e}(i.Jn),(0,i.Xd)(new s.wA("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new tp(new Kr(e.getProvider("auth-internal")),new Yr(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vr(zr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ms(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),(0,i.KN)(kr,"4.4.0",e),(0,i.KN)(kr,"4.4.0","esm2017")}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/bar-menu.io/",(()=>{"use strict";var e,t=n(791),r=n.t(t,2),i=n(250);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const o="popstate";function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,n,r,i){void 0===i&&(i={});let{window:c=document.defaultView,v5Compat:h=!1}=i,f=c.history,p=e.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==c.location.origin?c.location.origin:c.location.href,n="string"===typeof e?e:d(e);return a(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(s({},f.state,{idx:g}),""));let w={get action(){return p},get location(){return t(c,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return c.addEventListener(o,y),m=e,()=>{c.removeEventListener(o,y),m=null}},createHref:e=>n(c,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=u(w.location,t,n);r&&r(i,t),g=v()+1;let s=l(i,g),o=w.createHref(i);try{f.pushState(s,"",o)}catch(a){if(a instanceof DOMException&&"DataCloneError"===a.name)throw a;c.location.assign(o)}h&&m&&m({action:p,location:w.location,delta:1})},replace:function(t,n){p=e.Replace;let i=u(w.location,t,n);r&&r(i,t),g=v();let s=l(i,g),o=w.createHref(i);f.replaceState(s,"",o),h&&m&&m({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let r=j(("string"===typeof t?h(t):t).pathname||"/",n);if(null==r)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=k(i[o],I(r));return s}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let c=O([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+c+'".'),g(e.children,t,l,c)),(null!=e.path||e.index)&&t.push({path:c,score:C(c,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=v(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:\w+$/,b=3,w=2,x=1,_=10,S=-2,E=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=S),t&&(r+=w),n.filter((e=>!E(e))).reduce(((e,t)=>e+(y.test(t)?b:""===t?x:_)),r)}function k(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;s.push({params:r,pathname:O([i,l.pathname]),pathnameBase:A(O([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=O([i,l.pathnameBase]))}return s}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return c(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(a[n]||"",t),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function I(e){try{return decodeURI(e)}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=h(e):(i=s({},e),a(!i.pathname||!i.pathname.includes("?"),N("?","pathname","search",i)),a(!i.pathname||!i.pathname.includes("#"),N("#","pathname","hash",i)),a(!i.search||!i.search.includes("#"),N("#","search","hash",i)));let o,c=""===e||""===i.pathname,l=c?"/":i.pathname;if(r||null==l)o=n;else{let e=t.length-1;if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:R(r),hash:M(i)}}(i,o),d=l&&"/"!==l&&l.endsWith("/"),f=(c||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const O=e=>e.join("/").replace(/\/\/+/g,"/"),A=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function L(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],U=(new Set(F),["get",...F]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}const V=t.createContext(null);const q=t.createContext(null);const B=t.createContext(null);const H=t.createContext(null);const W=t.createContext({outlet:null,matches:[],isDataRoute:!1});const K=t.createContext(null);function G(){return null!=t.useContext(H)}function Q(){return G()||a(!1),t.useContext(H).location}function $(e){t.useContext(B).static||t.useLayoutEffect(e)}function Y(){let{isDataRoute:e}=t.useContext(W);return e?function(){let{router:e}=ae(se.UseNavigateStable),n=le(oe.UseNavigateStable),r=t.useRef(!1);return $((()=>{r.current=!0})),t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,z({fromRouteId:n},i)))}),[e,n])}():function(){G()||a(!1);let e=t.useContext(V),{basename:n,navigator:r}=t.useContext(B),{matches:i}=t.useContext(W),{pathname:s}=Q(),o=JSON.stringify(P(i).map((e=>e.pathnameBase))),c=t.useRef(!1);$((()=>{c.current=!0}));let l=t.useCallback((function(t,i){if(void 0===i&&(i={}),!c.current)return;if("number"===typeof t)return void r.go(t);let a=D(t,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:O([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[n,r,o,s,e]);return l}()}const X=t.createContext(null);function J(e,n){let{relative:r}=void 0===n?{}:n,{matches:i}=t.useContext(W),{pathname:s}=Q(),o=JSON.stringify(P(i).map((e=>e.pathnameBase)));return t.useMemo((()=>D(e,JSON.parse(o),s,"path"===r)),[e,o,s,r])}function Z(n,r,i){G()||a(!1);let{navigator:s}=t.useContext(B),{matches:o}=t.useContext(W),c=o[o.length-1],l=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let d,f=Q();if(r){var p;let e="string"===typeof r?h(r):r;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||a(!1),d=e}else d=f;let g=d.pathname||"/",v=m(n,{pathname:"/"===u?g:g.slice(u.length)||"/"});let y=ie(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:O([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:O([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,i);return r&&y?t.createElement(H.Provider,{value:{location:z({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},y):y}function ee(){let e=function(){var e;let n=t.useContext(K),r=ce(oe.UseRouteError),i=le(oe.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=L(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const te=t.createElement(ee,null);class ne extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(W.Provider,{value:this.props.routeContext},t.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function re(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(V);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(W.Provider,{value:n},i)}function ie(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let o=e,c=null==(i=r)?void 0:i.errors;if(null!=c){let e=o.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||a(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,i,s)=>{let a=i.route.id?null==c?void 0:c[i.route.id]:null,l=null;r&&(l=i.route.errorElement||te);let u=n.concat(o.slice(0,s+1)),d=()=>{let n;return n=a?l:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(re,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(ne,{location:r.location,revalidation:r.revalidation,component:l,error:a,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oe||{});function ae(e){let n=t.useContext(V);return n||a(!1),n}function ce(e){let n=t.useContext(q);return n||a(!1),n}function le(e){let n=function(e){let n=t.useContext(W);return n||a(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||a(!1),r.route.id}r.startTransition;function ue(e){let{to:n,replace:r,state:i,relative:s}=e;G()||a(!1);let{matches:o}=t.useContext(W),{pathname:c}=Q(),l=Y(),u=D(n,P(o).map((e=>e.pathnameBase)),c,"path"===s),d=JSON.stringify(u);return t.useEffect((()=>l(JSON.parse(d),{replace:r,state:i,relative:s})),[l,d,s,r,i]),null}function de(e){return function(e){let n=t.useContext(W).outlet;return n?t.createElement(X.Provider,{value:e},n):n}(e.context)}function he(e){a(!1)}function fe(n){let{basename:r="/",children:i=null,location:s,navigationType:o=e.Pop,navigator:c,static:l=!1}=n;G()&&a(!1);let u=r.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:u,navigator:c,static:l})),[u,c,l]);"string"===typeof s&&(s=h(s));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=s,y=t.useMemo((()=>{let e=j(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:o}}),[u,f,p,m,g,v,o]);return null==y?null:t.createElement(B.Provider,{value:d},t.createElement(H.Provider,{children:i,value:y}))}function pe(e){let{children:t,location:n}=e;return Z(me(t),n)}new Promise((()=>{}));t.Component;function me(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,me(e.props.children,s));e.type!==he&&a(!1),e.props.index&&e.props.children&&a(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=me(e.props.children,s)),r.push(o)})),r}var ge=n(854),ve=n(825),ye=n(781);function be(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var we=n(258);function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _e=xe,Se=new ge.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new ye.Yd("@firebase/auth");function Ce(e){if(Ee.logLevel<=ye.in.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ee.error("Auth (".concat(ve.Jn,"): ").concat(e),...n)}}function ke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw je(e,...n)}function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return je(e,...n)}function Ie(e,t,n){const r=Object.assign(Object.assign({},_e()),{[t]:n});return new ge.LL("auth","Firebase",r).create(t,{appName:e.name})}function je(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Se.create(e,...n)}function Ne(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw je(t,...r)}}function Pe(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ce(t),new Error(t)}function De(e,t){e||Pe(t)}function Oe(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ae(){return"http:"===Re()||"https:"===Re()}function Re(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Me{constructor(e,t){this.shortDelay=e,this.longDelay=t,De(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,ge.uI)()||(0,ge.b$)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ae()||(0,ge.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Le(e,t){De(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Fe{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ze=new Me(3e4,6e4);function Ve(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function qe(e,t,n,r){return Be(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=(0,ge.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Fe.fetch()(We(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Be(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ue),t);try{const t=new Ge(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Qe(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Qe(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Qe(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Qe(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Ie(e,a,o);ke(e,a)}}catch(i){if(i instanceof ge.ZR)throw i;ke(e,"network-request-failed",{message:String(i)})}}async function He(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await qe(e,t,n,r,i);return"mfaPendingCredential"in s&&ke(e,"multi-factor-auth-required",{_serverResponse:s}),s}function We(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Le(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ke(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ge{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Te(this.auth,"network-request-failed"))),ze.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qe(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Te(e,t,r);return i.customData._tokenResponse=n,i}function $e(e){return void 0!==e&&void 0!==e.enterprise}class Ye{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ke(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Xe(e,t){return qe(e,"GET","/v2/recaptchaConfig",Ve(e,t))}function Je(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Ze(e){return 1e3*Number(e)}function et(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ce("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,ge.tV)(n);return e?JSON.parse(e):(Ce("Failed to decode base64 JWT payload"),null)}catch(i){return Ce("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function tt(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof ge.ZR&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class nt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class rt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Je(this.lastLoginAt),this.creationTime=Je(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function it(e){var t;const n=e.auth,r=await e.getIdToken(),i=await tt(e,async function(e,t){return qe(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Ne(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=be(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(c=e.providerData,l=o,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rt(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class st{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne("undefined"!==typeof e.idToken,"internal-error"),Ne("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=et(e);return Ne(t,"internal-error"),Ne("undefined"!==typeof t.exp,"internal-error"),Ne("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Be(e,{},(async()=>{const n=(0,ge.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=We(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new st;return n&&(Ne("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ne("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ne("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new st,this.toJSON())}_performRefresh(){return Pe("not implemented")}}function ot(e,t){Ne("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class at{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=be(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await tt(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,ge.m9)(e),r=await n.getIdToken(t),i=et(r);Ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Je(Ze(i.auth_time)),issuedAtTime:Je(Ze(i.iat)),expirationTime:Je(Ze(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,ge.m9)(e);await it(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new at(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await it(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await tt(this,async function(e,t){return qe(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=t;Ne(y&&_,e,"internal-error");const S=st.fromJSON(this.name,_);Ne("string"===typeof y,e,"internal-error"),ot(u,e.name),ot(d,e.name),Ne("boolean"===typeof b,e,"internal-error"),Ne("boolean"===typeof w,e,"internal-error"),ot(h,e.name),ot(f,e.name),ot(p,e.name),ot(m,e.name),ot(g,e.name),ot(v,e.name);const E=new at({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(E.providerData=x.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new st;r.updateFromServerResponse(t);const i=new at({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await it(i),i}}const ct=new Map;function lt(e){De(e instanceof Function,"Expected a class definition");let t=ct.get(e);return t?(De(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ct.set(e,t),t)}class ut{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ut.type="NONE";const dt=ut;function ht(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ft{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ht(this.userKey,r.apiKey,i),this.fullPersistenceKey=ht("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?at._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ft(lt(dt),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||lt(dt);const s=ht(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=at._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(c){}}))),new ft(i,e,n)):new ft(i,e,n)}}function pt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yt(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wt(t))return"Blackberry";if(xt(t))return"Webos";if(gt(t))return"Safari";if((t.includes("chrome/")||vt(t))&&!t.includes("edge/"))return"Chrome";if(bt(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function mt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ge.z$)();return/firefox\//i.test(e)}function gt(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ge.z$)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ge.z$)();return/crios\//i.test(e)}function yt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ge.z$)();return/iemobile/i.test(e)}function bt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ge.z$)();return/android/i.test(e)}function wt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ge.z$)();return/blackberry/i.test(e)}function xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ge.z$)();return/webos/i.test(e)}function _t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ge.z$)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function St(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ge.z$)();return _t(e)||bt(e)||xt(e)||wt(e)||/windows phone/i.test(e)||yt(e)}function Et(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=pt((0,ge.z$)());break;case"Worker":t="".concat(pt((0,ge.z$)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ve.Jn,"/").concat(r)}class Ct{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class kt{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Tt{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jt(this),this.idTokenSubscription=new jt(this),this.beforeStateQueue=new Ct(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Se,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=lt(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ft.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await it(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,ge.m9)(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(lt(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return qe(e,"GET","/v2/passwordPolicy",Ve(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new kt(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ge.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return qe(e,"POST","/v2/accounts:revokeToken",Ve(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&lt(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await ft.create(this,[lt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Et(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ee.logLevel<=ye.in.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ee.warn("Auth (".concat(ve.Jn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function It(e){return(0,ge.m9)(e)}class jt{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,ge.ne)((e=>this.observer=e))}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Nt(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Te("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Pt(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Dt{constructor(e){this.type="recaptcha-enterprise",this.auth=It(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;$e(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Xe(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Ye(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&$e(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Nt("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ot(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Dt(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function At(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ot(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ot(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Rt(e,t,n){const r=It(e);Ne(r._canInitEmulator,r,"emulator-config-failed"),Ne(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Mt(t),{host:o,port:a}=function(e){const t=Mt(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Lt(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Lt(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Mt(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Lt(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ft{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pe("not implemented")}_getIdTokenResponse(e){return Pe("not implemented")}_linkToIdToken(e,t){return Pe("not implemented")}_getReauthenticationResolver(e){return Pe("not implemented")}}async function Ut(e,t){return qe(e,"POST","/v1/accounts:signUp",t)}async function zt(e,t){return He(e,"POST","/v1/accounts:signInWithPassword",Ve(e,t))}class Vt extends Ft{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Vt(e,t,"password")}static _fromEmailAndCode(e,t){return new Vt(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return At(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zt);case"emailLink":return async function(e,t){return He(e,"POST","/v1/accounts:signInWithEmailLink",Ve(e,t))}(e,{email:this._email,oobCode:this._password});default:ke(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return At(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ut);case"emailLink":return async function(e,t){return He(e,"POST","/v1/accounts:signInWithEmailLink",Ve(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ke(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qt(e,t){return He(e,"POST","/v1/accounts:signInWithIdp",Ve(e,t))}class Bt extends Ft{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ke("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=be(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Bt(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return qt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,ge.xO)(t)}return e}}const Ht={USER_NOT_FOUND:"user-not-found"};class Wt extends Ft{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Wt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Wt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return He(e,"POST","/v1/accounts:signInWithPhoneNumber",Ve(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await He(e,"POST","/v1/accounts:signInWithPhoneNumber",Ve(e,t));if(n.temporaryProof)throw Qe(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return He(e,"POST","/v1/accounts:signInWithPhoneNumber",Ve(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ht)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Wt({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Kt{constructor(e){var t,n,r,i,s,o;const a=(0,ge.zd)((0,ge.pd)(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ne(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,ge.zd)((0,ge.pd)(e)).link,n=t?(0,ge.zd)((0,ge.pd)(t)).deep_link_id:null,r=(0,ge.zd)((0,ge.pd)(e)).deep_link_id;return(r?(0,ge.zd)((0,ge.pd)(r)).link:null)||r||n||t||e}(e);try{return new Kt(t)}catch(n){return null}}}class Gt{constructor(){this.providerId=Gt.PROVIDER_ID}static credential(e,t){return Vt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Kt.parseLink(t);return Ne(n,"argument-error"),Vt._fromEmailAndCode(e,n.code,n.tenantId)}}Gt.PROVIDER_ID="password",Gt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Gt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $t extends Qt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yt extends $t{constructor(){super("facebook.com")}static credential(e){return Bt._fromParams({providerId:Yt.PROVIDER_ID,signInMethod:Yt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yt.credentialFromTaggedObject(e)}static credentialFromError(e){return Yt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Yt.credential(t.oauthAccessToken)}catch(n){return null}}}Yt.FACEBOOK_SIGN_IN_METHOD="facebook.com",Yt.PROVIDER_ID="facebook.com";class Xt extends $t{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bt._fromParams({providerId:Xt.PROVIDER_ID,signInMethod:Xt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xt.credentialFromTaggedObject(e)}static credentialFromError(e){return Xt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Xt.credential(n,r)}catch(i){return null}}}Xt.GOOGLE_SIGN_IN_METHOD="google.com",Xt.PROVIDER_ID="google.com";class Jt extends $t{constructor(){super("github.com")}static credential(e){return Bt._fromParams({providerId:Jt.PROVIDER_ID,signInMethod:Jt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jt.credentialFromTaggedObject(e)}static credentialFromError(e){return Jt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Jt.credential(t.oauthAccessToken)}catch(n){return null}}}Jt.GITHUB_SIGN_IN_METHOD="github.com",Jt.PROVIDER_ID="github.com";class Zt extends $t{constructor(){super("twitter.com")}static credential(e,t){return Bt._fromParams({providerId:Zt.PROVIDER_ID,signInMethod:Zt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zt.credentialFromTaggedObject(e)}static credentialFromError(e){return Zt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Zt.credential(n,r)}catch(i){return null}}}async function en(e,t){return He(e,"POST","/v1/accounts:signUp",Ve(e,t))}Zt.TWITTER_SIGN_IN_METHOD="twitter.com",Zt.PROVIDER_ID="twitter.com";class tn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await at._fromIdTokenResponse(e,n,r),s=nn(n);return new tn({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=nn(n);return new tn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function nn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class rn extends ge.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,rn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new rn(e,t,n,r)}}function sn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw rn._fromErrorAndOperation(e,n,t,r);throw n}))}async function on(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await tt(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tn._forOperation(e,"link",r)}async function an(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await tt(e,sn(r,i,t,e),n);Ne(s.idToken,r,"internal-error");const o=et(s.idToken);Ne(o,r,"internal-error");const{sub:a}=o;return Ne(e.uid===a,r,"user-mismatch"),tn._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&ke(r,"user-mismatch"),s}}async function cn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await sn(e,r,t),s=await tn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ln(e,t){return cn(It(e),t)}async function un(e){const t=It(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const dn="__sak";class hn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dn,"1"),this.storage.removeItem(dn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class fn extends hn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,ge.z$)();return gt(e)||_t(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=St(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,ge.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fn.type="LOCAL";const pn=fn;class mn extends hn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mn.type="SESSION";const gn=mn;class vn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new vn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function yn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}vn.receivers=[];class bn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=yn("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function wn(){return window}function xn(){return"undefined"!==typeof wn().WorkerGlobalScope&&"function"===typeof wn().importScripts}const _n="firebaseLocalStorageDb",Sn="firebaseLocalStorage",En="fbase_key";class Cn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function kn(e,t){return e.transaction([Sn],t?"readwrite":"readonly").objectStore(Sn)}function Tn(){const e=indexedDB.open(_n,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Sn,{keyPath:En})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Sn)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(_n);return new Cn(e).toPromise()}(),t(await Tn()))}))}))}async function In(e,t,n){const r=kn(e,!0).put({[En]:t,value:n});return new Cn(r).toPromise()}function jn(e,t){const n=kn(e,!0).delete(t);return new Cn(n).toPromise()}class Nn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Tn()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vn._getInstance(xn()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new bn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tn();return await In(e,dn,"1"),await jn(e,dn),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>In(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=kn(e,!1).get(t),r=await new Cn(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>jn(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=kn(e,!1).getAll();return new Cn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Nn.type="LOCAL";const Pn=Nn;Pt("rcb"),new Me(3e4,6e4);const Dn="recaptcha";async function On(e,t,n){var r;const i=await n.verify();try{let s;if(Ne("string"===typeof i,e,"argument-error"),Ne(n.type===Dn,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ne("enroll"===t.type,e,"internal-error");const n=await function(e,t){return qe(e,"POST","/v2/accounts/mfaEnrollment:start",Ve(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ne("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Ne(n,e,"missing-multi-factor-info");const o=await function(e,t){return qe(e,"POST","/v2/accounts/mfaSignIn:start",Ve(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return qe(e,"POST","/v1/accounts:sendVerificationCode",Ve(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class An{constructor(e){this.providerId=An.PROVIDER_ID,this.auth=It(e)}verifyPhoneNumber(e,t){return On(this.auth,e,(0,ge.m9)(t))}static credential(e,t){return Wt._fromVerification(e,t)}static credentialFromResult(e){const t=e;return An.credentialFromTaggedObject(t)}static credentialFromError(e){return An.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Wt._fromTokenResponse(n,r):null}}function Rn(e,t){return t?lt(t):(Ne(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}An.PROVIDER_ID="phone",An.PHONE_SIGN_IN_METHOD="phone";class Mn extends Ft{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ln(e){return cn(e.auth,new Mn(e),e.bypassAuthState)}function Fn(e){const{auth:t,user:n}=e;return Ne(n,t,"internal-error"),an(n,new Mn(e),e.bypassAuthState)}async function Un(e){const{auth:t,user:n}=e;return Ne(n,t,"internal-error"),on(n,new Mn(e),e.bypassAuthState)}class zn{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ln;case"linkViaPopup":case"linkViaRedirect":return Un;case"reauthViaPopup":case"reauthViaRedirect":return Fn;default:ke(this.auth,"internal-error")}}resolve(e){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vn=new Me(2e3,1e4);class qn extends zn{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,qn.currentPopupAction&&qn.currentPopupAction.cancel(),qn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){De(1===this.filter.length,"Popup operations only handle one event");const e=yn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Te(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Vn.get())};e()}}qn.currentPopupAction=null;const Bn="pendingRedirect",Hn=new Map;class Wn extends zn{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Hn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Qn(t),r=Gn(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Hn.set(this.auth._key(),e)}return this.bypassAuthState||Hn.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Kn(e,t){Hn.set(e._key(),t)}function Gn(e){return lt(e._redirectPersistence)}function Qn(e){return ht(Bn,e.config.apiKey,e.name)}async function $n(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=It(e),i=Rn(r,t),s=new Wn(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Yn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Jn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Te(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xn(e))}saveEventToCache(e){this.cachedEventUids.add(Xn(e)),this.lastProcessedEventTime=Date.now()}}function Xn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Jn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Zn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,er=/^https?/;async function tr(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return qe(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(nr(r))return}catch(n){}ke(e,"unauthorized-domain")}function nr(e){const t=Oe(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!er.test(n))return!1;if(Zn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const rr=new Me(3e4,6e4);function ir(){const e=wn().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let sr=null;function or(e){return sr=sr||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){ir(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ir(),n(Te(e,"network-request-failed"))},timeout:rr.get()})}if(null===(i=null===(r=wn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=wn().gapi)||void 0===s?void 0:s.load)){const t=Pt("iframefcb");return wn()[t]=()=>{gapi.load?o():n(Te(e,"network-request-failed"))},Nt("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw sr=null,e}))}(e),sr}const ar=new Me(5e3,15e3),cr="__/auth/iframe",lr="emulator/auth/iframe",ur={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hr(e){const t=e.config;Ne(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Le(t,lr):"https://".concat(e.config.authDomain,"/").concat(cr),r={apiKey:t.apiKey,appName:e.name,v:ve.Jn},i=dr.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat((0,ge.xO)(r).slice(1))}const fr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function mr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},fr),{width:r.toString(),height:i.toString(),top:s,left:o}),l=(0,ge.z$)().toLowerCase();n&&(a=vt(l)?"_blank":n),mt(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return _t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ge.z$)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new pr(null);const d=window.open(t||"",a,u);Ne(d,e,"popup-blocked");try{d.focus()}catch(h){}return new pr(d)}const gr="__/auth/handler",vr="emulator/auth/handler",yr=encodeURIComponent("fac");async function br(e,t,n,r,i,s){Ne(e.config.authDomain,e,"auth-domain-config-required"),Ne(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ve.Jn,eventId:i};if(t instanceof Qt){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",(0,ge.xb)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof $t){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(yr,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(gr);return Le(t,vr)}(e),"?").concat((0,ge.xO)(a).slice(1)).concat(l)}const wr="webStorageSupport";const xr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gn,this._completeRedirectFn=$n,this._overrideRedirectResult=Kn}async _openPopup(e,t,n,r){var i;De(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return mr(e,await br(e,t,n,Oe(),r),yn())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){wn().location.href=e}(await br(e,t,n,Oe(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(De(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await or(e),n=wn().gapi;return Ne(n,e,"internal-error"),t.open({where:document.body,url:hr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ur,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Te(e,"network-request-failed"),s=wn().setTimeout((()=>{r(i)}),ar.get());function o(){wn().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new Yn(e);return t.register("authEvent",(t=>{Ne(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wr,{type:wr},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[wr];void 0!==i&&t(!!i),ke(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tr(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return St()||gt()||_t()}};var _r="@firebase/auth",Sr="1.5.0";class Er{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Cr=(0,ge.Pz)("authIdTokenMaxAge")||300;let kr=null;var Tr;Tr="Browser",(0,ve.Xd)(new we.wA("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:Tr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Et(Tr)},l=new Tt(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lt);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,ve.Xd)(new we.wA("auth-internal",(e=>(e=>new Er(e))(It(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ve.KN)(_r,Sr,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Tr)),(0,ve.KN)(_r,Sr,"esm2017");(0,ve.KN)("firebase","10.7.0","app");const Ir="firebasestorage.googleapis.com",jr="storageBucket";class Nr extends ge.ZR{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Or(e),"Firebase Storage: ".concat(t," (").concat(Or(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Or(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Pr,Dr;function Or(e){return"storage/"+e}function Ar(){return new Nr(Pr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Rr(){return new Nr(Pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Mr(){return new Nr(Pr.CANCELED,"User canceled the upload/download.")}function Lr(){return new Nr(Pr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Fr(e){return new Nr(Pr.INVALID_ARGUMENT,e)}function Ur(){return new Nr(Pr.APP_DELETED,"The Firebase app was deleted.")}function zr(e,t){return new Nr(Pr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Vr(e){throw new Nr(Pr.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Pr||(Pr={}));class qr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=qr.makeFromUrl(e,t)}catch(i){return new qr(e,"")}if(""===n.path)return n;throw r=e,new Nr(Pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Ir?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new qr(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Nr(Pr.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Br{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Hr(e){return"string"===typeof e||e instanceof String}function Wr(e){return Kr()&&e instanceof Blob}function Kr(){return"undefined"!==typeof Blob}function Gr(e,t,n,r){if(r<t)throw Fr("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Fr("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Qr(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function $r(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Yr(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Dr||(Dr={}));class Xr{constructor(e,t,n,r,i,s,o,a,c,l,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Jr(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Dr.NO_ERROR,i=n.getStatus();if(!t||Yr(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Dr.ABORT;return void e(!1,new Jr(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Jr(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(s){r(s)}else if(null!==i){const e=Ar();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Ur():Mr())}else{r(Rr())}};this.canceled_?t(0,new Jr(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(l)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(c()||o)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),l||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jr{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Zr(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ei(){const e=Zr();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Kr())return new Blob(n);throw new Nr(Pr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function ti(e){if("undefined"===typeof atob)throw t="base-64",new Nr(Pr.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ri{constructor(e,t){this.data=e,this.contentType=t||null}}function ii(e,t){switch(e){case ni.RAW:return new ri(si(t));case ni.BASE64:case ni.BASE64URL:return new ri(oi(e,t));case ni.DATA_URL:return new ri(function(e){const t=new ai(e);return t.base64?oi(ni.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw zr(ni.DATA_URL,"Malformed data URL.")}return si(t)}(t.rest)}(t),new ai(t).contentType)}throw Ar()}function si(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function oi(e,t){switch(e){case ni.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw zr(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case ni.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw zr(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ti(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw zr(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class ai{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw zr(ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class ci{constructor(e,t){let n=0,r="";Wr(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Wr(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new ci(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ci(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Kr()){const e=t.map((e=>e instanceof ci?e.data_:e));return new ci(ei.apply(null,e))}{const e=t.map((e=>Hr(e)?ii(ni.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new ci(r,!0)}}uploadData(){return this.data_}}function li(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function ui(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function di(e,t){return t}class hi{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||di}}let fi=null;function pi(){if(fi)return fi;const e=[];e.push(new hi("bucket")),e.push(new hi("generation")),e.push(new hi("metageneration")),e.push(new hi("name","fullPath",!0));const t=new hi("name");t.xform=function(e,t){return function(e){return!Hr(e)||e.length<2?e:ui(e)}(t)},e.push(t);const n=new hi("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new hi("timeCreated")),e.push(new hi("updated")),e.push(new hi("md5Hash",null,!0)),e.push(new hi("cacheControl",null,!0)),e.push(new hi("contentDisposition",null,!0)),e.push(new hi("contentEncoding",null,!0)),e.push(new hi("contentLanguage",null,!0)),e.push(new hi("contentType",null,!0)),e.push(new hi("metadata","customMetadata",!0)),fi=e,fi}function mi(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new qr(n,r);return t._makeStorageReference(i)}})}(r,e),r}function gi(e,t,n){const r=li(t);if(null===r)return null;return mi(e,r,n)}function vi(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class yi{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function bi(e){if(!e)throw Ar()}function wi(e,t){return function(n,r){const i=gi(e,r,t);return bi(null!==i),i}}function xi(e,t){return function(n,r){const i=gi(e,r,t);return bi(null!==i),function(e,t,n,r){const i=li(t);if(null===i)return null;if(!Hr(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent,a=s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return Qr("/b/"+o(i)+"/o/"+o(s),n,r)+$r({alt:"media",token:t})}));return a[0]}(i,r,e.host,e._protocol)}}function _i(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Nr(Pr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Nr(Pr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Nr(Pr.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Nr(Pr.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Si(e){const t=_i(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Nr(Pr.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Ei(e,t,n){const r=Qr(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new yi(r,"GET",wi(e,n),i);return s.errorHandler=Si(t),s}function Ci(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ki(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const c=Ci(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+vi(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=ci.getBlob(l,r,u);if(null===d)throw Lr();const h={name:c.fullPath},f=Qr(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new yi(f,"POST",wi(e,n),p);return m.urlParams=h,m.headers=o,m.body=d.uploadData(),m.errorHandler=_i(t),m}class Ti{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Ii(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){bi(!1)}return bi(!!n&&-1!==(t||["active"]).indexOf(n)),n}const ji=262144;function Ni(e,t,n,r,i,s,o,a){const c=new Ti(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new Nr(Pr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const d=c.current,h=d+u;let f="";f=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(c.current)},m=r.slice(d,h);if(null===m)throw Lr();const g=t.maxUploadRetryTime,v=new yi(n,"POST",(function(e,n){const i=Ii(e,["active","final"]),o=c.current+u,a=r.size();let l;return l="final"===i?wi(t,s)(e,n):null,new Ti(o,a,"final"===i,l)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=_i(e),v}const Pi="running",Di="paused",Oi="success",Ai="canceled",Ri="error";function Mi(e){switch(e){case"running":case"pausing":case"canceling":return Pi;case"paused":return Di;case"success":return Oi;case"canceled":return Ai;default:return Ri}}class Li{constructor(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Fi(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let Ui=null;class zi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dr.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Dr.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Dr.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Vr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vr("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Vr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Vi extends zi{initXhr(){this.xhr_.responseType="text"}}function qi(){return Ui?Ui():new Vi}class Bi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=pi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Pr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(Yr(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=Rr()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Pr.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=Ci(t,r,i),a={name:o.fullPath},c=Qr(s,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=vi(o,n),d=e.maxUploadRetryTime,h=new yi(c,"POST",(function(e){let t;Ii(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){bi(!1)}return bi(Hr(t)),t}),d);return h.urlParams=a,h.headers=l,h.body=u,h.errorHandler=_i(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,qi,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new yi(n,"POST",(function(e){const t=Ii(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){bi(!1)}n||bi(!1);const i=Number(n);return bi(!isNaN(i)),new Ti(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=_i(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,qi,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=ji*this._chunkMultiplier,t=new Ti(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=Ni(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,qi,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(ji*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Ei(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,qi,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=ki(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,qi,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Mr(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Mi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new Li(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Mi(this._state)){case Oi:Fi(this._resolve.bind(null,this.snapshot))();break;case Ai:case Ri:Fi(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Mi(this._state)){case Pi:case Di:e.next&&Fi(e.next.bind(e,this.snapshot))();break;case Oi:e.complete&&Fi(e.complete.bind(e))();break;default:e.error&&Fi(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Hi{constructor(e,t){this._service=e,this._location=t instanceof qr?t:qr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Hi(e,t)}get root(){const e=new qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ui(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new qr(this._location.bucket,e);return new Hi(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Nr(Pr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Wi(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Qr(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new yi(r,"GET",xi(e,n),i);return s.errorHandler=Si(t),s}(e.storage,e._location,pi());return e.storage.makeRequestWithTokens(t,qi).then((e=>{if(null===e)throw new Nr(Pr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ki(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new qr(e._location.bucket,n);return new Hi(e.storage,r)}function Gi(e,t){if(e instanceof Yi){const n=e;if(null==n._bucket)throw new Nr(Pr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jr+"' property when initializing the app?");const r=new Hi(n,n._bucket);return null!=t?Gi(r,t):r}return void 0!==t?Ki(e,t):e}function Qi(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Yi)return new Hi(e,t);throw Fr("To use ref(service, url), the first argument must be a Storage instance.")}return Gi(e,t)}function $i(e,t){const n=null===t||void 0===t?void 0:t[jr];return null==n?null:qr.makeFromBucketSpec(n,e)}class Yi{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Ir,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?qr.makeFromBucketSpec(r,this._host):$i(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=qr.makeFromBucketSpec(this._url,e):this._bucket=$i(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gr("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gr("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hi(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Br(Ur());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=$r(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new Xr(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Xi="@firebase/storage",Ji="0.12.0",Zi="storage";function es(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Bi(e,new ci(t),n)}(e=(0,ge.m9)(e),t,n)}function ts(e){return Wi(e=(0,ge.m9)(e))}function ns(e,t){return Qi(e=(0,ge.m9)(e),t)}function rs(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Yi(r,i,s,n,ve.Jn)}(0,ve.Xd)(new we.wA(Zi,rs,"PUBLIC").setMultipleInstances(!0)),(0,ve.KN)(Xi,Ji,""),(0,ve.KN)(Xi,Ji,"esm2017");const is=(0,ve.ZF)({apiKey:"AIzaSyC7sJ3wQY40ZXNvwn-QcbNr51R1Gjui_1E",authDomain:"react-bar-67f33.firebaseapp.com",databaseURL:"https://react-bar-67f33-default-rtdb.firebaseio.com",projectId:"react-bar-67f33",storageBucket:"react-bar-67f33.appspot.com",messagingSenderId:"621276654255",appId:"1:621276654255:web:c90ba2bc75df7ae1edc25a"}),ss=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ve.Mq)();const t=(0,ve.qX)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,ve.qX)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,ge.vZ)(r,null!==t&&void 0!==t?t:{}))return e;ke(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:xr,persistence:[Pn,pn,gn]}),r=(0,ge.Pz)("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Cr)return;const r=null===t||void 0===t?void 0:t.token;kr!==r&&(kr=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){(0,ge.m9)(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){(0,ge.m9)(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=(0,ge.q4)("auth");return s&&Rt(n,"http://".concat(s)),n}(is),os=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ve.Mq)(),t=arguments.length>1?arguments[1]:void 0;e=(0,ge.m9)(e);const n=(0,ve.qX)(e,Zi).getImmediate({identifier:t}),r=(0,ge.P0)("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:(0,ge.Sg)(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(is);var as=n(481);const cs=(0,as.getFirestore)(is);async function ls(e){try{const t=(0,as.collection)(cs,"stock"),n=(0,as.query)(t,(0,as.where)("product","==",e)),r=await(0,as.getDocs)(n);return r.empty?null:r.docs[0].data()}catch(t){return console.error("Erro ao buscar o stock:",t),null}}function us(e,t){const n=(0,as.collection)(cs,e);return(0,as.onSnapshot)(n,(e=>{const n=e.docs.map((e=>({id:e.id,...e.data()})));t(n)}))}async function ds(e,t){const n=(0,as.getFirestore)(is);try{const r=(0,as.doc)(n,e,t);await(0,as.deleteDoc)(r)}catch(r){console.log(r)}}async function hs(e){const t=(0,as.getFirestore)(),n=(0,as.collection)(t,e);try{const e=await(0,as.getDocs)(n);let t=[];return e.forEach((e=>{t.push({...e.data(),id:e.id})})),t}catch(r){throw r}}async function fs(e,t){const n=(0,as.getFirestore)(),r=(0,as.doc)(n,e,t);try{const e=await(0,as.getDoc)(r);if(e.exists())return{...e.data(),id:e.id};throw new Error("No document found with the given ID")}catch(i){throw i}}async function ps(e){const t=await async function(e){return(await hs(e)).map((e=>e.parent))}(e),n=await hs(e);let r=new Set(n.map((e=>e.category)));return t.filter((e=>!r.has(e)))}async function ms(e){const t=new Set((await hs(e)).map((e=>e.category))),n=(await hs("button")).map((e=>e.parent));return[...new Set(n.filter((e=>!t.has(e))))]}const gs=async()=>{try{const e=await hs("sideDishes"),t=await hs("item");for(const n of t){const t=[];for(const i of n.sideDishesElementList){const n=e.find((e=>e.id===i.id));if(n){const e={...i,price:n.price,sideDishes:n.sideDishes};t.push(e)}else t.push(i)}const r=(0,as.doc)(cs,"item",n.id);JSON.stringify(t)!==JSON.stringify(n.sideDishesElementList)&&(await(0,as.updateDoc)(r,{sideDishesElementList:t}),console.log("Item atualizado: ".concat(n.title)))}console.log("Atualiza\xe7\xe3o conclu\xedda.")}catch(e){console.error("Erro ao atualizar sideDishesElementList: ",e)}};async function vs(e,t,n){try{const r=(0,as.doc)(cs,e,t);await(0,as.updateDoc)(r,n),console.log("Documento ".concat(t,' na cole\xe7\xe3o "').concat(e,'" atualizado com sucesso.'))}catch(r){throw console.error("Erro ao atualizar o documento ".concat(t,' na cole\xe7\xe3o "').concat(e,'":'),r),r}}var ys=n(184);const bs=function(e){let{item:n,onPriceChange:r,radioDisabled:i}=e;const[s,o]=t.useState({}),[a,c]=t.useState(!0),l=e=>{const[t,n]=e.target.value.split("-");o("".concat(t,"-").concat(n)),r({price:t,label:n})};return t.useEffect((()=>{console.log(n),n.firstPrice||c(!1)}),[]),t.useEffect((()=>{console.log(i)}),[i]),(0,ys.jsxs)("div",{className:"customized-price-container",children:[a&&(0,ys.jsxs)("form",{children:[(0,ys.jsxs)("div",{children:[(0,ys.jsx)("input",{disabled:i,className:"form-check-input",id:"radio-".concat(n.firstLabel),value:"".concat(n.firstPrice,"-").concat(n.firstLabel),name:"options",type:"radio",checked:s==="".concat(n.firstPrice,"-").concat(n.firstLabel),onChange:l}),(0,ys.jsx)("label",{className:"form-check-label",children:n.firstLabel}),(0,ys.jsxs)("p",{children:["R$",n.firstPrice]})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("input",{disabled:i,className:"form-check-input",id:"radio-".concat(n.secondLabel),name:"options",value:"".concat(n.secondPrice,"-").concat(n.secondLabel),checked:s==="".concat(n.secondPrice,"-").concat(n.secondLabel),type:"radio",onChange:l}),(0,ys.jsx)("label",{className:"form-check-label",children:n.secondLabel}),(0,ys.jsxs)("p",{children:["R$ ",n.secondPrice]})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("input",{disabled:i,className:"form-check-input",id:"radio-".concat(n.thirdLabel),value:"".concat(n.thirdPrice,"-").concat(n.thirdLabel),name:"options",type:"radio",checked:s==="".concat(n.thirdPrice,"-").concat(n.thirdLabel),onChange:l}),(0,ys.jsx)("label",{className:"form-check-label",children:n.thirdLabel}),(0,ys.jsxs)("p",{children:["R$",n.thirdPrice]})]})]}),";"]})},ws=t.createContext(),xs=e=>{let{children:n}=e;const[r,i]=t.useState(""),[s,o]=t.useState(""),[a,c]=t.useState(null),[l,u]=t.useState(!1),[d,h]=t.useState({}),[f,p]=t.useState({btnColor:"#b02121",secundaryBgColor:"#b02121",bgColor:"#b02121",fontColor:"rgb(230, 235, 230)",titleFontColor:"#bd2828",titleFont:"Arial",textFont:"sans serif"});return(0,ys.jsx)(ws.Provider,{value:{image:r,setImage:i,id:s,setId:o,styles:f,setStyles:p,authorizated:l,setAuthorizated:u,setIsToten:c,isToten:a,userNewRequest:d,setUserNewRequest:h},children:n})},_s=((0,as.getFirestore)(is),(e,t,n,r)=>t<n?(console.log("O produto ".concat(e," foi recusado porque o volume (").concat(t,") est\xe1 menor que o m\xednimo (").concat(n,")")),!1):0===t?(console.log("O produto ".concat(e," foi recusado porque o volume est\xe1 igual a 0")),!1):void 0===n?(console.log("O produto ".concat(e," foi recusado porque o m\xednimo est\xe1 indefinido")),!1):isNaN(r)?(console.log("O produto ".concat(e," foi recusado porque o custo n\xe3o \xe9 um n\xfamero")),!1):void 0===r?(console.log("O produto ".concat(e," foi recusado porque o custo est\xe1 indefinido")),!1):!(r<=0)||(console.log("O produto ".concat(e," foi recusado porque o custo (").concat(r,") \xe9 menor ou igual a 0")),!1));function Ss(e){if(e){let t=e.split(" ")[0];return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}return""}function Es(e,t){return e?e.slice(0,t):""}async function Cs(e,t){if(console.log("IsToten \xe9 ",t),localStorage.hasOwnProperty(e)){const n=JSON.parse(localStorage.getItem(e)),r=(await hs("user")).filter((e=>e.id===n.id));return r&&r.length>0&&r[0].name?(console.log("Passei por aqui"),t?(console.log("IsToten \xe9 ",t),"/new-layout"):"/"):(localStorage.removeItem(e),"/admin/check-customer-nologr")}return"/admin/check-customer-nolog"}const ks=(e,t)=>{const n=[...e];return n.sort(((e,n)=>t?n.countRequest-e.countRequest:e.countRequest-n.countRequest)),n};const Ts=e=>{let{item:n,setModal:r}=e;const[i,s]=t.useState(Number(n.price)),[o,a]=t.useState(""),[c,l]=t.useState(!0),u=t.useContext(ws),[d,h]=t.useState({name:n.title,id:n.id,category:n.category,recipeOpenCloseModal:!1,finalPrice:Number(n.price),image:n.image,recipe:n.recipe?n.recipe:{},sideDishes:[],size:""}),[f,p]=t.useState(""),[m,g]=t.useState([]),[v,y]=t.useState(!1),b=Y(),w=(0,as.getFirestore)(is);t.useEffect((()=>{if(localStorage.hasOwnProperty("userMenu")){const e=JSON.parse(localStorage.getItem("userMenu"));a(e.id)}}),[n]),t.useEffect((()=>{if(f){const e=[...m,f];g(e),_(e),x()}}),[f]);const x=()=>{f&&y(!0)};t.useEffect((()=>{h((e=>({...e,finalPrice:i,sideDishes:m})))}),[i,m]);const _=e=>{e.length==n.maxLimitSideDishes?l(!1):l(!0)};function S(e){const t=Number(e.target.value);e.target.checked?(s((e=>e+t)),y(!0)):s((e=>e-t)),h((e=>({...e,finalPrice:i+t})))}const E=e=>{const t=m[e],r=n.sideDishesElementList.filter((e=>e.sideDishes==t.name)),o=m.filter((e=>e!=t));g(o),s(i-Number(r[0].price)),1==m.length&&y(!1),m.length<=n.maxLimitSideDishes&&l(!0)};return(0,ys.jsxs)("div",{className:"content-modal-dishes",children:[(0,ys.jsx)("div",{className:"close-btn",children:(0,ys.jsx)("button",{onClick:()=>{r(!1),p([])},children:"X"})}),(0,ys.jsx)("h1",{children:n.title}),(0,ys.jsx)("img",{src:n.image,alt:"img"}),(0,ys.jsx)("p",{children:n.comment}),(0,ys.jsxs)("h4",{children:["Valor: R$",i.toFixed(2)]}),n.CustomizedPrice&&0!==n.CustomizedPrice.firstPrice&&""!==n.CustomizedPrice.firstLabel&&(0,ys.jsx)(bs,{item:n.CustomizedPrice,onPriceChange:function(e){console.log("O que vem do customize price   ",e),d.size=e.label,s(Number(e.price))},radioDisabled:v}),(0,ys.jsxs)("form",{className:"my-3",onSubmit:async function(e){e.preventDefault(),console.log("Cliente atual   ",o),u.authorizated||async function(){const e=await Cs("userMenu",u.isToten);b(e)}();try{const e=(0,as.doc)(w,"user",o),t=await(0,as.getDoc)(e);if(t.exists()){const n=t.data().request||[];n.push(d),console.log("form   ",d),await(0,as.updateDoc)(e,{request:n})}else await(0,as.setDoc)(e,{request:[d]});return h({name:n.title,id:n.id,finalPrice:Number(n.price),image:n.image,sideDishes:m,category:n.category}),void b("/request")}catch(t){console.log(t)}},children:[n.sideDishesElementList&&(0,ys.jsxs)(ys.Fragment,{children:[n.sideDishesElementList.length>0&&(0,ys.jsx)("h4",{className:"label-side-dishes",children:"Selecione o seu acompanhamento"}),(0,ys.jsx)("div",{className:0===n.maxLimitSideDishes?"side-dishes-list":"limit-dishes",children:0==n.maxLimitSideDishes?n.sideDishesElementList.map(((e,t)=>(0,ys.jsxs)("div",{children:[(0,ys.jsx)("input",{className:"form-check-input",id:"carrossel",value:e.price,type:"checkbox",onChange:S}),(0,ys.jsx)("label",{className:"form-check-label",children:e.sideDishes})]},t))):(0,ys.jsx)("div",{className:"select-limit-sidedishes",children:c?(0,ys.jsxs)("select",{id:"sideDishesElement",value:d.sideDishesElement,className:"form-select",onChange:e=>{const t=e.target.value,r=n.sideDishesElementList[t];s(i+Number(r.price)),p({name:r.sideDishes,price:r.price}),console.log("nome   ",r.sideDishes),console.log("pre\xe7o   ",r.price)},children:[(0,ys.jsx)("option",{value:"",children:"Selecione"}),n.sideDishesElementList&&n.sideDishesElementList.map(((e,t)=>(0,ys.jsxs)("option",{value:t,children:[" ",e.sideDishes]},t)))]}):(0,ys.jsxs)("p",{children:["O Numero m\xe1ximo de acompanhamentos \xe9"," ",n.maxLimitSideDishes]})})})]}),(0,ys.jsx)("div",{className:"added-side-dishes",children:m&&m.map(((e,t)=>(0,ys.jsxs)("div",{className:"side-dishe",children:[(0,ys.jsx)("p",{children:e.name})," ",(0,ys.jsxs)("p",{children:[" ",e.price,",00"]})," ",(0,ys.jsx)("button",{type:"button",className:"btn-close-side-dishes",onClick:()=>E(t),children:"x"})," "]})))}),(0,ys.jsx)("button",{type:"submit",className:"request-client-modal",children:"Fa\xe7a o seu pedido'"})]})]})};var Is=n(717);function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},js.apply(null,arguments)}function Ns(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function Ps(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ps(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Ds=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ps(e))&&(r&&(r+=" "),r+=t);return r};function Os(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var As=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Rs=Os((function(e){return As.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Ms=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ls=Math.abs,Fs=String.fromCharCode,Us=Object.assign;function zs(e){return e.trim()}function Vs(e,t,n){return e.replace(t,n)}function qs(e,t){return e.indexOf(t)}function Bs(e,t){return 0|e.charCodeAt(t)}function Hs(e,t,n){return e.slice(t,n)}function Ws(e){return e.length}function Ks(e){return e.length}function Gs(e,t){return t.push(e),e}var Qs=1,$s=1,Ys=0,Xs=0,Js=0,Zs="";function eo(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Qs,column:$s,length:o,return:""}}function to(e,t){return Us(eo("",null,null,"",null,null,0),e,{length:-e.length},t)}function no(){return Js=Xs>0?Bs(Zs,--Xs):0,$s--,10===Js&&($s=1,Qs--),Js}function ro(){return Js=Xs<Ys?Bs(Zs,Xs++):0,$s++,10===Js&&($s=1,Qs++),Js}function io(){return Bs(Zs,Xs)}function so(){return Xs}function oo(e,t){return Hs(Zs,e,t)}function ao(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function co(e){return Qs=$s=1,Ys=Ws(Zs=e),Xs=0,[]}function lo(e){return Zs="",e}function uo(e){return zs(oo(Xs-1,po(91===e?e+2:40===e?e+1:e)))}function ho(e){for(;(Js=io())&&Js<33;)ro();return ao(e)>2||ao(Js)>3?"":" "}function fo(e,t){for(;--t&&ro()&&!(Js<48||Js>102||Js>57&&Js<65||Js>70&&Js<97););return oo(e,so()+(t<6&&32==io()&&32==ro()))}function po(e){for(;ro();)switch(Js){case e:return Xs;case 34:case 39:34!==e&&39!==e&&po(Js);break;case 40:41===e&&po(e);break;case 92:ro()}return Xs}function mo(e,t){for(;ro()&&e+Js!==57&&(e+Js!==84||47!==io()););return"/*"+oo(t,Xs-1)+"*"+Fs(47===e?e:ro())}function go(e){for(;!ao(io());)ro();return oo(e,Xs)}var vo="-ms-",yo="-moz-",bo="-webkit-",wo="comm",xo="rule",_o="decl",So="@keyframes";function Eo(e,t){for(var n="",r=Ks(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Co(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case _o:return e.return=e.return||e.value;case wo:return"";case So:return e.return=e.value+"{"+Eo(e.children,r)+"}";case xo:e.value=e.props.join(",")}return Ws(n=Eo(e.children,r))?e.return=e.value+"{"+n+"}":""}function ko(e){return lo(To("",null,null,null,[""],e=co(e),0,[0],e))}function To(e,t,n,r,i,s,o,a,c){for(var l=0,u=0,d=o,h=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",w=i,x=s,_=r,S=b;g;)switch(p=y,y=ro()){case 40:if(108!=p&&58==Bs(S,d-1)){-1!=qs(S+=Vs(uo(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=uo(y);break;case 9:case 10:case 13:case 32:S+=ho(p);break;case 92:S+=fo(so()-1,7);continue;case 47:switch(io()){case 42:case 47:Gs(jo(mo(ro(),so()),t,n),c);break;default:S+="/"}break;case 123*m:a[l++]=Ws(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(S=Vs(S,/\f/g,"")),f>0&&Ws(S)-d&&Gs(f>32?No(S+";",r,n,d-1):No(Vs(S," ","")+";",r,n,d-2),c);break;case 59:S+=";";default:if(Gs(_=Io(S,t,n,l,u,i,a,b,w=[],x=[],d),s),123===y)if(0===u)To(S,t,_,_,w,s,d,a,x);else switch(99===h&&110===Bs(S,3)?100:h){case 100:case 108:case 109:case 115:To(e,_,_,r&&Gs(Io(e,_,_,0,0,i,a,b,i,w=[],d),x),i,x,d,a,r?w:x);break;default:To(S,_,_,_,[""],x,0,a,x)}}l=u=f=0,m=v=1,b=S="",d=o;break;case 58:d=1+Ws(S),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==no())continue;switch(S+=Fs(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:a[l++]=(Ws(S)-1)*v,v=1;break;case 64:45===io()&&(S+=uo(ro())),h=io(),u=d=Ws(b=S+=go(so())),y++;break;case 45:45===p&&2==Ws(S)&&(m=0)}}return s}function Io(e,t,n,r,i,s,o,a,c,l,u){for(var d=i-1,h=0===i?s:[""],f=Ks(h),p=0,m=0,g=0;p<r;++p)for(var v=0,y=Hs(e,d+1,d=Ls(m=o[p])),b=e;v<f;++v)(b=zs(m>0?h[v]+" "+y:Vs(y,/&\f/g,h[v])))&&(c[g++]=b);return eo(e,t,n,0===i?xo:a,c,l,u)}function jo(e,t,n){return eo(e,t,n,wo,Fs(Js),Hs(e,2,-2),0)}function No(e,t,n,r){return eo(e,t,n,_o,Hs(e,0,r),Hs(e,r+1,-1),r)}var Po=function(e,t,n){for(var r=0,i=0;r=i,i=io(),38===r&&12===i&&(t[n]=1),!ao(i);)ro();return oo(e,Xs)},Do=function(e,t){return lo(function(e,t){var n=-1,r=44;do{switch(ao(r)){case 0:38===r&&12===io()&&(t[n]=1),e[n]+=Po(Xs-1,t,n);break;case 2:e[n]+=uo(r);break;case 4:if(44===r){e[++n]=58===io()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Fs(r)}}while(r=ro());return e}(co(e),t))},Oo=new WeakMap,Ao=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Oo.get(n))&&!r){Oo.set(e,!0);for(var i=[],s=Do(t,i),o=n.props,a=0,c=0;a<s.length;a++)for(var l=0;l<o.length;l++,c++)e.props[c]=i[a]?s[a].replace(/&\f/g,o[l]):o[l]+" "+s[a]}}},Ro=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Mo(e,t){switch(function(e,t){return 45^Bs(e,0)?(((t<<2^Bs(e,0))<<2^Bs(e,1))<<2^Bs(e,2))<<2^Bs(e,3):0}(e,t)){case 5103:return bo+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bo+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return bo+e+yo+e+vo+e+e;case 6828:case 4268:return bo+e+vo+e+e;case 6165:return bo+e+vo+"flex-"+e+e;case 5187:return bo+e+Vs(e,/(\w+).+(:[^]+)/,bo+"box-$1$2"+vo+"flex-$1$2")+e;case 5443:return bo+e+vo+"flex-item-"+Vs(e,/flex-|-self/,"")+e;case 4675:return bo+e+vo+"flex-line-pack"+Vs(e,/align-content|flex-|-self/,"")+e;case 5548:return bo+e+vo+Vs(e,"shrink","negative")+e;case 5292:return bo+e+vo+Vs(e,"basis","preferred-size")+e;case 6060:return bo+"box-"+Vs(e,"-grow","")+bo+e+vo+Vs(e,"grow","positive")+e;case 4554:return bo+Vs(e,/([^-])(transform)/g,"$1"+bo+"$2")+e;case 6187:return Vs(Vs(Vs(e,/(zoom-|grab)/,bo+"$1"),/(image-set)/,bo+"$1"),e,"")+e;case 5495:case 3959:return Vs(e,/(image-set\([^]*)/,bo+"$1$`$1");case 4968:return Vs(Vs(e,/(.+:)(flex-)?(.*)/,bo+"box-pack:$3"+vo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bo+e+e;case 4095:case 3583:case 4068:case 2532:return Vs(e,/(.+)-inline(.+)/,bo+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ws(e)-1-t>6)switch(Bs(e,t+1)){case 109:if(45!==Bs(e,t+4))break;case 102:return Vs(e,/(.+:)(.+)-([^]+)/,"$1"+bo+"$2-$3$1"+yo+(108==Bs(e,t+3)?"$3":"$2-$3"))+e;case 115:return~qs(e,"stretch")?Mo(Vs(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Bs(e,t+1))break;case 6444:switch(Bs(e,Ws(e)-3-(~qs(e,"!important")&&10))){case 107:return Vs(e,":",":"+bo)+e;case 101:return Vs(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+bo+(45===Bs(e,14)?"inline-":"")+"box$3$1"+bo+"$2$3$1"+vo+"$2box$3")+e}break;case 5936:switch(Bs(e,t+11)){case 114:return bo+e+vo+Vs(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return bo+e+vo+Vs(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return bo+e+vo+Vs(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return bo+e+vo+e+e}return e}var Lo=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case _o:e.return=Mo(e.value,e.length);break;case So:return Eo([to(e,{value:Vs(e.value,"@","@"+bo)})],r);case xo:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Eo([to(e,{props:[Vs(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Eo([to(e,{props:[Vs(t,/:(plac\w+)/,":"+bo+"input-$1")]}),to(e,{props:[Vs(t,/:(plac\w+)/,":-moz-$1")]}),to(e,{props:[Vs(t,/:(plac\w+)/,vo+"input-$1")]})],r)}return""}))}}],Fo=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Lo;var i,s,o={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;a.push(e)}));var c,l,u=[Co,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],d=function(e){var t=Ks(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}([Ao,Ro].concat(r,u));s=function(e,t,n,r){c=n,Eo(ko(e?e+"{"+t.styles+"}":t.styles),d),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Ms({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:s};return h.sheet.hydrate(a),h};var Uo={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zo=/[A-Z]|^ms/g,Vo=/_EMO_([^_]+?)_([^]*?)_EMO_/g,qo=function(e){return 45===e.charCodeAt(1)},Bo=function(e){return null!=e&&"boolean"!==typeof e},Ho=Os((function(e){return qo(e)?e:e.replace(zo,"-$&").toLowerCase()})),Wo=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Vo,(function(e,t,n){return Go={name:t,styles:n,next:Go},t}))}return 1===Uo[e]||qo(e)||"number"!==typeof t||0===t?t:t+"px"};function Ko(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Go={name:n.name,styles:n.styles,next:Go},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Go={name:r.name,styles:r.styles,next:Go},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ko(e,t,n[i])+";";else for(var s in n){var o=n[s];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=s+"{"+t[o]+"}":Bo(o)&&(r+=Ho(s)+":"+Wo(s,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var a=Ko(e,t,o);switch(s){case"animation":case"animationName":r+=Ho(s)+":"+a+";";break;default:r+=s+"{"+a+"}"}}else for(var c=0;c<o.length;c++)Bo(o[c])&&(r+=Ho(s)+":"+Wo(s,o[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Go,s=n(e);return Go=i,Ko(e,t,s)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Go,Qo=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var $o=!!r.useInsertionEffect&&r.useInsertionEffect,Yo=$o||function(e){return e()},Xo=($o||t.useLayoutEffect,t.createContext("undefined"!==typeof HTMLElement?Fo({key:"css"}):null));Xo.Provider;var Jo=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Xo);return e(n,i,r)}))};var Zo=t.createContext({});var ea=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ta=Rs,na=function(e){return"theme"!==e},ra=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ta:na},ia=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},sa=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return ea(t,n,r),Yo((function(){return function(e,t,n){ea(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},oa=function e(n,r){var i,s,o=n.__emotion_real===n,a=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,s=r.target);var c=ia(n,r,o),l=c||ra(a),u=!l("as");return function(){var d=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{0,h.push(d[0][0]);for(var f=d.length,p=1;p<f;p++)h.push(d[p],d[0][p])}var m=Jo((function(e,n,r){var i=u&&e.as||a,o="",d=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=t.useContext(Zo)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,d,e.className):null!=e.className&&(o=e.className+" ");var m=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Go=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,i+=Ko(n,t,s)):i+=s[0];for(var o=1;o<e.length;o++)i+=Ko(n,t,e[o]),r&&(i+=s[o]);Qo.lastIndex=0;for(var a,c="";null!==(a=Qo.exec(i));)c+="-"+a[1];var l=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+c;return{name:l,styles:i,next:Go}}(h.concat(d),n.registered,f);o+=n.key+"-"+m.name,void 0!==s&&(o+=" "+s);var g=u&&void 0===c?ra(i):l,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=o,v.ref=r,t.createElement(t.Fragment,null,t.createElement(sa,{cache:n,serialized:m,isStringTag:"string"===typeof i}),t.createElement(i,v))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=a,m.__emotion_styles=h,m.__emotion_forwardProp=c,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(t,n){return e(t,js({},r,n,{shouldForwardProp:ia(m,n,!0)})).apply(void 0,h)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){oa[e]=oa(e)}));var aa=n(721);function ca(e){if("string"!==typeof e)throw new Error((0,aa.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}function la(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ua(e){if(!la(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=ua(e[n])})),t}function da(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?js({},e):e;return la(e)&&la(t)&&Object.keys(t).forEach((i=>{la(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&la(e[i])?r[i]=da(e[i],t[i],n):n.clone?r[i]=la(t[i])?ua(t[i]):t[i]:r[i]=t[i]})),r}const ha=function(e,t){return t?da(e,t,{clone:!1}):e},fa={xs:0,sm:600,md:900,lg:1200,xl:1536},pa={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(fa[e],"px)")};function ma(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||pa;return t.reduce(((r,i,s)=>(r[e.up(e.keys[s])]=n(t[s]),r)),{})}if("object"===typeof t){const e=r.breakpoints||pa;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||fa).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function ga(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function va(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function ya(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function ba(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:ya(e,n)||i,t&&(r=t(r,i,e)),r}const wa=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=e=>{if(null==e[t])return null;const s=e[t],o=ya(e.theme,r)||{};return ma(e,s,(e=>{let r=ba(o,i,e);return e===r&&"string"===typeof e&&(r=ba(o,i,"".concat(t).concat("default"===e?"":ca(e)),e)),!1===n?r:{[n]:r}}))};return s.propTypes={},s.filterProps=[t],s};const xa={m:"margin",p:"padding"},_a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Sa={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ea=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!Sa[e])return[e];e=Sa[e]}const[t,n]=e.split(""),r=xa[t],i=_a[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),Ca=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ka=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Ta=[...Ca,...ka];function Ia(e,t,n,r){var i;const s=null!=(i=ya(e,t,!1))?i:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function ja(e){return Ia(e,"spacing",8)}function Na(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function Pa(e,t,n,r){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=Na(t,n),e)),{})}(Ea(n),r);return ma(e,e[n],i)}function Da(e,t){const n=ja(e.theme);return Object.keys(e).map((r=>Pa(e,t,r,n))).reduce(ha,{})}function Oa(e){return Da(e,Ca)}function Aa(e){return Da(e,ka)}function Ra(e){return Da(e,Ta)}Oa.propTypes={},Oa.filterProps=Ca,Aa.propTypes={},Aa.filterProps=ka,Ra.propTypes={},Ra.filterProps=Ta;const Ma=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?ha(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function La(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function Fa(e,t){return wa({prop:e,themeKey:"borders",transform:t})}const Ua=Fa("border",La),za=Fa("borderTop",La),Va=Fa("borderRight",La),qa=Fa("borderBottom",La),Ba=Fa("borderLeft",La),Ha=Fa("borderColor"),Wa=Fa("borderTopColor"),Ka=Fa("borderRightColor"),Ga=Fa("borderBottomColor"),Qa=Fa("borderLeftColor"),$a=Fa("outline",La),Ya=Fa("outlineColor"),Xa=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Ia(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:Na(t,e)});return ma(e,e.borderRadius,n)}return null};Xa.propTypes={},Xa.filterProps=["borderRadius"];Ma(Ua,za,Va,qa,Ba,Ha,Wa,Ka,Ga,Qa,Xa,$a,Ya);const Ja=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Ia(e.theme,"spacing",8),n=e=>({gap:Na(t,e)});return ma(e,e.gap,n)}return null};Ja.propTypes={},Ja.filterProps=["gap"];const Za=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Ia(e.theme,"spacing",8),n=e=>({columnGap:Na(t,e)});return ma(e,e.columnGap,n)}return null};Za.propTypes={},Za.filterProps=["columnGap"];const ec=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Ia(e.theme,"spacing",8),n=e=>({rowGap:Na(t,e)});return ma(e,e.rowGap,n)}return null};ec.propTypes={},ec.filterProps=["rowGap"];Ma(Ja,Za,ec,wa({prop:"gridColumn"}),wa({prop:"gridRow"}),wa({prop:"gridAutoFlow"}),wa({prop:"gridAutoColumns"}),wa({prop:"gridAutoRows"}),wa({prop:"gridTemplateColumns"}),wa({prop:"gridTemplateRows"}),wa({prop:"gridTemplateAreas"}),wa({prop:"gridArea"}));function tc(e,t){return"grey"===t?t:e}Ma(wa({prop:"color",themeKey:"palette",transform:tc}),wa({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:tc}),wa({prop:"backgroundColor",themeKey:"palette",transform:tc}));function nc(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const rc=wa({prop:"width",transform:nc}),ic=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||fa[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:nc(t)}};return ma(e,e.maxWidth,t)}return null};ic.filterProps=["maxWidth"];const sc=wa({prop:"minWidth",transform:nc}),oc=wa({prop:"height",transform:nc}),ac=wa({prop:"maxHeight",transform:nc}),cc=wa({prop:"minHeight",transform:nc}),lc=(wa({prop:"size",cssProperty:"width",transform:nc}),wa({prop:"size",cssProperty:"height",transform:nc}),Ma(rc,ic,sc,oc,ac,cc,wa({prop:"boxSizing"})),{border:{themeKey:"borders",transform:La},borderTop:{themeKey:"borders",transform:La},borderRight:{themeKey:"borders",transform:La},borderBottom:{themeKey:"borders",transform:La},borderLeft:{themeKey:"borders",transform:La},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:La},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Xa},color:{themeKey:"palette",transform:tc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:tc},backgroundColor:{themeKey:"palette",transform:tc},p:{style:Aa},pt:{style:Aa},pr:{style:Aa},pb:{style:Aa},pl:{style:Aa},px:{style:Aa},py:{style:Aa},padding:{style:Aa},paddingTop:{style:Aa},paddingRight:{style:Aa},paddingBottom:{style:Aa},paddingLeft:{style:Aa},paddingX:{style:Aa},paddingY:{style:Aa},paddingInline:{style:Aa},paddingInlineStart:{style:Aa},paddingInlineEnd:{style:Aa},paddingBlock:{style:Aa},paddingBlockStart:{style:Aa},paddingBlockEnd:{style:Aa},m:{style:Oa},mt:{style:Oa},mr:{style:Oa},mb:{style:Oa},ml:{style:Oa},mx:{style:Oa},my:{style:Oa},margin:{style:Oa},marginTop:{style:Oa},marginRight:{style:Oa},marginBottom:{style:Oa},marginLeft:{style:Oa},marginX:{style:Oa},marginY:{style:Oa},marginInline:{style:Oa},marginInlineStart:{style:Oa},marginInlineEnd:{style:Oa},marginBlock:{style:Oa},marginBlockStart:{style:Oa},marginBlockEnd:{style:Oa},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ja},rowGap:{style:ec},columnGap:{style:Za},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:nc},maxWidth:{style:ic},minWidth:{transform:nc},height:{transform:nc},maxHeight:{transform:nc},minHeight:{transform:nc},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const uc=function(){function e(e,t,n,r){const i={[e]:t,theme:n},s=r[e];if(!s)return{[e]:t};const{cssProperty:o=e,themeKey:a,transform:c,style:l}=s;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=ya(n,a)||{};if(l)return l(i);return ma(i,t,(t=>{let n=ba(u,c,t);return t===n&&"string"===typeof t&&(n=ba(u,c,"".concat(e).concat("default"===t?"":ca(t)),t)),!1===o?n:{[o]:n}}))}return function t(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=null!=(r=s.unstable_sxConfig)?r:lc;function a(n){let r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;const i=ga(s.breakpoints),a=Object.keys(i);let c=i;return Object.keys(r).forEach((n=>{const i=(a=r[n],l=s,"function"===typeof a?a(l):a);var a,l;if(null!==i&&void 0!==i)if("object"===typeof i)if(o[n])c=ha(c,e(n,i,s,o));else{const e=ma({theme:s},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?c=ha(c,e):c[n]=t({sx:i,theme:s})}else c=ha(c,e(n,i,s,o))})),va(a,c)}return Array.isArray(i)?i.map(a):a(i)}}();uc.filterProps=["sx"];const dc=uc,hc=["sx"],fc=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:lc;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};const pc=["values","unit","step"],mc=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>js({},e,{[t.key]:t.val})),{})};const gc={borderRadius:4};function vc(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){return{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}}return n.palette.mode===e?t:{}}const yc=["breakpoints","palette","spacing","shape"];const bc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,s=Ns(e,yc),o=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=Ns(e,pc),s=mc(t),o=Object.keys(s);function a(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function c(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function l(e,i){const s=o.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==s&&"number"===typeof t[o[s]]?t[o[s]]:i)-r/100).concat(n,")")}return js({keys:o,values:s,up:a,down:c,between:l,only:function(e){return o.indexOf(e)+1<o.length?l(e,o[o.indexOf(e)+1]):a(e)},not:function(e){const t=o.indexOf(e);return 0===t?a(o[1]):t===o.length-1?c(o[t]):l(e,o[o.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}(t),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=ja({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(r);let c=da({breakpoints:o,direction:"ltr",components:{},palette:js({mode:"light"},n),spacing:a,shape:js({},gc,i)},s);c.applyStyles=vc;for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];return c=u.reduce(((e,t)=>da(e,t)),c),c.unstable_sxConfig=js({},lc,null==s?void 0:s.unstable_sxConfig),c.unstable_sx=function(e){return dc({sx:e,theme:this})},c};const wc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(Zo);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},xc=bc();const _c=function(){return wc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc)},Sc=["className","component"];const Ec=e=>e,Cc=(()=>{let e=Ec;return{configure(t){e=t},generate:t=>e(t),reset(){e=Ec}}})();function kc(e,t){return js({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Tc=n(131);const Ic={black:"#000",white:"#fff"},jc={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Nc={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Pc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Dc={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Oc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ac={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Rc={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Mc=["mode","contrastThreshold","tonalOffset"],Lc={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ic.white,default:Ic.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Fc={text:{primary:Ic.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ic.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Uc(e,t,n,r){const i=r.light||r,s=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,Tc.$n)(e.main,i):"dark"===t&&(e.dark=(0,Tc._j)(e.main,s)))}function zc(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=Ns(e,Mc),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Oc[200],light:Oc[50],dark:Oc[400]}:{main:Oc[700],light:Oc[400],dark:Oc[800]}}(t),o=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Nc[200],light:Nc[50],dark:Nc[400]}:{main:Nc[500],light:Nc[300],dark:Nc[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Pc[500],light:Pc[300],dark:Pc[700]}:{main:Pc[700],light:Pc[400],dark:Pc[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ac[400],light:Ac[300],dark:Ac[700]}:{main:Ac[700],light:Ac[500],dark:Ac[900]}}(t),l=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Rc[400],light:Rc[300],dark:Rc[700]}:{main:Rc[800],light:Rc[500],dark:Rc[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Dc[400],light:Dc[300],dark:Dc[700]}:{main:"#ed6c02",light:Dc[500],dark:Dc[900]}}(t);function d(e){return(0,Tc.mi)(e,Fc.text.primary)>=n?Fc.text.primary:Lc.text.primary}const h=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:o=700}=e;if(t=js({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,aa.Z)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error((0,aa.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Uc(t,"light",s,r),Uc(t,"dark",o,r),t.contrastText||(t.contrastText=d(t.main)),t},f={dark:Fc,light:Lc};return da(js({common:js({},Ic),mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:c,name:"info"}),success:h({color:l,name:"success"}),grey:jc,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[t]),i)}const Vc=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const qc={textTransform:"uppercase"},Bc='"Roboto", "Helvetica", "Arial", sans-serif';function Hc(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=Bc,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:l=16,allVariants:u,pxToRem:d}=n,h=Ns(n,Vc);const f=i/14,p=d||(e=>"".concat(e/l*f,"rem")),m=(e,t,n,i,s)=>{return js({fontFamily:r,fontWeight:e,fontSize:p(t),lineHeight:n},r===Bc?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},s,u);var o},g={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,qc),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,qc),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return da(js({htmlFontSize:l,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:c},g),h,{clone:!1})}function Wc(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const Kc=["none",Wc(0,2,1,-1,0,1,1,0,0,1,3,0),Wc(0,3,1,-2,0,2,2,0,0,1,5,0),Wc(0,3,3,-2,0,3,4,0,0,1,8,0),Wc(0,2,4,-1,0,4,5,0,0,1,10,0),Wc(0,3,5,-1,0,5,8,0,0,1,14,0),Wc(0,3,5,-1,0,6,10,0,0,1,18,0),Wc(0,4,5,-2,0,7,10,1,0,2,16,1),Wc(0,5,5,-3,0,8,10,1,0,3,14,2),Wc(0,5,6,-3,0,9,12,1,0,3,16,2),Wc(0,6,6,-3,0,10,14,1,0,4,18,3),Wc(0,6,7,-4,0,11,15,1,0,4,20,3),Wc(0,7,8,-4,0,12,17,2,0,5,22,4),Wc(0,7,8,-4,0,13,19,2,0,5,24,4),Wc(0,7,9,-4,0,14,21,2,0,5,26,4),Wc(0,8,9,-5,0,15,22,2,0,6,28,5),Wc(0,8,10,-5,0,16,24,2,0,6,30,5),Wc(0,8,11,-5,0,17,26,2,0,6,32,5),Wc(0,9,11,-5,0,18,28,2,0,7,34,6),Wc(0,9,12,-6,0,19,29,2,0,7,36,6),Wc(0,10,13,-6,0,20,31,3,0,8,38,7),Wc(0,10,13,-6,0,21,33,3,0,8,40,7),Wc(0,10,14,-6,0,22,35,3,0,8,42,7),Wc(0,11,14,-7,0,23,36,3,0,9,44,8),Wc(0,11,15,-7,0,24,38,3,0,9,46,8)],Gc=["duration","easing","delay"],Qc={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$c={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Yc(e){return"".concat(Math.round(e),"ms")}function Xc(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function Jc(e){const t=js({},Qc,e.easing),n=js({},$c,e.duration);return js({getAutoHeightDuration:Xc,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:s=t.easeInOut,delay:o=0}=r;Ns(r,Gc);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:Yc(i)," ").concat(s," ").concat("string"===typeof o?o:Yc(o)))).join(",")}},e,{easing:t,duration:n})}const Zc={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},el=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function tl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,s=Ns(e,el);if(e.vars)throw new Error((0,aa.Z)(18));const o=zc(n),a=bc(e);let c=da(a,{mixins:kc(a.breakpoints,t),palette:o,shadows:Kc.slice(),typography:Hc(o,i),transitions:Jc(r),zIndex:js({},Zc)});c=da(c,s);for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];return c=u.reduce(((e,t)=>da(e,t)),c),c.unstable_sxConfig=js({},lc,null==s?void 0:s.unstable_sxConfig),c.unstable_sx=function(e){return dc({sx:e,theme:this})},c}const nl=tl,rl={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};const il=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=rl[t];return r?"".concat(n,"-").concat(r):"".concat(Cc.generate(e),"-").concat(t)}(e,t,n)})),r}("MuiBox",["root"]),sl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:s}=e,o=function(e,t){return oa(e,t)}("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(dc),a=t.forwardRef((function(e,t){const a=_c(r),c=function(e){const{sx:t}=e,n=Ns(e,hc),{systemProps:r,otherProps:i}=fc(n);let s;return s=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return la(e)?js({},r,e):r}:js({},r,t),js({},i,{sx:s})}(e),{className:l,component:u="div"}=c,d=Ns(c,Sc);return(0,ys.jsx)(o,js({as:u,ref:t,className:Ds(l,s?s(i):i),theme:n&&a[n]||a},d))}));return a}({themeId:"$$material",defaultTheme:nl(),defaultClassName:il.root,generateClassName:Cc.generate}),ol=sl,al=()=>{const[e,n]=t.useState([]),[r,i]=t.useState([]),[s,o]=t.useState(!1);t.useEffect((()=>{(async()=>{const e=(await hs("item")).filter((e=>!0===e.carrossel));n(e)})()}),[]);return(0,ys.jsxs)(ys.Fragment,{children:[(0,ys.jsx)("div",{className:"container-modalDihses-InCarrolse",children:s&&(0,ys.jsx)(Ts,{item:r,setModal:o})}),(0,ys.jsx)(ol,{sx:{width:"300px",margin:"auto"},children:(0,ys.jsx)(Is.Z,{dots:!0,infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,children:e&&e.map(((e,t)=>(0,ys.jsxs)("div",{onClick:()=>(e=>{e&&(console.log("item   ",e),i(e),o(!0))})(e),children:[(0,ys.jsx)("img",{src:e.image,alt:"asdf  2"}),(0,ys.jsx)("p",{children:e.title})]},t)))})})]})};const cl=function(e){let{newItem:n}=e;const[r,i]=t.useState([]),[s,o]=t.useState(!1);return t.useEffect((()=>{i(n)}),[]),(0,ys.jsxs)(ys.Fragment,{children:[s&&(0,ys.jsx)(Ts,{item:r,setModal:o}),r&&(0,ys.jsxs)("div",{onClick:()=>{o(!0)},className:"item-container container my-2 card",children:[(0,ys.jsxs)("div",{className:"row",children:[(0,ys.jsxs)("div",{className:"col-7",children:[(0,ys.jsx)("h2",{className:"my-0",children:r.title}),(0,ys.jsx)("p",{className:"comments",children:r.comment})]}),(0,ys.jsx)("img",{className:"col-5 img-thumbnail img-customize",src:r.image,alt:"123"})]}),(0,ys.jsxs)("div",{className:"container-request-button",children:[(0,ys.jsx)("button",{className:"request-client",children:"Fa\xe7a o seu pedido"}),r&&(0,ys.jsxs)("p",{className:"price float-end fw-bold",children:["R$",r.price,",00"]})]})]})]})},ll=e=>{let{item:n,parent:r,menuButton:i,dishes:s,containerRef:o}=e;const[a,c]=(0,t.useState)(!1),[l,u]=t.useState([]),[d,h]=t.useState([]),f=t.useRef(null);return t.useEffect((()=>{if(a&&o.current){const e=o.current,t=200;e.scrollTo({top:e.scrollTop+t,behavior:"smooth"})}}),[a,l,d]),t.useEffect((()=>{i&&u(i.filter((e=>n.parent==e.category)))}),[]),t.useEffect((()=>{if(s){const e=s.filter((e=>n.parent==e.category));h(e)}}),[]),(0,ys.jsxs)("div",{className:"nested-btn",children:[r===n.category&&(0,ys.jsx)("button",{ref:f,onClick:e=>{if(c(!a),f.current&&o.current){const e=f.current,t=o.current,n=(e.offsetTop,200);t.scrollTo({top:t.scrollTop+n,behavior:"smooth"})}},className:n.category,children:n.title}),a&&l.length>0&&l.map(((e,r)=>(0,ys.jsx)(t.Fragment,{children:(0,ys.jsx)("div",{children:(0,ys.jsx)(ll,{parent:n.parent,item:e,menuButton:i,dishes:s,containerRef:o})})},r))),a&&d.length>0&&d.map(((e,n)=>(0,ys.jsx)(t.Fragment,{children:(0,ys.jsx)(cl,{newItem:e})},n)))]})},ul=ll;function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(this,arguments)}function hl(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const fl=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],pl=["aria-current","caseSensitive","className","end","style","to","children"];const ml=r.startTransition;function gl(e){let{basename:n,children:r,future:i,window:s}=e,o=t.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,a)));let c=o.current,[l,h]=t.useState({action:c.action,location:c.location}),{v7_startTransition:p}=i||{},m=t.useCallback((e=>{p&&ml?ml((()=>h(e))):h(e)}),[h,p]);return t.useLayoutEffect((()=>c.listen(m)),[c,m]),t.createElement(fe,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:c})}const vl="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,yl=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bl=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:o,replace:c,state:l,target:u,to:h,preventScrollReset:f}=e,p=hl(e,fl),{basename:m}=t.useContext(B),g=!1;if("string"===typeof h&&yl.test(h)&&(r=h,vl))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=j(t.pathname,m);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:g=!0}catch(b){}let v=function(e,n){let{relative:r}=void 0===n?{}:n;G()||a(!1);let{basename:i,navigator:s}=t.useContext(B),{hash:o,pathname:c,search:l}=J(e,{relative:r}),u=c;return"/"!==i&&(u="/"===c?i:O([i,c])),s.createHref({pathname:u,search:l,hash:o})}(h,{relative:s}),y=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:o,relative:a}=void 0===n?{}:n,c=Y(),l=Q(),u=J(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:d(l)===d(u);c(e,{replace:n,state:s,preventScrollReset:o,relative:a})}}),[l,c,u,i,s,r,e,o,a])}(h,{replace:c,state:l,target:u,preventScrollReset:f,relative:s});return t.createElement("a",dl({},p,{href:r||v,onClick:g||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:n,target:u}))}));const wl=t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:c,children:l}=e,u=hl(e,pl),d=J(c,{relative:u.relative}),h=Q(),f=t.useContext(q),{navigator:p}=t.useContext(B),m=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,g=h.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(g=g.toLowerCase(),v=v?v.toLowerCase():null,m=m.toLowerCase());let y,b=g===m||!o&&g.startsWith(m)&&"/"===g.charAt(m.length),w=null!=v&&(v===m||!o&&v.startsWith(m)&&"/"===v.charAt(m.length)),x=b?r:void 0;y="function"===typeof s?s({isActive:b,isPending:w}):[s,b?"active":null,w?"pending":null].filter(Boolean).join(" ");let _="function"===typeof a?a({isActive:b,isPending:w}):a;return t.createElement(bl,dl({},u,{"aria-current":x,className:y,ref:n,style:_,to:c}),"function"===typeof l?l({isActive:b,isPending:w}):l)}));var xl,_l;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(xl||(xl={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_l||(_l={}));const Sl=()=>{const[e,n]=t.useState(!1),r=Y(),i=()=>{n(!e)};return t.useEffect((()=>{n(!1)}),[r]),(0,ys.jsxs)(ys.Fragment,{children:[(0,ys.jsx)("button",{"data-menu":"button",onClick:i}),e&&(0,ys.jsxs)("div",{className:"modal_menu",children:[(0,ys.jsx)("div",{className:"close-btn",children:(0,ys.jsx)("button",{onClick:i,children:"X"})}),(0,ys.jsxs)("ul",{children:[(0,ys.jsx)("li",{children:(0,ys.jsx)(bl,{to:"/",children:"Home"})}),(0,ys.jsxs)("li",{children:[" ",(0,ys.jsx)(bl,{to:"/admin",children:"Admin"})]})]})]})]})},El=e=>{let{item:t,setModal:n}=e;return(0,ys.jsxs)("div",{className:"content-modal-dishes",children:[(0,ys.jsx)("div",{className:"close-btn",children:(0,ys.jsx)("button",{onClick:()=>{n(!1)},children:"X"})}),(0,ys.jsx)("h1",{children:t.name}),(0,ys.jsx)("img",{src:t.image,alt:"img"})]})},Cl="WarningMessages_containerWarningMessage__5wKXt",kl="WarningMessages_containerBtn__yFJdh",Tl="Input_labelForm__k4J57",Il=e=>{let{label:t,fieldFocus:n,id:r,...i}=e;const s={fontSize:window.innerWidth>900?"fontSizeForm":"16px",padding:"10px",borderRadius:"4px"};return s.fontSize=i.fontSizeForm||s.fontSize,(0,ys.jsxs)("div",{className:"mb-3",children:[(0,ys.jsx)("label",{className:Tl,htmlFor:t,children:t}),(0,ys.jsx)("input",{ref:n,style:s,className:"form-control",id:r,...i})]})},jl=e=>{let{addCharacter:t,closeKeyboard:n,id:r}=e;const i=e=>{t(e,r)};return(0,ys.jsxs)("div",{children:[(0,ys.jsxs)("div",{className:"text-keyboard-line-container",children:[(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("0"),children:"0"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("1"),children:"1"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("2"),children:"2"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("3"),children:"3"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("4"),children:"4"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("5"),children:"5"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("6"),children:"6"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("7"),children:"7"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("8"),children:"8"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("9"),children:"9"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("@"),children:"@"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("-"),children:"-"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("_"),children:"_"})]}),(0,ys.jsxs)("div",{className:"text-keyboard-line-container",children:[(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("q"),children:"q"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("w"),children:"w"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("e"),children:"e"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("r"),children:"r"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("t"),children:"t"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("y"),children:"y"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("u"),children:"u"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("i"),children:"i"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("o"),children:"o"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("p"),children:"p"}),(0,ys.jsx)("div",{className:"text-character",onClick:()=>i("Bcksp"),children:"Bcksp"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("."),children:"."})]}),(0,ys.jsxs)("div",{className:"text-keyboard-line-container",children:[(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("a"),children:"a"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("s"),children:"s"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("d"),children:"d"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("f"),children:"f"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("g"),children:"g"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("h"),children:"h"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("j"),children:"j"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("k"),children:"k"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("l"),children:"l"})]}),(0,ys.jsxs)("div",{className:"text-keyboard-line-container",children:[(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("z"),children:"z"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("x"),children:"x"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("c"),children:"c"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("v"),children:"v"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("b"),children:"b"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("n"),children:"n"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("m"),children:"m"}),(0,ys.jsx)("div",{className:"text-character one-char",onClick:()=>i("p"),children:"p"})]}),(0,ys.jsxs)("div",{className:"text-keyboard-line-container",children:[(0,ys.jsx)("div",{className:"text-character",onClick:()=>i("clearField"),children:"limpar"}),(0,ys.jsx)("div",{className:"text-character space",onClick:()=>i(" "),children:"Esp"}),(0,ys.jsx)("div",{className:"text-character",onClick:n,children:"Enter"}),(0,ys.jsx)("div",{className:"text-character",onClick:()=>i(".com"),children:".com"})]})]})},Nl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const[n,r]=t.useState(e),[i,s]=t.useState({}),[o,a]=t.useState({}),c=async e=>{if(e.length>11){const t=await(async e=>{const t=await hs("user"),n=t.some((t=>t.cpf===e));if(n){const n=t.filter((t=>t.cpf===e));a(n)}return n})(e);console.log("sRepeated ",t),s(t?e=>({...e,cpf:"Esse n\xfamero de CPF j\xe1 foi usado"}):e=>({...e,cpf:""}))}},l=e=>{console.log("Entrei no isValid   ");const t=e.replace(/\D/g,"");if(11!==t.length)return!1;if(/^(\d)\1+$/.test(t))return!1;const n=e=>{let t=0;for(let r=0;r<e.length;r++)t+=e[r]*(e.length+1-r);const n=10*t%11;return 10===n?0:n},r=n(t.substring(0,9)),i=n(t.substring(0,10));return r===parseInt(t[9],10)&&i===parseInt(t[10],10)};return{form:n,error:i,handleChange:e=>{const{id:t,value:n}=e.target;"cpf"===t?(e=>{const t=e.replace(/\D/g,"");let n=t;t.length>3&&(n="".concat(t.substring(0,3),"-").concat(t.substring(3))),t.length>6&&(n="".concat(t.substring(0,3),"-").concat(t.substring(3,6),"-").concat(t.substring(6))),t.length>9&&(n="".concat(t.substring(0,3),"-").concat(t.substring(3,6),"-").concat(t.substring(6,9),"/").concat(t.substring(9,11))),r((e=>({...e,cpf:n}))),11===t.length&&l(t)?s((e=>({...e,cpf:""}))):s((e=>({...e,cpf:"Por favor, insira um CPF v\xe1lido."})))})(n):"phone"===t?(e=>{const t=e.replace(/\D/g,"");let n=t;t.length>0&&(n="(".concat(t.substring(0,2))),t.length>2&&(n+=") ".concat(t.substring(2,3))),t.length>3&&(n+=" ".concat(t.substring(3,7))),t.length>7&&(n+=" ".concat(t.substring(7,11))),r((e=>({...e,phone:n}))),t.length>=11?s((e=>({...e,phone:""}))):s((e=>({...e,phone:"Por favor, insira um n\xfamero v\xe1lido de celular com 11 d\xedgitos"})))})(n):"birthday"===t?(e=>{const t=e.replace(/\D/g,"");let n=t;t.length>2&&(n=t.slice(0,2)+"/"+t.slice(2)),t.length>4&&(n=t.slice(0,2)+"/"+t.slice(2,4)+"/"+t.slice(4,8));const[i,o,a]=n.split("/"),c=8===t.length&&!isNaN(new Date("".concat(a,"-").concat(o,"-").concat(i)).getTime()),l=new Date,u=c?new Date("".concat(a,"-").concat(o,"-").concat(i)):null;u&&u>l?s((e=>({...e,birthday:"Por favor, insira uma data de anivers\xe1rio v\xe1lida."}))):c||8!==t.length?s((e=>({...e,birthday:""}))):s((e=>({...e,birthday:"A data inserida n\xe3o existe. Por favor, insira uma data v\xe1lida."}))),r((e=>({...e,birthday:n})))})(n):r((e=>({...e,[t]:n})))},setForm:r,handleBlur:e=>{const{id:t,value:n}=e.target;return c(n),n.split(".")[0]},clientFinded:o}},Pl=e=>{let{justNameFantasy:n,setPopupName:r,totenForm:i}=e;const s=t.useContext(ws),{form:o,setForm:a,error:c,handleChange:l,handleBlur:u}=Nl({name:"",phone:"",cpf:"",birthday:"",email:""}),[d,h]=t.useState(!1);return(0,ys.jsxs)("div",{className:"container-nameform",children:[(0,ys.jsx)("h3",{children:"COMO PODEMOS TE CHAMAR..."}),(0,ys.jsx)(Il,{id:"name",required:!0,label:"Nome",autoComplete:"off",value:o.name,type:"text",onChange:l,onFocus:e=>{const{id:t,value:n}=e.target;"name"===t&&h(!0)}}),d&&s.isToten&&(0,ys.jsx)(jl,{addCharacter:(e,t)=>{if("clearField"===e){a((e=>({...e,id:""})));return void l({target:{id:t,value:""}})}if("Bcksp"===e){a((e=>({...e,[t]:e[t].slice(0,-1)})));const e={target:{id:t,value:o[t].slice(0,-1)}};return void l(e)}let n="";"phone"===t?n=o.phone+e:"cpf"===t?n=o.cpf+e:"name"===t?n=o.name+e:"email"===t&&(n=o.email+e);l({target:{id:t,value:n}})},id:"name",closeKeyboard:()=>{return e=o.fantasyName,void("fantasyName"==="name"&&(h(!1),u({target:{id:"fantasyName",value:e}})));var e}}),(0,ys.jsx)("button",{className:"goon-btn",onClick:()=>n(o.name),children:"Continue"}),!i&&(0,ys.jsxs)("div",{className:"registration-promotion",children:[(0,ys.jsx)("h4",{children:"Cadastre-se aqui e participe de nossas promo\xe7\xf5es"}),(0,ys.jsx)("div",{className:"container-registration-btn",children:(0,ys.jsx)("button",{className:"goon-btn",onClick:()=>r(!1),children:"Cadastre-se"})})]})]})},Dl=e=>{let{message:n,style:r,customer:i,finalPriceRequest:s,setWarningMsg:o,sendRequestToKitchen:a,requests:c,isSubmitting:l}=e;const[u,d]=t.useState(!1),[h,f]=t.useState(!1),p=t.useContext(ws),m=Y();t.useEffect((()=>{"anonimo"===i&&d(!0),console.log("requests",c)}),[]);return(0,ys.jsx)("div",{className:Cl,children:u?(0,ys.jsxs)("div",{children:[" ",(0,ys.jsx)("h1",{children:"Quer ganhar um desconto na sua compra? Cadastre-se! "}),(0,ys.jsxs)("div",{className:kl,children:[(0,ys.jsx)("button",{onClick:()=>{localStorage.setItem("backorder",JSON.stringify(c)),localStorage.setItem("noFantasyName",JSON.stringify({id:!0})),d(!1),p.setAuthorizated(!1)},children:"Cancelar"}),(0,ys.jsx)("button",{onClick:()=>{localStorage.setItem("backorder",JSON.stringify(c)),localStorage.removeItem("userMenu"),p.setAuthorizated(!1),m("/create-customer")},children:"Cadastrar"})]})]}):(0,ys.jsxs)("div",{children:[(0,ys.jsx)("h1",{children:"Parab\xe9ns!"}),(0,ys.jsx)("h1",{style:r,children:n}),s&&(0,ys.jsxs)("h3",{children:["Valor Final R$ ",s,",00"]}),(0,ys.jsxs)("div",{className:kl,children:[(0,ys.jsx)("button",{onClick:()=>o(!1),children:"Cancelar"}),(0,ys.jsx)("button",{disabled:l,onClick:a,children:"Continuar"})]})]})})},Ol="TotenRegisterPopup_overlay__0w7vd",Al="TotenRegisterPopup_totenRegisterPopupSecondContainer__TnkQn",Rl="TotenRegisterPopup_goonBtn__SE-AF",Ml=e=>{let{addCharacter:t,closeKeyboard:n,id:r}=e;const i=e=>{t(e,r)};return(0,ys.jsx)("div",{children:(0,ys.jsxs)("div",{className:"character-container",children:[(0,ys.jsx)("div",{className:"character",onClick:()=>i("1"),children:"1"}),(0,ys.jsx)("div",{className:"character",onClick:()=>i("2"),children:"2"}),(0,ys.jsx)("div",{className:"character",onClick:()=>i("3"),children:"3"}),(0,ys.jsx)("div",{className:"character",onClick:()=>i("4"),children:"4"}),(0,ys.jsx)("div",{className:"character",onClick:()=>i("5"),children:"5"}),(0,ys.jsx)("div",{className:"character",onClick:()=>i("6"),children:"6"}),(0,ys.jsx)("div",{className:"character",onClick:()=>i("7"),children:"7"}),(0,ys.jsx)("div",{className:"character",onClick:()=>i("8"),children:"8"}),(0,ys.jsx)("div",{className:"character",onClick:()=>i("9"),children:"9"}),(0,ys.jsx)("div",{className:"character",onClick:()=>i("clearField"),children:"Limpar"}),(0,ys.jsx)("div",{className:"character",onClick:()=>i("0"),children:"0"}),(0,ys.jsx)("div",{className:"character ",onClick:()=>i("Bcksp"),children:"Bcksp"}),(0,ys.jsx)("div",{className:"character enter",onClick:n,children:"Enter"})]})})},Ll=e=>{let{msg:t,onClose:n,onConfirm:r,item:i}=e;return(0,ys.jsxs)(ys.Fragment,{children:[(0,ys.jsx)("div",{className:"overlay"})," ",(0,ys.jsxs)("div",{className:"default-comum-message-container",children:[(0,ys.jsx)("h1",{children:"Mensagem importante"}),(0,ys.jsx)("h3",{children:t}),(0,ys.jsxs)("div",{className:"container-button",children:[n&&(0,ys.jsx)("button",{onClick:n,children:"Cancelar"}),r&&(0,ys.jsx)("button",{onClick:()=>{i?r(i,!0):r()},children:"Continuar"})]})]})]})},Fl=e=>{let{setClose:t}=e;return(0,ys.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"end"},children:[" ",(0,ys.jsx)("button",{style:{padding:"10px 20px",backgroundColor:"none",border:"none",borderRadius:"5px",cursor:"pointer"},onClick:()=>{t(!1)},children:"x"})]})},Ul=e=>{let{setOpenCloseTotenPopup:n,setCurrentUser:r,sendRequestToKitchen:i,isSubmitting:s}=e;const{form:o,setForm:a,error:c,handleChange:l,handleBlur:u}=Nl({name:"",phone:"",cpf:"",birthday:"",email:""}),[d,h]=t.useState(!1),[f,p]=t.useState(!1),[m,g]=t.useState(!1),[v,y]=t.useState(!1),b=t.useContext(ws),w=(0,as.getFirestore)(is),x=(e,t)=>{if("fantasyName"===t){h(!1);u({target:{id:"fantasyName",value:e}})}},_=(e,t)=>{if("clearField"===e){a((e=>({...e,id:""})));return void l({target:{id:t,value:""}})}if("Bcksp"===e){a((e=>({...e,[t]:e[t].slice(0,-1)})));const e={target:{id:t,value:o[t].slice(0,-1)}};return void l(e)}let n="";"phone"===t?n=o.phone+e:"cpf"===t?n=o.cpf+e:"name"===t?n=o.name+e:"email"===t&&(n=o.email+e);l({target:{id:t,value:n}})},S=e=>{const{id:t,value:n}=e.target;"name"===t&&(h(!0),p(!1)),"cpf"===t&&(p(!0),h(!1))};return(0,ys.jsxs)("div",{children:[(0,ys.jsx)("div",{className:Ol})," ",m&&(0,ys.jsx)(Ll,{msg:"Preencha o n\xfamero de CPF se for cadastrado, ou nome para que possamos chamar"}),v&&(0,ys.jsx)(Ll,{msg:"Infelizmente n\xe3o achamos o seu registro, Cadastre-se ou preencha um nome/apelido sem registro para ser chamado"}),(0,ys.jsxs)("div",{className:Al,children:[(0,ys.jsx)(Fl,{setClose:n}),(0,ys.jsx)("h1",{children:"Como devemos chamar voc\xea ?"}),(0,ys.jsx)(Il,{id:"name",required:!0,autoComplete:"off",value:o.name,placeholder:"Nome",type:"text",onChange:l,onFocus:S}),d&&b.isToten&&(0,ys.jsx)(jl,{addCharacter:_,id:"name",closeKeyboard:()=>x(o.fantasyName,"name")}),(0,ys.jsx)("h1",{children:"Se voc\xea j\xe1 tem cadastro preencha com o seu CPF"}),(0,ys.jsxs)("div",{className:"cpf-input",children:[(0,ys.jsx)(Il,{id:"cpf",autoComplete:"off",required:!0,placeholder:"CPF",value:o.cpf,type:"text",onChange:l,onFocus:S}),f&&b.isToten&&(0,ys.jsx)(Ml,{addCharacter:_,closeKeyboard:()=>x(o.cpf,"cpf"),id:"cpf"})]}),(0,ys.jsx)("button",{disabled:s,className:Rl,onClick:async()=>{const e={name:"anonimo",phone:"777",birthday:"77",fantasyName:o.name,email:"anonimo@anonimo.com"};if(""===o.cpf&&""===o.name)return g(!0),window.warningTimeout&&clearTimeout(window.warningTimeout),void(window.warningTimeout=setTimeout((()=>{g(!1)}),5e3));if(""!==o.cpf){const e=(await hs("user")).find((e=>e.cpf===o.cpf));return e?(b.setId(e.id),localStorage.setItem("userMenu",JSON.stringify({id:e.id,name:e.name})),r(e),n(!1),void i()):(y(!0),window.warningTimeout&&clearTimeout(window.warningTimeout),window.warningTimeout=setTimeout((()=>{y(!1)}),5e3),void a({...o,cpf:""}))}if(""!==o.name)try{const t=await(0,as.addDoc)((0,as.collection)(w,"user"),e);b.setId(t.id),localStorage.setItem("userMenu",JSON.stringify({id:t.id,name:e.fantasyName})),console.log("Document written with ID:",t.id);const s=await fs("user",t.id);i(),r(s),n(!1)}catch(c){console.error("Erro ao adicionar usu\xe1rio:",c)}},children:"Continue"})]})]})},zl=()=>{const e=(0,t.useContext)(ws),{name:n,finalPriceRequest:r,dateTime:i,countRequest:s,request:o}=e.userNewRequest,[a,c]=(0,t.useState)(!1),l=t.useRef(!1);return(0,t.useEffect)((()=>{console.log("Fui CHAMADO"),e.userNewRequest&&!a&&(console.log("request ATUALIZADO",e.userNewRequest),setTimeout((()=>{window.print(),l.current=!0}),600))}),[]),(0,ys.jsxs)("div",{className:"print-request-container",children:[(0,ys.jsx)("div",{className:"container-link","container-link":!0,children:(0,ys.jsx)(bl,{to:"/admin/requestlist",className:"btn btn-success",children:"Cozinha"})}),(0,ys.jsx)("p",{children:"Dragon Computadores Eireli me"}),(0,ys.jsx)("p",{children:(0,ys.jsx)("span",{children:"Rua Alv\xe1res Penteado,177 Centro Hist\xf3rico CEP 01012-001"})}),(0,ys.jsxs)("p",{children:["CNPJ",(0,ys.jsx)("span",{children:" 19.337.953/0001-78"})]}),(0,ys.jsxs)("h3",{children:["Pedido ",(0,ys.jsx)("span",{children:s})]}),(0,ys.jsxs)("p",{children:["cliente: ",(0,ys.jsx)("span",{children:n})]}),(0,ys.jsxs)("p",{children:["Hor\xe1rio: ",(0,ys.jsx)("span",{children:i})]}),(0,ys.jsxs)("p",{children:["Pedido: ",s]}),(0,ys.jsx)("h3",{children:"Itens"}),o&&o.length>0&&o.map((e=>(0,ys.jsxs)("div",{className:"each-item",children:[(0,ys.jsxs)("h3",{children:["Item: ",(0,ys.jsx)("span",{children:e.name})]}),(0,ys.jsxs)("p",{children:["Valor ",(0,ys.jsxs)("span",{children:["R$ ",e.finalPrice,",00"]})]}),e.sideDishes&&(0,ys.jsx)("h5",{children:"Acompanhamento"}),e.sideDishes&&e.sideDishes.length>0&&e.sideDishes.map((e=>(0,ys.jsxs)("div",{className:"sidedishes-print",children:[(0,ys.jsx)("p",{children:(0,ys.jsx)("span",{children:e.name})}),(0,ys.jsx)("p",{children:(0,ys.jsxs)("span",{children:["R$",e.price,",00"]})})]},e.name)))]},e.name))),(0,ys.jsxs)("p",{children:["TOTAL:",(0,ys.jsxs)("span",{children:[" RS ",r,",00"]})]}),(0,ys.jsx)(bl,{to:"/nfce",className:"btn btn-success",children:"Nota Fiscal"})]})},Vl={name:"anonymous",phone:"777",birthday:"77",email:"anonimo@anonimo.com"},ql=(0,as.getFirestore)(is),Bl=async()=>{const e=(0,as.collection)(ql,"user"),t=(0,as.query)(e,(0,as.where)("name","==","anonymous")),n=await(0,as.getDocs)(t);if(n.empty){return{id:(await(0,as.addDoc)(e,Vl)).id,...Vl}}{const e=n.docs[0];return{id:e.id,...e.data()}}},Hl=()=>{(0,t.useEffect)((()=>{(async()=>{const e=localStorage.getItem("isToten");if("false"===e||null===e)return;const t=localStorage.getItem("userMenu");if(t){if("anonymous"===JSON.parse(t).name)return}const n=await Bl();localStorage.setItem("userMenu",JSON.stringify({id:n.id,name:n.name}))})()}),[])},Wl=()=>{const[e,n]=t.useState(""),[r,i]=t.useState(null),[s,o]=t.useState(null),a=(0,as.getFirestore)(is),[c,l]=t.useState([]),[u,d]=t.useState(!1),[h,f]=t.useState(!0),[p,m]=t.useState(null),[g,v]=t.useState(null),[y,b]=t.useState(!1),[w,x]=t.useState(!1),[_,S]=t.useState(!1),[E,C]=t.useState(!1),k=Y(),T=(t.useContext(ws),Q());async function I(){try{console.log("Buscando usu\xe1rio:",e);const t=(0,as.doc)(a,"user",e),n=(await(0,as.getDoc)(t)).data();n&&(i(n),r&&r.request.length>0&&f(!0))}catch(t){console.error("Erro ao buscar dados do usu\xe1rio:",t)}}t.useEffect((()=>{if(localStorage.hasOwnProperty("userMenu")){const e=JSON.parse(localStorage.getItem("userMenu"));n(e.id)}if(localStorage.hasOwnProperty("isToten")){JSON.parse(localStorage.getItem("isToten"))&&v(!0)}if(localStorage.hasOwnProperty("backorder")){let e=[];const t=JSON.parse(localStorage.getItem("backorder"));t&&t.length>0&&t.forEach((t=>{e.push(t)})),o(e)}}),[]),t.useEffect((()=>{if(r&&Array.isArray(r.request)){if(localStorage.hasOwnProperty("backorder")){const e=JSON.parse(localStorage.getItem("backorder"));e&&e.length>0&&r.request&&r.request&&e.forEach((e=>{r.request.push(e)})),console.log("order Storaged   ",e)}N(r),r.request.length>0?f(!1):f(!0)}console.log("userData mudou:",r)}),[r]),t.useEffect((()=>{e&&(I(),s&&j(s))}),[e]),t.useEffect((()=>{C(!1)}),[T]),t.useEffect((()=>{console.log("isSubmitting mudou:",E)}),[E]);const j=async t=>{try{const n=(0,as.doc)(a,"user",e),r=await(0,as.getDoc)(n);if(r.exists()){const e=r.data().request||[];console.log("DATA \xc9    ",t),console.log("currentRequests \xc9    ",e),e.push(...t),console.log("form   ",e),await(0,as.updateDoc)(n,{request:e})}else await(0,as.setDoc)(n,{request:[t]});I(),localStorage.removeItem("backorder")}catch(n){console.log(n)}},N=e=>{if(r&&r.request.length>0){const t=e.request.map((e=>e.finalPrice)).reduce(((e,t)=>e+t),0);m(t)}},P=async t=>{await async function(e,t){const n=(0,as.getFirestore)(is),r=(0,as.doc)(n,"user",e);try{const e=await(0,as.getDoc)(r);if(e.exists()){const n=e.data();if(console.log("Dados do usu\xe1rio:",n),n.request&&Array.isArray(n.request)){const e=n.request.filter(((e,n)=>n!=t));await(0,as.updateDoc)(r,{request:e})}console.log("Item removed successfully.")}else console.log("User not found.")}catch(i){console.log("Error removing item: ",i)}}(e,t),await I()},D=t.useRef(!1),O=async e=>{if(!D.current){if(D.current=!0,localStorage.hasOwnProperty("userMenu")){const t=JSON.parse(localStorage.getItem("userMenu"));if(g&&!0===g)return L(t.id),x(!0),setTimeout((()=>{x(!1),k("/")}),5e3),void(D.current=!1);if(y){x(!0);const n=await fs("user",t.id);if(console.log("Atual cliente   ",n),n){if(E)return;C(!0),e.target.onclick=null,M(n)}}b(!0)}setTimeout((()=>{C(!1),D.current=!1}),2e3)}},A=()=>{const e=new Date;return"".concat(String(e.getDate()).padStart(2,"0"),"/").concat(String(e.getMonth()+1).padStart(2,"0"),"/").concat(e.getFullYear()," - ").concat(String(e.getHours()).padStart(2,"0"),":").concat(String(e.getMinutes()).padStart(2,"0"))},R=e=>e&&"object"===typeof e&&!Array.isArray(e)?Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return void 0!==n&&null!==n})).map((e=>{let[t,n]=e;return[t,R(n)]}))):e,M=async e=>{try{const t={name:"anonimo"===e.name?e.fantasyName:e.name,idUser:e.id,done:!0,orderDelivered:!1,request:e.request,finalPriceRequest:p,dateTime:A(),countRequest:await F()};if(C(!0),t){const e=R(t);(0,as.addDoc)((0,as.collection)(a,"request"),e);const n=(0,as.doc)(a,"user",e.idUser);await(0,as.updateDoc)(n,{request:[]})}x(!1),k("/orderqueue")}catch(t){console.error("Erro ao adicionar pedido:",t)}},L=async e=>{if(e){const t=await fs("user",e),n=localStorage.getItem("backorder"),r=n?JSON.parse(n):[],i={name:"anonimo"===t.name?t.fantasyName:t.name,idUser:t.id,done:!0,orderDelivered:!1,request:r,finalPriceRequest:p,dateTime:A(),countRequest:await F()};if(localStorage.removeItem("backorder"),i){const t=R(i);(0,as.addDoc)((0,as.collection)(a,"request"),t);const n=(0,as.doc)(a,"user",e);await(0,as.updateDoc)(n,{request:[]})}}},F=async()=>{const e=(await hs("request")).filter((e=>void 0!==e.countRequest)).map((e=>e.countRequest));return(e.length>0?Math.max(...e):0)+1};return(0,ys.jsxs)("section",{className:"container-modal-request",children:[_&&(0,ys.jsx)(Ul,{setOpenCloseTotenPopup:S,setCurrentUser:n,sendRequestToKitchen:O,isSubmitting:E}),w&&(0,ys.jsx)(Ll,{msg:"Acompanhe o seu pedido na Fila de pedidos que est\xe1 na TV acima"}),(0,ys.jsx)("div",{className:"container-modalDihses-InCarrolse",children:u&&(0,ys.jsx)(El,{item:c,setModal:d})}),y&&(0,ys.jsx)(Dl,{message:"Agora voc\xea pode ir ao caixa ",customer:null===r||void 0===r?void 0:r.name,finalPriceRequest:p,sendRequestToKitchen:O,setWarningMsg:b,requests:r.request,isSubmitting:E}),(0,ys.jsxs)("p",{className:"current-client",children:[(0,ys.jsx)("span",{children:"Cliente: "}),"anonimo"===(null===r||void 0===r?void 0:r.name)?null===r||void 0===r?void 0:r.fantasyName:null===r||void 0===r?void 0:r.name]}),(0,ys.jsx)("h3",{children:"Esses s\xe3o os seus pedidos at\xe9 o momento"}),r&&Array.isArray(r.request)&&r.request.length>0?r.request.map(((t,n)=>(0,ys.jsxs)("div",{className:"individual-dishes my-3",children:[(0,ys.jsx)("h2",{onClick:()=>(e=>{e&&(l(e),d(!0))})(t),className:"my-0",children:t.name}),(0,ys.jsxs)("p",{className:"dishes-price",children:["R$ ",t.finalPrice,",00"]}),(0,ys.jsx)("p",{className:"status-request-pend",children:"pendente"}),(0,ys.jsx)("p",{className:"cancel",onClick:()=>P(n),children:"Cancelar"}),(0,ys.jsx)("button",{onClick:()=>(async t=>{const n=[...r.request],i={...n[t]};n.splice(t+1,0,i);try{const t=(0,as.doc)(a,"user",e);await(0,as.updateDoc)(t,{request:n}),console.log("Array atualizado com sucesso no Firestore!"),I()}catch(s){console.error("Erro ao atualizar o array no Firestore:",s)}})(n),children:"+"})]},n))):(0,ys.jsx)("p",{className:"no-request",children:"N\xe3o h\xe1 pedidos por enquanto"}),(0,ys.jsx)("div",{className:"btnFinalRequest",children:(0,ys.jsx)(bl,{className:"keep-shopping",to:"/",children:"Continue Comprando"})}),(0,ys.jsx)("div",{className:"btnFinalRequest",children:(0,ys.jsx)("button",{disabled:E,className:"send-request",onClick:async()=>{if(g&&"anonymous"===r.name){if(r.request){localStorage.setItem("backorder",JSON.stringify(r.request));try{const e=(0,as.query)((0,as.collection)(a,"user"),(0,as.where)("name","==","anonymous")),t=await(0,as.getDocs)(e);if(t.empty)console.warn("Usu\xe1rio anonymous n\xe3o encontrado no Firestore.");else{const e=t.docs[0],n=(0,as.doc)(a,"user",e.id);await(0,as.updateDoc)(n,{request:[]});const r=await(0,as.getDoc)(n);console.log("Dados atualizados:",r.data())}}catch(e){console.error("Erro ao buscar ou atualizar usu\xe1rio anonymous:",e)}}S(!0)}else O()},children:"Finalizar"})})]})},Kl="mainMenu_containerBtn__0kzg5",Gl="mainMenu_headerToten__Xw0R8",Ql="mainMenu_toten__sgKnl",$l="mainMenu_footer__ZvJvF",Yl=t.memo((e=>{let{navigate:t}=e;return console.log("\ud83c\udfaf PedidoButton renderizado!"),(0,ys.jsx)("button",{onClick:()=>{console.log("\u2705 Bot\xe3o clicado"),t()},children:"Seus Pedidos"})})),Xl=e=>{let{logoutCustomer:n,nameClient:r}=e;const i=t.useContext(ws),s=Y();t.useEffect((()=>{console.log("\ud83c\udf0d Estado global atualizado:",i)}),[i]);const o=t.useCallback((()=>{console.log("\ud83d\ude80 Navega\xe7\xe3o acionada!"),s("/request")}),[s]);return(0,ys.jsx)("div",{className:"".concat(Kl," ").concat(i.isToten?Ql:""),children:(0,ys.jsxs)("section",{className:i.isToten?Gl:"",children:[!i.isToten&&(0,ys.jsx)("div",{children:(0,ys.jsxs)("p",{onClick:n,children:["Bem vindo ",r&&(0,ys.jsx)("span",{children:r})]})}),(0,ys.jsx)(Yl,{navigate:o}),!i.isToten&&(0,ys.jsx)("button",{children:(0,ys.jsx)(bl,{to:"/orderqueue",children:"Fila de pedidos"})}),i.isToten&&(0,ys.jsx)(bl,{to:"/admin/admin"})]})})};const Jl=function(){const[e,n]=t.useState([]),[r,i]=t.useState([]),[s,o]=t.useState(""),a=t.useRef(null),c=t.useContext(ws),[l,u]=t.useState(!1),d=Y();async function h(){const e=await Cs("userMenu",c.isToten);console.log("UserId \xe9 ",e),d(e)}Hl(),(0,as.getFirestore)(is),t.useEffect((()=>{localStorage.getItem("toten")&&!0===c.isToten?(c.setIsToten(!0),h()):(c.setIsToten(!1),c.authorizated||h())}),[]),t.useEffect((()=>{c.isToten||c.authorizated||h();(async()=>{try{const[e,t]=await Promise.all([hs("button"),hs("item")]);n(e),i(t),function(){if(localStorage.hasOwnProperty("userMenu")){const e=JSON.parse(localStorage.getItem("userMenu"));"anonimo"===e.name&&p(e.id);let t=e.name.split(" ")[0];t=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),o(t)}}()}catch(e){console.error("Erro fetching data",e)}})()}),[c.authorizated]),t.useEffect((()=>{null!==c.isToten&&(c.authorizated||h())}),[c.isToten]);const f=async()=>{if(c.isToten){if(l){const e=await Bl();return void localStorage.setItem("userMenu",JSON.stringify({id:e.id,name:e.name}))}u(!0)}else localStorage.removeItem("userMenu"),c.setAuthorizated(!1),d("create-customer")},p=e=>{setTimeout((async()=>{try{const t=await fs("user",e);null!==t&&void 0!==t&&t.request&&0!==(null===t||void 0===t?void 0:t.request.length)||(await ds("user",e),localStorage.removeItem("userMenu"),c.setAuthorizated(!1),h())}catch(t){console.error("Erro ao buscar e deletar dados",t)}}),12e5)};return(0,ys.jsxs)(ys.Fragment,{children:[(0,ys.jsx)("div",{className:"WarningMessage-container",children:l&&(0,ys.jsx)(Dl,{message:"Voc\xea est\xe1 prestes a sair do sistema",setWarningMsg:u,sendRequestToKitchen:f})}),(0,ys.jsxs)("div",{ref:a,style:{height:"80vh",overflowY:"auto"},children:[(0,ys.jsx)(al,{}),(0,ys.jsxs)("div",{className:Kl,children:[(0,ys.jsx)(Xl,{logoutCustomer:f,nameClient:s}),e&&r&&e.map(((t,n)=>(0,ys.jsx)("div",{children:(0,ys.jsx)(ul,{containerRef:a,parent:"main",item:t,menuButton:e,dishes:r})},n)))]})]}),(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)("div",{className:$l})})]})},Zl={containerMobileImageMenu:"MainPictureMobileMenu_containerMobileImageMenu__YCVYl",submenu:"MainPictureMobileMenu_submenu__gjejw",categories:"MainPictureMobileMenu_categories__4r94F",categoryItem:"MainPictureMobileMenu_categoryItem__suPCE",dishes:"MainPictureMobileMenu_dishes__CrUXJ",mainTitle:"MainPictureMobileMenu_mainTitle__P0knZ",subContainer:"MainPictureMobileMenu_subContainer__RFrUT",itemContainer:"MainPictureMobileMenu_itemContainer__hGQ-R",text:"MainPictureMobileMenu_text__-dIR2",image:"MainPictureMobileMenu_image__zJxox",footer:"MainPictureMobileMenu_footer__6kHgc"},eu=()=>{const[e,n]=t.useState(!0),[r,i]=t.useState([]),[s,o]=t.useState([]),[a,c]=t.useState([]),[l,u]=t.useState(""),[d,h]=t.useState({}),[f,p]=t.useState(!1),[m,g]=t.useState(!1),[v,y]=t.useState(""),b=t.useContext(ws);Hl();const w=Y();t.useEffect((()=>{b.isToten&&w("/");(async()=>{try{const[e,t]=await Promise.all([hs("button"),hs("item")]),r={category:"main",parent:"bestSellers",title:"OS MAIS VENDIDOS ",image:"https://firebasestorage.googleapis.com/v0/b/react-bar-67f33.appspot.com/o/frontImage%2FWhatsApp%20Image%202024-07-26%20at%2011.19.36.png?alt=media&token=f129a337-ee65-4402-90b2-8ce8a5fb593f"};if(function(){if(localStorage.hasOwnProperty("userMenu")){let e=JSON.parse(localStorage.getItem("userMenu")).name.split(" ")[0];e=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),y(e)}}(),Array.isArray(e)&&e.length>0){e.unshift(r);const t=e.filter((e=>"hide"!==e.parent));o(t)}i(t),n(!1)}catch(e){console.error("Erro fetching data",e)}})()}),[]),t.useEffect((()=>{r.length>0&&x("bestSellers","OS MAIS VENDIDOS")}),[r]);const x=(e,t)=>{if(console.log("Essa \xe9 a minha categoria   ",e),r&&r.length>0)if("bestSellers"!==e){const n=r.filter((t=>t.category===e));c(n),u(t)}else{const e=r.filter((e=>!0===e.carrossel));c(e),u(t)}},_=async()=>{if(b.isToten){if(m){const e=await Bl();return void localStorage.setItem("userMenu",JSON.stringify({id:e.id,name:e.name}))}g(!0)}else localStorage.removeItem("userMenu"),b.setAuthorizated(!1),w("create-customer")};return(0,ys.jsxs)("div",{className:Zl.containerMobileImageMenu,children:[!e&&(0,ys.jsxs)("div",{className:"".concat(Zl.containerPictureMenu," ").concat(e?"":Zl.loaded),children:[(0,ys.jsx)("div",{className:"WarningMessage-container",children:m&&(0,ys.jsx)(Dl,{message:"Voc\xea est\xe1 prestes a sair do sistema",setWarningMsg:g,sendRequestToKitchen:_})}),(0,ys.jsx)(Xl,{logoutCustomer:_,nameClient:v}),(0,ys.jsx)("div",{className:Zl.containerDishes,children:f&&(0,ys.jsx)(Ts,{item:d,setModal:p})}),(0,ys.jsxs)("div",{className:Zl.submenu,children:[(0,ys.jsx)("nav",{className:Zl.categories,children:s&&s.length>0&&s.map(((e,t)=>(0,ys.jsxs)("div",{className:Zl.categoryItem,onClick:()=>x(e.parent,e.title),children:[(0,ys.jsx)("h3",{children:e.title}),(0,ys.jsx)("img",{src:e.image?e.image:"https://i.pinimg.com/736x/fe/23/38/fe2338260fb041d8d94999fe48cb218f.jpg",alt:""})]},t)))}),(0,ys.jsxs)("section",{className:Zl.dishes,children:[(0,ys.jsx)("h3",{className:Zl.mainTitle,children:l}),(0,ys.jsx)("div",{className:Zl.subContainer,children:a&&a.length>0&&a.map(((e,t)=>(0,ys.jsxs)("div",{className:Zl.itemContainer,style:{animationDelay:"".concat(.1*t,"s")},children:[(0,ys.jsxs)("div",{className:Zl.text,children:[(0,ys.jsx)("h3",{children:e.title}),(0,ys.jsx)("p",{children:e.comment}),(0,ys.jsx)("button",{onClick:()=>(e=>{h(e),p(!0)})(e),children:"Fa\xe7a o seu pedido"})]}),(0,ys.jsx)("div",{className:Zl.image,children:(0,ys.jsx)("img",{src:e.image,alt:""})})]},e.id||t)))})]})]})]}),(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)("div",{className:Zl.footer})})]})},tu=e=>{let{mainTitle:t}=e;return(0,ys.jsx)("div",{className:"containerTitle",children:(0,ys.jsx)("h3",{children:t})})},nu="AddButtonForm_formButtonSubmit__TBv7k",ru="AddButtonForm_uploadImage__BxjjO",iu="AddButtonForm_containerAddButtonForm__2idqw",su="AddButtonForm_hiddenInput__9kSLe";const ou=function(e){let{dataObj:n,EditButtonTitle:r,setModalEditButton:i}=e;const s=Y(),[o,a]=t.useState({title:"",category:"",parent:"",display:"true",image:""}),[c,l]=t.useState([]),[u,d]=t.useState(""),[h,f]=t.useState(0),p=(0,as.getFirestore)(is);function m(e){let{target:t}=e;const{id:n,value:r}=t;a({...o,[n]:r,[n]:r,[n]:r,[n]:r})}function g(e){return e.split(" ").map((e=>{return(t=e,t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")).toLowerCase();var t})).join("")}return t.useEffect((()=>{(async()=>{const e=await ms("item");e.unshift("Selecione uma Categoria","main"),l(e)})()}),[]),t.useEffect((()=>{ms("item")}),[n]),t.useEffect((()=>{n&&a(n)}),[n]),t.useEffect((()=>{a((e=>({...e,parent:g(e.title)})))}),[o.title]),(0,ys.jsxs)("div",{className:iu,children:[(0,ys.jsx)("div",{className:"close-btn",children:i?(0,ys.jsx)("button",{onClick:()=>i(!1),children:"X"}):(0,ys.jsx)(bl,{to:"/admin/admin",children:"X"})}),(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:r||"Adicione um novo bot\xe3o"})}),(0,ys.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n?(0,as.setDoc)((0,as.doc)(p,"button",n.id),o).then((()=>{console.log("Document successfully updated !"),s("/")})).catch((e=>{console.log(e)})):(0,as.addDoc)((0,as.collection)(p,"button"),o).then((e=>{a({title:"",category:"",parent:g(""),display:"true"}),s("/"),console.log("FORM   ",o)})).catch((e=>{console.log(e)}))},className:"m-1",children:[(0,ys.jsx)(Il,{id:"title",required:!0,label:"T\xedtulo",value:o.title,type:"text",onChange:m}),(0,ys.jsxs)("div",{className:"my-3",children:[(0,ys.jsx)("label",{className:"form-label",children:"Categoria"}),(0,ys.jsxs)("select",{id:"category",className:"form-select",value:o.category,required:!0,onChange:m,children:[(0,ys.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Selecione uma categoria"}),c&&c.map(((e,t)=>(0,ys.jsx)("option",{value:e,children:e},t)))]})]}),(0,ys.jsxs)("div",{className:su,children:[(0,ys.jsx)(Il,{id:"parent",value:o.parent,type:"hidden"}),(0,ys.jsx)(Il,{id:"display",value:o.display,type:"hidden"})]}),(0,ys.jsx)(Il,{id:"image",label:"Image",value:o.image,type:"text",onChange:m}),(0,ys.jsxs)("div",{className:ru,children:[(0,ys.jsx)("input",{type:"file",onChange:async e=>{const t=e.target.files[0];if(t){const e="button/".concat(t.name),n=es(ns(os,e),t);n.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;f(t)}),(e=>{console.error(e)}),(async()=>{const e=await ts(n.snapshot.ref);d(e),o.image=e}))}}}),(0,ys.jsx)("progress",{value:h,max:"100"}),u&&(0,ys.jsx)("img",{className:"image-preview",src:u,alt:"Uploaded file"})]}),(0,ys.jsx)("div",{className:nu,children:(0,ys.jsx)("button",{className:"btn btn-primary",children:"Enviar"})})]})]})},au="PriceAndExpenseBuilder_container__Y0YRa",cu="PriceAndExpenseBuilder_allInputsContainer__SzyN2",lu="PriceAndExpenseBuilder_inputContainer__uX9hi",uu="PriceAndExpenseBuilder_buttonCostContainer__VSYcB",du="PriceAndExpenseBuilder_btnContainer__3E+S4",hu=e=>{let{setShowPopupCostAndPrice:n,addPriceObj:r,formPrice:i,labelPrice:s,handleFatherChange:o,handleFatherBlur:a,objPriceCost:c,costProfitMarginCustomized:l,recipe:u,id:d}=e;const[h,f]=t.useState({price:0,cost:0,percentage:0}),p=e=>{const{id:t,value:n}=e.target;f((e=>({...e,[t]:n}))),o&&o({target:{id:t,value:n}},s)};t.useEffect((()=>{if(i&&s){const e=i[s];e&&void 0!==e.price&&f({price:e.price,cost:e.cost,percentage:e.percentage,label:e.label})}}),[i,s]),t.useEffect((()=>{c&&f({price:c.price,cost:c.cost,percentage:c.percentage})}),[c]),t.useEffect((()=>{void 0===s&&(document.querySelector(".".concat(cu)).style.cssText="\n        background: #dad4d4;\n        max-width: 700px;\n        box-shadow: 6px 5px #8888889c;\n        position: fixed;\n        top: 31%;\n        left: 35%;\n        width: 86%;\n        padding: 1%;\n        border: solid 1px black;\n      "),console.log("OBJETO DE RECEITA     ",u)}),[]);const m=e=>{const{id:t,value:n}=e.target,r=parseFloat(i?i.cost:h.cost)||0,s=parseFloat(i?i.percentage:h.percentage)||0,o=parseFloat(i?i.price:h.price)||0;if("percentage"===t&&r>0){const e=r+r*s/100;f((t=>({...t,price:e.toFixed(2)})))}if("price"===t&&r>0){const e=(o-r)/r*100;f((t=>({...t,percentage:e.toFixed(2)})))}if(("cost"===t||"price"===t)&&o>0&&r>0){const e=(o-r)/r*100;f((t=>({...t,percentage:e.toFixed(2)})))}};return(0,ys.jsx)("div",{className:au,children:(0,ys.jsxs)("div",{className:cu,children:[n&&(0,ys.jsx)(Fl,{setClose:n}),(0,ys.jsxs)("div",{className:lu,children:[(0,ys.jsx)(Il,{id:"price",label:"Pre\xe7o",value:h.price,type:"number",onChange:o?e=>o(e,s):p,onBlur:a?e=>a(e,s):m}),(0,ys.jsx)(Il,{id:"cost",label:"Custo",value:h.cost,type:"number",onChange:o?e=>o(e,s):p,onBlur:a?e=>a(e,s):m}),(0,ys.jsx)(Il,{id:"percentage",label:"Porcentagem",value:h.percentage,type:"number",onChange:o?e=>o(e,s):p,onBlur:a?e=>a(e,s):m})]}),(0,ys.jsxs)("div",{className:uu,children:[(0,ys.jsx)("div",{className:du,children:(0,ys.jsx)("button",{onClick:async()=>{try{if(!u||"object"===typeof u&&0===Object.keys(u).length)return void alert("Esse produto n\xe3o tem receita criada, por isso \xe9 imposs\xedvel calcular o custo. ");if(console.log("costProfitMarginCustomized",l),"object"===typeof u.finalingridientsList&&!Array.isArray(u.finalingridientsList)){const e=Object.values(u.finalingridientsList);if(e.every((e=>Array.isArray(e)&&0===e.length)))return void alert("Esse produto n\xe3o tem receita criada, por isso \xe9 imposs\xedvel calcular o custo. Atualize a receita para que o custo possa ser preenchido corretamente pelo sistema.")}const e=await async function(e){const t={},n=async e=>{let t=0;const n=[];console.log("Ingredient List:",e);for(const r of e){const e=await ls(r.name);if(e&&e.totalVolume&&e.totalCost){const n=e.totalCost/e.totalVolume;t+=parseFloat(r.amount.replace(",","."))*n}else n.push(r.name),console.warn("Stock not found or invalid for ingredient: ".concat(r.name)),n.length>0&&alert("O valor do custo n\xe3o est\xe1 correto porque os seguintes ingredientes n\xe3o t\xeam valores v\xe1lidos: ".concat(n.join(", "),". O c\xe1lculo foi feito apenas com os ingredientes v\xe1lidos."))}return t=Math.round(100*(t+Number.EPSILON))/100,Number(t.toFixed(2))};if(Array.isArray(null===e||void 0===e?void 0:e.FinalingridientsList))return{default:await n(null===e||void 0===e?void 0:e.FinalingridientsList)};if("object"===typeof(null===e||void 0===e?void 0:e.FinalingridientsList)&&null!==(null===e||void 0===e?void 0:e.FinalingridientsList)){const r=e.FinalingridientsList;for(const[e,i]of Object.entries(r)){const r=await n(i);t[e]=Number(r.toFixed(2))}return t}return null}(u);if(console.log("Custo calculado:",e),void 0!==e.default)await vs("item",d,{"costPriceObj.cost":e.default}),console.log("Custo padr\xe3o atualizado com sucesso no Firestore!");else if(l&&"object"===typeof l){const t={},n=e;["firstPrice","secondPrice","thirdPrice"].forEach((e=>{const r=l[e];r&&r.label&&n[r.label]&&(t["costProfitMarginCustomized.".concat(e,".cost")]=n[r.label])})),console.log("Updates to be made:",t),Object.keys(t).length>0?(await vs("item",d,t),console.log("Custos por tamanho atualizados com sucesso no Firestore!")):console.warn("Nenhum campo para atualizar foi encontrado.")}else console.warn("formPrice est\xe1 ausente ou malformado.")}catch(e){console.error("Erro ao calcular ou atualizar o custo no Firestore:",e)}},children:"Calcular Custo"})}),r&&(0,ys.jsx)("div",{className:du,children:(0,ys.jsx)("button",{onClick:()=>{r(h)},children:"Enviar"})})]})]})})},fu="AddSideDishesForm_EditAddPopupContainer__gAvL9",pu="AddSideDishesForm_outform__XQZ-M",mu="AddSideDishesForm_formLabel__YhiLn";const gu=function(e){let{dataObj:n,EditSideDishesTitle:r,setModalEditSideDishes:i}=e;const s=Y(),[o,a]=t.useState({price:0,portionUsed:"",sideDishes:"",costPriceObj:{}}),[c,l]=t.useState(!1),[u,d]=t.useState(!0),[h,f]=t.useState(!1),[p,m]=t.useState(null),g=(0,as.getFirestore)(is);function v(e){let{target:t}=e;const{id:n,value:r}=t;a({...o,[n]:r})}return t.useEffect((()=>{n&&d(!1);(async()=>{const e=await hs("stock");if(e&&e.length>0){const t=e.sort(((e,t)=>e.product.localeCompare(t.product)));m(t)}})()}),[]),t.useEffect((()=>{console.log("Form atualizado    ",o)}),[o]),t.useEffect((()=>{n&&a(n)}),[n]),(0,ys.jsxs)("div",{className:fu,children:[h&&(0,ys.jsx)(hu,{setShowPopupCostAndPrice:f,addPriceObj:e=>{e.profit=e.price-e.cost,a((t=>({...t,costPriceObj:e,price:e.price}))),f(!1)},objPriceCost:o.costPriceObj}),(0,ys.jsx)("div",{className:"close-btn",children:(0,ys.jsx)(bl,{to:"/admin/admin",children:"X"})}),(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:r||"Adicione um novo Acompanhamento"})}),(0,ys.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n?(0,as.setDoc)((0,as.doc)(g,"sideDishes",n.id),o).then((()=>{console.log("Document successfully updated !"),i(!1)})).catch((e=>{console.log(e)})):o.price&&o.sideDishes&&(0,as.addDoc)((0,as.collection)(g,"sideDishes"),o).then((e=>{c?a({price:0,sideDishes:""}):s("/admin/editButton/sidedishes")})).catch((e=>{console.log(e)}))},className:"m-1",children:[(0,ys.jsxs)("select",{id:"sideDishes",value:o.sideDishes,onChange:v,required:!0,children:[(0,ys.jsx)("option",{value:"",children:"Selecione o acompanhamento"}),p&&p.map(((e,t)=>(0,ys.jsx)("option",{value:e.product,children:e.product},t)))]}),(0,ys.jsx)("input",{id:"portionUsed",required:!0,placeholder:"Volume da por\xe7ao",value:o.portionUsed,type:"text",onChange:v}),(0,ys.jsxs)("button",{className:"btn btn-success",type:"button",onClick:()=>f(!0),children:["Pre\xe7o R$ ",o.price,",00"]}),(0,ys.jsx)("div",{className:"sidedishes-btn-container ",children:(0,ys.jsx)("button",{className:"btn btn-primary",children:"Enviar"})})]})," ",(0,ys.jsxs)("div",{className:pu,children:[(0,ys.jsx)("button",{type:"button",className:"btn btn-primary",onClick:gs,children:"Atualizar pratos"}),u&&(0,ys.jsxs)("div",{className:"form-check my-1",children:[(0,ys.jsx)("input",{className:"form-check-input",id:"carrossel",type:"checkbox",checked:c,onChange:function(){l(!c)}}),(0,ys.jsx)("label",{className:mu,children:"Mantenha clicado se n\xe3o quiser mudar de tela"})]})]})]})},vu="includeSideDishesForm_includeSideDishesContainer__GlciH",yu="includeSideDishesForm_formButtonSubmit__82J-7";const bu=function(e){let{setShowPopupSideDisehs:n,setNewSideDishesList:r,newSideDishesList:i,setMaxLimitSideDishes:s,maxLimitSideDishes:o}=e;const[a,c]=t.useState({sideDishesElement:""}),[l,u]=t.useState([]),[d,h]=t.useState([]);t.useEffect((()=>{f()}),[]),t.useEffect((()=>{i.length>0&&u(i),o&&s(Number(o))}),[]);const f=async()=>{const e=await hs("sideDishes");h(e)};return(0,ys.jsxs)("div",{className:vu,children:[(0,ys.jsx)("div",{className:"close-btn",children:(0,ys.jsx)("button",{onClick:()=>n(!1),children:"X"})}),(0,ys.jsx)(tu,{mainTitle:"Foruml\xe1rio de acompanhamentos"}),d&&(0,ys.jsxs)("div",{className:"my-3",children:[(0,ys.jsx)("label",{children:"Selecione os acompanhamentos do prato"}),(0,ys.jsxs)("select",{id:"sideDishesElement",value:a.sideDishesElement,className:"form-select",onChange:e=>{(e=>{const t=e.target.value,n=d.find((e=>e.id===t));n&&!l.some((e=>e.id===t))&&u([...l,n])})(e),c({...a,sideDishesElement:e.target.value})},children:[(0,ys.jsx)("option",{value:"",children:"Selecione "}),d.map(((e,t)=>(0,ys.jsxs)("option",{value:e.id,children:[" ",e.sideDishes]},t)))]})]}),(0,ys.jsx)("div",{className:"selected-dishes",children:l.map((e=>(0,ys.jsxs)("div",{className:"selected-item",children:[(0,ys.jsx)("p",{children:e.sideDishes}),(0,ys.jsx)("button",{onClick:()=>{return t=e.id,void u(l.filter((e=>e.id!==t)));var t},children:"x"})]},e.id)))}),(0,ys.jsx)(Il,{id:"limitSideDishes",label:"Quantidade m\xe1xima de acompanhamentos",value:o,type:"number",onChange:e=>{let{target:t}=e;const{value:n}=t;s(n<0?Math.abs(n):n)}}),(0,ys.jsx)("div",{className:yu,children:(0,ys.jsx)("button",{onClick:()=>{n(!1),r(l)},children:"Adicionar "})})]})},wu="AddDishesForm_sidedishesRecipeBtnContainer__o+AUA",xu="AddDishesForm_boxPrice__NpN4k",_u="AddDishesForm_uploadImage__jQye9",Su="AddDishesForm_containerAddDishesForm__nBV+w",Eu="AddDishesForm_recipeModalContainer__KP3-A",Cu="AddDishesForm_hiddenInput__6ePpu",ku="AddDishesForm_checkInput__phthm",Tu="AddDishesForm_containerNewSideDishes__X6NAd",Iu="AddDishesForm_formButtonSubmit__5KdIB",ju="customizePriceForm_containerCustomePrice__QlT1v",Nu="customizePriceForm_formButtonSubmit__moO4O";const Pu=function(e){let{setShowPopupCustomizePrice:n,onPriceChange:r,customizedPriceObj:i}=e;const[s,o]=t.useState({firstPrice:{price:0,cost:0,percentage:0,label:""},secondPrice:{price:0,cost:0,percentage:0,label:""},thirdPrice:{price:0,cost:0,percentage:0,label:""}}),[a,c]=t.useState(""),[l,u]=t.useState(!0);t.useEffect((()=>{i&&(console.log("customizedPriceObj     ",i),i&&Object.keys(i).length>0&&i.firstPrice.price&&o(i))}),[i]),t.useEffect((()=>{console.log("FORM ATUALIZADO NO USEEFFCTS    ",s)}),[s]);const d=(e,t)=>{const{id:n,value:r}=e.target;o((e=>({...e,[t]:{...e[t],[n]:r}})))};t.useEffect((()=>{var e,t,n,r,s,a,c,l,u,d,h,f;i&&Object.keys(i).length>0&&o({firstPrice:{price:(null===(e=i.firstPrice)||void 0===e?void 0:e.price)||0,cost:(null===(t=i.firstPrice)||void 0===t?void 0:t.cost)||0,percentage:(null===(n=i.firstPrice)||void 0===n?void 0:n.percentage)||0,label:(null===(r=i.firstPrice)||void 0===r?void 0:r.label)||""},secondPrice:{price:(null===(s=i.secondPrice)||void 0===s?void 0:s.price)||0,cost:(null===(a=i.secondPrice)||void 0===a?void 0:a.cost)||0,percentage:(null===(c=i.secondPrice)||void 0===c?void 0:c.percentage)||0,label:(null===(l=i.secondPrice)||void 0===l?void 0:l.label)||""},thirdPrice:{price:(null===(u=i.thirdPrice)||void 0===u?void 0:u.price)||0,cost:(null===(d=i.thirdPrice)||void 0===d?void 0:d.cost)||0,percentage:(null===(h=i.thirdPrice)||void 0===h?void 0:h.percentage)||0,label:(null===(f=i.thirdPrice)||void 0===f?void 0:f.label)||""}})}),[i]);const h=(e,t)=>{const{id:n,value:r}=e.target,i=parseFloat(s[t].cost)||0,a=parseFloat(s[t].percentage)||0,c=parseFloat(s[t].price)||0;if("percentage"===n&&i>0){const e=i+i*a/100;o((n=>({...n,[t]:{...n[t],price:e.toFixed(2)}})))}if("price"===n&&i>0){const e=(c-i)/i*100;o((n=>({...n,[t]:{...n[t],percentage:e.toFixed(2)}})))}if(("cost"===n||"price"===n)&&c>0&&i>0){const e=(c-i)/i*100;o((n=>({...n,[t]:{...n[t],percentage:e.toFixed(2)}})))}};return(0,ys.jsxs)("div",{className:ju,children:[(0,ys.jsx)("div",{className:"close-btn",children:(0,ys.jsx)("button",{onClick:()=>{n(!1)},children:"X"})}),(0,ys.jsx)(tu,{"Pre\xe7o":!0,mainTitle:"Pre\xe7o Customizado"}),(0,ys.jsxs)("div",{className:"wrapperInputs",children:[(0,ys.jsx)(hu,{formPrice:s,labelPrice:"firstPrice",handleFatherChange:d,handleFatherBlur:h}),(0,ys.jsx)(Il,{id:"label",label:"Descri\xe7\xe3o do primeiro pre\xe7o",value:s.firstPrice.label,type:"text",onChange:e=>d(e,"firstPrice")})]}),(0,ys.jsxs)("div",{className:"wrapperInputs",children:[l&&(0,ys.jsx)(hu,{formPrice:s,labelPrice:"secondPrice",handleFatherChange:d,handleFatherBlur:h}),(0,ys.jsx)(Il,{id:"label",value:s.secondPrice.label,label:"Descri\xe7\xe3o do segundo pre\xe7o",type:"text",onChange:e=>d(e,"secondPrice")})]}),(0,ys.jsxs)("div",{className:"wrapperInputs",children:[l&&(0,ys.jsx)(hu,{formPrice:s,labelPrice:"thirdPrice",handleFatherChange:d,handleFatherBlur:h}),(0,ys.jsx)(Il,{id:"label",value:s.thirdPrice.label,label:"Descri\xe7\xe3o do terceiro pre\xe7o",type:"text",onChange:e=>d(e,"thirdPrice")})]}),(0,ys.jsx)("div",{className:Nu,children:(0,ys.jsx)("button",{className:"customizedPriceBtn",type:"button",onClick:()=>r(s),children:"Enviar"})})]})},Du="recipeDish_recipeDisContainer__rDPIE",Ou="recipeDish_ingridients__s1SaK",Au="recipeDish_selectInput__+6hq4",Ru="recipeDish_numberInput__ZMzX5",Mu="recipeDish_itemsRecipe__r1piI",Lu="recipeDish_textAreaContainer__yM9uG",Fu="recipeDish_textArea__ig+Uz",Uu="recipeDish_formButtonSubmit__aESqL",zu=e=>{let{setRecipeModal:n,setRecipe:r,recipe:i,customizedPriceObj:s,costByRecipe:o,costProfitMarginCustomized:a}=e;const[c,l]=t.useState({name:"",amount:"",unitOfMeasurement:""}),[u,d]=t.useState([]),[h,f]=t.useState(""),[p,m]=t.useState(null),[g,v]=t.useState([]),[y,b]=t.useState({}),w=t.useRef();t.useEffect((()=>{i&&(i.Explanation||i.FinalingridientsList||(i.Explanation="",i.FinalingridientsList=[]),E(i),d(i.FinalingridientsList),f(i.Explanation))}),[i]),t.useEffect((()=>{(async()=>{const e=(await hs("stock")).sort(((e,t)=>e.product.localeCompare(t.product))).filter((e=>!1===e.operationSupplies&&(void 0===e.activityStatus||!1===e.activityStatus)));m(e)})(),d([])}),[]),t.useEffect((()=>{S(y),y&&console.log("ingredientsBySize    ",y),g&&console.log("ingredientsSimple    ",g)}),[y,g]);const x=e=>""===e.firstLabel||void 0===e.firstLabel,_=e=>{if(p&&p.length>0&&e){const t=p.find((t=>t.product===e));if(t){const{product:e,totalVolume:n,minimumAmount:r,totalCost:i}=t;return{product:e,totalVolume:n,minimumAmount:r,totalCost:i}}}return null},S=(e,t)=>{if(t){const n=e[t];if(!Array.isArray(n))return 0;const r=n.reduce(((e,t)=>e+(parseFloat(t.portionCost)||0)),0);return["firstPrice","secondPrice","thirdPrice"].forEach((e=>{a[e].label===t&&(a[e].cost=Number(r.toFixed(2)))})),Number(r.toFixed(2))}if(!Array.isArray(e))return 0;const n=e.reduce(((e,t)=>e+(parseFloat(t.portionCost)||0)),0);return o.cost=Number(n.toFixed(2)),Number(n.toFixed(2))},E=e=>{Array.isArray(e.FinalingridientsList)?v(e.FinalingridientsList):b(e.FinalingridientsList)},C=()=>[s.firstLabel,s.secondLabel,s.thirdLabel],k=e=>{const{id:t,value:n}=e.target;if("name"===t){const e=p[n];console.log("selectedProduct",e);const t=e&&e.totalVolume>0?e.totalCost/e.totalVolume:0;l((n=>({...n,name:e?e.product:"",unitOfMeasurement:e?e.unitOfMeasurement:"",costPerUnit:t,portionCost:n.amount?parseFloat(n.amount)*t:0})))}else if(l({...c,[t]:n}),"amount"===t){const e=c.costPerUnit||0,t=parseFloat(n)*e;l((e=>({...e,portionCost:t})))}},T=e=>{x(s)?v((e=>[...e,c])):b((t=>({...t,[e]:[...t[e]||[],c]}))),l({name:"",amount:"",unitOfMeasurement:""})},I=(e,t)=>{if(x(s)||void 0===t)if(x(s)){const t=g.filter(((t,n)=>n!==e));v(t)}else console.error("Index is required for customizedPriceObj scenario.");else b((n=>{var r;return{...n,[e]:null===(r=n[e])||void 0===r?void 0:r.filter(((e,n)=>n!==t))}}))};return(0,ys.jsxs)("div",{className:Du,children:[(0,ys.jsx)(Fl,{setClose:n}),(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:"Fa\xe7a sua receita"})}),x(s)?(0,ys.jsxs)("div",{children:[(0,ys.jsxs)("div",{className:Ou,children:[(0,ys.jsxs)("select",{id:"name",value:null===p||void 0===p?void 0:p.findIndex((e=>e.product===c.name)),className:Au,onChange:k,children:[(0,ys.jsx)("option",{value:"",children:"Selecione um produto"}),p&&p.length>0&&p.map(((e,t)=>(0,ys.jsx)("option",{value:t,children:"".concat(e.product,"-").concat(e.unitOfMeasurement)},t)))]}),(0,ys.jsx)("input",{id:"amount",fieldFocus:w,placeholder:"Quantidade",className:Ru,value:c.amount,type:"text",onChange:k}),(0,ys.jsx)("button",{type:"button",onClick:T,children:"Adicione"})]}),(0,ys.jsx)("div",{className:Mu,children:(0,ys.jsxs)("table",{children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Produto"}),(0,ys.jsx)("th",{children:"Quantidade"}),(0,ys.jsx)("th",{children:"Valor cheio"}),(0,ys.jsx)("th",{children:"Valor da por\xe7\xe3o"}),(0,ys.jsx)("th",{children:"Excluir"})]})}),(0,ys.jsx)("tbody",{children:g&&g.map(((e,t)=>{const n=_(e.name);return(0,ys.jsxs)("tr",{className:n?_s(n.product,n.totalVolume,n.minimumAmount,n.totalCost)?"":"warning":"",children:[(0,ys.jsx)("td",{className:"items",children:e.name}),(0,ys.jsxs)("td",{className:"items",children:[e.amount,e.unitOfMeasurement]}),(0,ys.jsxs)("td",{className:"items",children:["R$"," ",e.costPerUnit?e.costPerUnit.toFixed(2):"0.00"]}),(0,ys.jsxs)("td",{className:"items",children:["R$"," ",e.portionCost?e.portionCost.toFixed(2):"0.00"]}),(0,ys.jsx)("td",{className:"items",style:{cursor:"pointer"},onClick:()=>I(t),children:"x"})]},t)}))}),(0,ys.jsxs)("h2",{children:["Custo do produto ",S(g)]})]})})]}):C()&&C().length>0&&C().map((e=>{var t;return(0,ys.jsxs)("div",{className:Du,children:[(0,ys.jsxs)("div",{className:Ou,children:[e,(0,ys.jsxs)("select",{id:"name",value:null===p||void 0===p?void 0:p.findIndex((e=>e.product===c.name)),className:Au,onChange:k,children:[(0,ys.jsx)("option",{value:"",children:"Selecione um produto"}),p&&p.length>0&&p.map(((e,t)=>(0,ys.jsx)("option",{value:t,children:"".concat(e.product,"-").concat(e.unitOfMeasurement)},t)))]}),(0,ys.jsx)("input",{id:"amount",fieldFocus:w,placeholder:"Quantidade",className:Ru,value:c.amount,type:"text",onChange:k}),(0,ys.jsx)("button",{type:"button",onClick:()=>T(e),children:"Adicione"})]}),(0,ys.jsxs)("div",{className:Mu,children:[(0,ys.jsxs)("table",{children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Produto"}),(0,ys.jsx)("th",{children:"Quantidade"}),(0,ys.jsx)("th",{children:"Valor cheio"}),(0,ys.jsx)("th",{children:"Valor da por\xe7\xe3o"}),(0,ys.jsx)("th",{children:"Excluir"})]})}),(0,ys.jsx)("tbody",{children:y&&(null===(t=y[e])||void 0===t?void 0:t.map(((t,n)=>{const r=_(t.name);return(0,ys.jsxs)("tr",{className:r?_s(r.product,r.totalVolume,r.minimumAmount,r.totalCost)?"":"warning":"",children:[(0,ys.jsx)("td",{className:"items",children:t.name}),(0,ys.jsxs)("td",{className:"items",children:[t.amount,t.unitOfMeasurement]}),(0,ys.jsxs)("td",{className:"items",children:["R$"," ",t.costPerUnit?t.costPerUnit.toFixed(2):"0.00"]}),(0,ys.jsxs)("td",{className:"items",children:["R$"," ",t.portionCost?t.portionCost.toFixed(2):"0.00"]}),(0,ys.jsx)("td",{className:"items",style:{cursor:"pointer"},onClick:()=>I(e,n),children:"x"})]},n)})))})]}),(0,ys.jsxs)("h2",{children:["Custo do produto (",e,"): R$"," ",S(y,e)]})]})]})})),(0,ys.jsxs)("div",{className:Lu,children:[(0,ys.jsx)("label",{children:"Escreva sua receita"}),(0,ys.jsx)("textarea",{id:"gift",className:Fu,value:h,onChange:e=>{let{target:t}=e;return f(t.value)},children:"Sauda\xe7\xe3o"})]}),(0,ys.jsx)("div",{className:Uu,children:(0,ys.jsx)("button",{onClick:()=>{x(s)?r({FinalingridientsList:g,Explanation:h}):r({FinalingridientsList:y,Explanation:h}),n(!1)},children:"Enviar Receita"})})]})};const Vu=function(e){let{dataObj:n,mainTitle:r,setModalEditDishes:i}=e;const s=Y(),[o,a]=t.useState({title:"",category:"",comment:"",price:0,costProfitMargin:{},image:"",recipe:{},costPriceObj:{},display:!1,carrossel:!1,sideDishesElementList:[],maxLimitSideDishes:0,CustomizedPrice:{},costProfitMarginCustomized:{}}),[c,l]=t.useState([]),[u,d]=t.useState(null),[h,f]=t.useState(""),[p,m]=t.useState(!1),[g,v]=t.useState(0),[y,b]=t.useState(!1),[w,x]=t.useState(!1),[_,S]=t.useState([]),[E,C]=t.useState([]),[k,T]=t.useState({}),[I,j]=t.useState({}),[N,P]=t.useState(!1),[D,O]=t.useState(null),{handleBlur:A}=Nl(),R=(0,as.getFirestore)(is);t.useEffect((()=>{a((e=>({...e,sideDishesElementList:_,maxLimitSideDishes:E,recipe:D})))}),[_,E]),t.useEffect((()=>{D&&(o.recipe=D)}),[D]),t.useEffect((()=>{M()}),[]),t.useEffect((()=>{n&&(a(n),S(n.sideDishesElementList),C(n.maxLimitSideDishes),T(n.CustomizedPrice),O(n.recipe?n.recipe:{}),j(n.costProfitMarginCustomized?n.costProfitMarginCustomized:{}))}),[n]);const M=async()=>{const e=await ps("button");e.unshift("Selecione uma categoria"),l(e)};function L(e){let{target:t}=e;const{id:n,value:r,type:i,checked:s}=t;if("price"===n){const e=r.split(".")[0];console.log(e),a({...o,[n]:e})}else a("checkbox"===i?{...o,[n]:s}:{...o,[n]:r})}return t.useEffect((()=>{k&&(console.log("Customized Price oBJ   ",k),a((e=>({...e,CustomizedPrice:k,costProfitMarginCustomized:I}))))}),[k]),t.useEffect((()=>{var e,t,n,r,i,s,o;I&&I.firstPrice&&I.secondPrice&&(T({firstLabel:null===(e=I.firstPrice)||void 0===e?void 0:e.label,firstPrice:null===(t=I.firstPrice)||void 0===t?void 0:t.price,firstPrice:null===(n=I.firstPrice)||void 0===n?void 0:n.price,secondLabel:null===(r=I.secondPrice)||void 0===r?void 0:r.label,secondPrice:null===(i=I.secondPrice)||void 0===i?void 0:i.price,thirdLabel:null===(s=I.thirdPrice)||void 0===s?void 0:s.label,thirdPrice:null===(o=I.thirdPrice)||void 0===o?void 0:o.price}),console.log("customizedPriceObj    ",k))}),[I]),t.useEffect((()=>{o.costPriceObj&&(console.log("form   ",o),console.log("costPriceObj   ",o.costPriceObj))}),[o]),t.useEffect((()=>{console.log("costByRecipe",u),"number"!==typeof u||isNaN(u)||a((e=>({...e,costPriceObj:{...e.costPriceObj,cost:u}})))}),[u]),(0,ys.jsxs)("div",{className:Su,children:[p&&(0,ys.jsx)(hu,{setShowPopupCostAndPrice:m,addPriceObj:e=>{e.profit=e.price-e.cost,a((t=>({...t,costPriceObj:e,price:e.price}))),m(!1)},objPriceCost:o.costPriceObj,costProfitMarginCustomized:o.costProfitMarginCustomized,recipe:o.recipe,id:o.id}),(0,ys.jsx)("div",{className:"close-btn",children:i?(0,ys.jsx)("button",{onClick:()=>i(!1),children:"X"}):(0,ys.jsx)(bl,{to:"/admin/admin",children:"X"})}),(0,ys.jsx)("div",{className:Eu,children:N&&(0,ys.jsx)(zu,{setRecipeModal:P,setRecipe:O,recipe:D,customizedPriceObj:k,costByRecipe:o.costPriceObj,costProfitMarginCustomized:o.costProfitMarginCustomized})}),(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:r||"Adicione um prato"})}),(0,ys.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n?(0,as.setDoc)((0,as.doc)(R,"item",n.id),o).then((()=>{s("/"),console.log("Document successfully updated !")})).catch((e=>{console.log(e)})):(0,as.addDoc)((0,as.collection)(R,"item"),o).then((e=>{s("/")})).catch((e=>{console.log(e)}))},className:"m-1",children:[(0,ys.jsx)(Il,{id:"title",label:"Titulo",required:!0,value:o.title,type:"text",onChange:L}),(0,ys.jsxs)("div",{className:"my-3",children:[(0,ys.jsx)("label",{className:"form-label",children:"Categoria"}),(0,ys.jsx)("select",{id:"category",required:!0,value:o.category,className:"form-select",onChange:L,children:c&&c.map(((e,t)=>(0,ys.jsx)("option",{value:e,children:e},t)))})]}),(0,ys.jsx)(Il,{id:"comment",required:!0,label:"Coment\xe1rio",value:o.comment,type:"text",onChange:L}),(0,ys.jsxs)("div",{className:xu,children:[(0,ys.jsxs)("button",{className:"btn btn-success",type:"button",onClick:()=>m(!0),children:["Pre\xe7o R$ ",o.price,",00"]}),(0,ys.jsx)("button",{className:"btn btn-success",type:"button",onClick:()=>x(!0),children:"Pre\xe7o Customizado"})]}),(0,ys.jsx)(Il,{id:"image",label:"Link da imagem",value:o.image,type:"text",onChange:L}),(0,ys.jsxs)("div",{className:Cu,children:[(0,ys.jsx)(Il,{id:"sideDishesElementList",value:o.sideDishesElementList,type:"hidden",onChange:L}),(0,ys.jsx)(Il,{id:"maxLimitSideDishes",value:o.maxLimitSideDishes,type:"hidden",onChange:L})]}),(0,ys.jsxs)("div",{className:_u,children:[(0,ys.jsx)("label",{className:"form-label",children:"Carregar imagem"}),(0,ys.jsx)("input",{type:"file",onChange:async e=>{const t=e.target.files[0];if(t){const e="dishes/".concat(t.name),n=es(ns(os,e),t);n.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;v(t)}),(e=>{console.error(e)}),(async()=>{const e=await ts(n.snapshot.ref);f(e),o.image=e}))}}}),(0,ys.jsx)("progress",{value:g,max:"100"}),h&&(0,ys.jsx)("img",{className:"image-preview",src:h,alt:"Uploaded file"})]}),(0,ys.jsxs)("div",{className:ku,children:[(0,ys.jsx)("input",{className:"form-check-input",id:"carrossel",type:"checkbox",checked:o.carrossel,onChange:L}),(0,ys.jsx)("label",{className:"form-check-label",children:"Adicionar item ao carrossel"})]}),(0,ys.jsx)("div",{className:Iu,children:(0,ys.jsx)("button",{children:"Enviar"})})]}),y&&(0,ys.jsx)("div",{className:Tu,children:(0,ys.jsx)(bu,{setShowPopupSideDisehs:b,setNewSideDishesList:S,newSideDishesList:_,setMaxLimitSideDishes:C,maxLimitSideDishes:E})}),(0,ys.jsx)("div",{className:"external-container-customize-price",children:w&&(0,ys.jsx)(Pu,{setShowPopupCustomizePrice:x,onPriceChange:e=>{j(e),x(!1)},customizedPriceObj:I})}),(0,ys.jsxs)("div",{className:wu,children:[(0,ys.jsx)("button",{onClick:()=>{b(!0),n&&console.log("Data obj",n)},children:" Acompanhamentos"}),(0,ys.jsx)("button",{onClick:()=>{P(!0),console.log(N)},children:" Receita"})]})]})};const qu=function(){const e=t.useContext(ws),n=Q(),[r,i]=t.useState("");t.useEffect((()=>{if(localStorage.hasOwnProperty("isToten")){JSON.parse(localStorage.getItem("isToten"))&&e.setIsToten(!0)}(async()=>{try{const t=await hs("frontImage");e.setImage(t[0].image)}catch(t){console.error("Error fetching data",t)}})()}),[]);const s="main_header \n  ".concat(e.isToten?"toten":""," \n  ").concat(n.pathname.includes("/orderqueue")||n.pathname.includes("/create-customer")?"orderqueue":"").trim();return(0,ys.jsx)("header",{className:s,children:(0,ys.jsx)("nav",{children:(0,ys.jsxs)(bl,{to:"/",children:[" ",(0,ys.jsx)("img",{src:e.image,alt:"google logo"})]})})})};const Bu=function(){const e=Y(),[n,r]=t.useState({email:"",password:""});function i(e){let{target:t}=e;const{id:i,value:s}=t;r({...n,[i]:s,[i]:s})}return(0,ys.jsxs)("div",{className:"container mt-5 p-3 bg-body-tertiar",children:[(0,ys.jsx)(tu,{title:"Crie um novo Usu\xe1rio e senha"}),(0,ys.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await async function(e,t,n){const r=It(e),i=At(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",en),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&un(e),t})),o=await tn._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(ss,n.email,n.password),r=t.user;localStorage.setItem("token",JSON.stringify(r.accessToken)),localStorage.setItem("user",JSON.stringify(r)),e("/")}catch(r){console.log(r)}},className:"m-1",children:[(0,ys.jsx)(Il,{id:"email",label:"email",value:n.email,type:"email",onChange:i}),(0,ys.jsx)(Il,{id:"password",label:"Password",value:n.password,type:"password",onChange:i}),(0,ys.jsx)("button",{className:"btn btn-primary",children:"Enviar"})]})]})},Hu=e=>{let{error:t,setErrorPopup:n}=e;return(0,ys.jsxs)("div",{className:"container-error",children:[(0,ys.jsx)("h1",{children:"Mensagem de erro"}),t.birthday&&(0,ys.jsx)("p",{children:null===t||void 0===t?void 0:t.birthday}),t.phone&&(0,ys.jsx)("p",{children:null===t||void 0===t?void 0:t.phone}),t.cpf&&(0,ys.jsx)("p",{children:null===t||void 0===t?void 0:t.cpf}),t.login&&(0,ys.jsx)("p",{children:t.login}),(0,ys.jsx)("button",{onClick:()=>n(!1),children:"Fechar Mensagem"})]})};const Wu=function(){const e=Y(),[n,r]=t.useState(!1),[i,s]=t.useState(!1),[o,a]=t.useState(!1),[c,l]=t.useState(!1),u=t.useContext(ws),{form:d,setForm:h,error:f,handleChange:p,handleBlur:m,clientFinded:g}=Nl({email:"",password:""}),v=e=>{const{id:t,value:n}=e.target;"password"===t?(l(!0),a(!1)):"email"===t&&(l(!1),a(!0))},y=(e,t)=>{if("clearField"===e){h((e=>({...e,id:""})));return void p({target:{id:t,value:""}})}if("Bcksp"===e){h((e=>({...e,[t]:e[t].slice(0,-1)})));const e={target:{id:t,value:d[t].slice(0,-1)}};return void p(e)}let n="";"password"===t?n=d.password+e:"email"===t&&(n=d.email+e);p({target:{id:t,value:n}})},b=(e,t)=>{if("password"===t){c(!1);m({target:{id:"password",value:e}})}if("email"===t){o(!1);m({target:{id:"email",value:e}})}};return(0,ys.jsxs)("div",{className:"container mt-5 p-3 bg-body-tertiar",children:[(0,ys.jsx)(tu,{mainTitle:"Login Administrador"}),n&&(0,ys.jsx)(Hu,{setErrorPopup:r,error:{login:"Sua senha ou email est\xe3o incorretos"}}),(0,ys.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await function(e,t,n){return ln((0,ge.m9)(e),Gt.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&un(e),t}))}(ss,d.email,d.password),n=t.user;localStorage.setItem("token",JSON.stringify(n.accessToken)),e("/admin")}catch(f){r(!0),console.log(f)}},className:"m-1",children:[(0,ys.jsx)(Il,{id:"email",label:"email",autoComplete:"off",value:d.email,type:"email",onFocus:v,onChange:p}),o&&u.isToten&&(0,ys.jsx)(jl,{addCharacter:y,id:"email",closeKeyboard:()=>b(d.email,"email")}),(0,ys.jsx)(Il,{id:"password",autoComplete:"off",label:"Password",value:d.password,type:"password",onFocus:v,onChange:p}),c&&u.isToten&&(0,ys.jsx)(jl,{addCharacter:y,id:"password",closeKeyboard:()=>b(d.password,"password")}),(0,ys.jsx)("button",{className:"btn btn-primary",children:"Enviar"})]})]})},Ku={containerAdminMainMenu:"AdminMainMenu_containerAdminMainMenu__0Aq+e",active:"AdminMainMenu_active__GvEYZ",sideMenu:"AdminMainMenu_sideMenu__8L3B3",mainContent:"AdminMainMenu_mainContent__uvkJ7",WarningMessageContainer:"AdminMainMenu_WarningMessageContainer__OrNbz"},Gu=e=>{let{children:n}=e;const r=Y(),[i,s]=t.useState(!1);t.useEffect((()=>{if(localStorage.hasOwnProperty("token")){JSON.parse(localStorage.getItem("token"))}else r("/admin/login")}),[]);const o=()=>{i&&(localStorage.removeItem("token"),r("/")),s(!0)};return(0,ys.jsxs)("div",{children:[(0,ys.jsx)("div",{className:Ku.WarningMessageContainer,children:i&&(0,ys.jsx)(Dl,{message:"Voc\xea est\xe1 prestes a sair do sistema",setWarningMsg:s,sendRequestToKitchen:o})}),(0,ys.jsxs)("div",{className:Ku.containerAdminMainMenu,children:[(0,ys.jsx)("nav",{children:(0,ys.jsxs)("div",{className:Ku.sideMenu,children:[(0,ys.jsx)(wl,{to:"/",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Sair do Administrador"}),(0,ys.jsx)(wl,{to:"/admin/item",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Adcione um prato"}),(0,ys.jsx)(wl,{to:"/admin/editButton/dishes",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Edite seus pratos"}),(0,ys.jsxs)(wl,{to:"/admin/category",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:["Adicione Categoria"," "]}),(0,ys.jsx)(wl,{to:"/admin/editButton/cat",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Edite suas categorias"}),(0,ys.jsx)(wl,{to:"/admin/sidedishes",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Adicione um novo acompanhamento"}),(0,ys.jsx)(wl,{to:"/admin/editButton/sidedishes",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Edite seus acompanhamentos"}),(0,ys.jsx)(wl,{to:"/admin/stock",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Estoque"}),(0,ys.jsx)(wl,{to:"/admin/customer",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Lista de Clientes"}),(0,ys.jsx)(wl,{to:"/admin/operationCost",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Cadastro de Custo de Opera\xe7\xf5es"}),(0,ys.jsx)(wl,{to:"/admin/managementRecipes",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Receitas"}),(0,ys.jsx)(wl,{to:"/admin/request",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Vendas"}),(0,ys.jsx)(wl,{to:"/admin/sell-flow",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Fechamento de Caixa"}),(0,ys.jsx)(wl,{to:"/admin/frontimage",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Adicione sua marca"}),(0,ys.jsx)(wl,{to:"/admin/expenses",c:!0,className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Despesas"}),(0,ys.jsx)(wl,{to:"/admin/styles",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Gerenciando Estilos"}),(0,ys.jsx)(wl,{to:"/admin/welcome",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Sauda\xe7\xe3o inicial"}),(0,ys.jsx)(wl,{to:"/admin/promotions",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Promo\xe7\xf5es"}),(0,ys.jsx)(wl,{to:"/admin/documentation",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Documenta\xe7\xe3o"}),(0,ys.jsx)(wl,{to:"/admin/requestlist",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Cozinha"}),(0,ys.jsx)(wl,{to:"/admin/requestlistcheck",className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Lista de Pedidos"}),(0,ys.jsx)("button",{onClick:o,className:e=>{let{isActive:t}=e;return t?"".concat(Ku.link," ").concat(Ku.active):Ku.link},children:"Log out"})]})}),(0,ys.jsxs)("section",{children:[(0,ys.jsx)("h1",{children:" Menu do administrador"}),";",(0,ys.jsxs)("div",{className:Ku.mainContent,children:[" ",(0,ys.jsx)(de,{})]})]})]})]})},Qu=()=>localStorage.getItem("token")?(0,ys.jsx)(ue,{to:"/admin/admin"}):(0,ys.jsx)(ue,{to:"/admin/login"}),$u={containerOperationCostRegister:"CostOperations_containerOperationCostRegister__cwlj7",btn:"CostOperations_btn__7ipg9",totals:"CostOperations_totals__twWXy"};function Yu(){const e=(0,as.getFirestore)(is),[n,r]=(0,t.useState)({typeOfOperation:"pix",valueOfOperation:""}),[i,s]=(0,t.useState)([]);(0,t.useEffect)((()=>{!async function(){const e=await hs("costOperations");s(e)}()}),[]);return(0,ys.jsxs)("div",{className:"".concat($u.containerOperationCostRegister," p-4"),children:[(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:"Gerenciar Opera\xe7\xf5es de Custo"})}),(0,ys.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await(0,as.addDoc)((0,as.collection)(e,"costOperations"),{typeOfOperation:n.typeOfOperation,valueOfOperation:parseFloat(n.valueOfOperation)});console.log("Documento adicionado com ID: ",t.id),s((e=>[...e,{id:t.id,...n}])),r({typeOfOperation:"pix",valueOfOperation:""})}catch(i){console.error("Erro ao adicionar documento: ",i)}},className:"mb-6",children:[(0,ys.jsxs)("div",{className:"mb-4",children:[(0,ys.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Opera\xe7\xe3o"}),(0,ys.jsxs)("select",{value:n.typeOfOperation,onChange:e=>r((t=>({...t,typeOfOperation:e.target.value}))),className:"border rounded p-2 w-full",children:[(0,ys.jsx)("option",{value:"pix",children:"Pix"}),(0,ys.jsx)("option",{value:"credit",children:"Cr\xe9dito"}),(0,ys.jsx)("option",{value:"debit",children:"D\xe9bito"}),(0,ys.jsx)("option",{value:"cash",children:"Dinheiro"}),(0,ys.jsx)("option",{value:"vr",children:"VR"})]})]}),(0,ys.jsxs)("div",{className:"mb-4",children:[(0,ys.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Valor da Opera\xe7\xe3o"}),(0,ys.jsx)("input",{type:"number",step:"0.01",value:n.valueOfOperation,onChange:e=>r((t=>({...t,valueOfOperation:e.target.value}))),className:"border rounded p-2 w-full",required:!0})]}),(0,ys.jsx)("button",{type:"submit",className:$u.btn,children:"Enviar"})]}),(0,ys.jsxs)("table",{className:"table-auto w-full border-collapse border border-gray-300",children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Tipo"}),(0,ys.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Taxa da opera\xe7\xe3o"}),(0,ys.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Excluir opera\xe7\xe3o"})]})}),(0,ys.jsx)("tbody",{children:i.map((e=>(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:e.typeOfOperation}),(0,ys.jsx)("td",{children:e.valueOfOperation}),(0,ys.jsx)("td",{onClick:()=>(async e=>{try{await ds("costOperations",e),s((t=>t.filter((t=>t.id!==e))))}catch(t){console.error("Erro ao deletar documento: ",t)}})(e.id),children:"x"})]},e.id)))})]})]})}const Xu=(e,n)=>{const[r,i]=t.useState((()=>{const t=window.localStorage.getItem(e);return null!==t?JSON.parse(t):n}));return t.useEffect((()=>{window.localStorage.setItem(e,JSON.stringify(r))}),[e,r]),[r,i]},Ju=()=>{const[e,n]=t.useState(""),[r,i]=t.useState(""),s=t.useContext(ws),[o,a]=Xu("isToten",!1),[c,l]=Xu("modePictureMobile",!1),u=Y(),d=(0,as.getFirestore)(is);t.useEffect((()=>{o&&c&&(o?(l(!1),alert("O aplicativo est\xe1 em modo Totem, ele n\xe3o pode ser usado em um celular.")):c&&(a(!1),alert("O aplicativo est\xe1 em modo de imagem de celular, ele n\xe3o pode ser usado como Totem.")))}),[o,c]);t.useState((()=>{console.log("publicStatement   ",o)}),[o]);return(0,ys.jsxs)(ys.Fragment,{children:[(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:"Adicione sua marca"})}),(0,ys.jsx)(Il,{id:"uploadImage",label:"Upload image",type:"file",onChange:async e=>{const t=e.target.files[0];if(t){const e="frontImage/".concat(t.name),r=es(ns(os,e),t);r.on("state_change",(e=>{const t=e.bytesTrans/e.totalBytes*100;i(t)}),(e=>{console.error(e)}),(async()=>{const e=await ts(r.snapshot.ref);n(e),s.setImage(e),(0,as.setDoc)((0,as.doc)(d,"frontImage","oIKq1AHF4cHMkqgOcz1h"),{image:e}).then((()=>{console.log("Document successfully updated !"),console.log("formFrontImage  85"),u("/")})).catch((e=>{console.log(e)}))}))}}}),(0,ys.jsx)("progress",{value:r,max:"100"}),e&&(0,ys.jsx)("img",{className:"image-preview",src:e,alt:"Uploaded file"}),(0,ys.jsxs)("div",{className:"form-check my-1",children:[(0,ys.jsx)("input",{className:"form-check-input",id:"carrossel",type:"checkbox",checked:o,onChange:()=>{a((e=>!e))}}),(0,ys.jsx)("label",{className:"form-check-label",children:"Manter selecionado para entrar no modo Toten que far\xe1que o cliente seja deslogado logo ap\xf3s o envio do pedido e o sistema retornar\xe1 para a tela inicial."})]}),(0,ys.jsxs)("div",{className:"form-check my-1",children:[(0,ys.jsx)("input",{className:"form-check-input",id:"modePicture",type:"checkbox",checked:c,onChange:()=>{const e=document.getElementById("modePicture").checked;console.log("Fui chamado",e);(async e=>{try{const t=(0,as.doc)(d,"PictureMode","7OQE7SP75uGlSokNrpNE");await(0,as.updateDoc)(t,{menuPictureMode:e}),console.log("Document successfully updated!")}catch(t){console.error("Error updating document: ",t)}})(e),l((e=>!e))}}),(0,ys.jsx)("label",{className:"form-check-label",children:"Para acionar o modo de imagem de celular, mantenha selecionado. node os bot\xf5es ser\xe3o substituidos por imagens."})]})]})},Zu=()=>{const[e,n]=t.useState([]),[r,i]=t.useState([]),[s,o]=t.useState([]),[a,c]=t.useState(!1),[l,u]=t.useState(!1),[d,h]=t.useState(!1),[f,p]=t.useState({}),{id:m}=function(){let{matches:e}=t.useContext(W),n=e[e.length-1];return n?n.params:{}}();async function g(t){if(alert("Voc\xea est\xe1 prestes a deletar ".concat(t.title," tem certeza que quer fazer isso?")),"cat"===m){let n=t.title.replace(/\s/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),i=[...e.filter((e=>e.category===n)),...r.filter((e=>e.category===n))];if(i.length>0)return void alert("Voc\xea n\xe3o pode deletar ".concat(t.title," porque ele outros elementos que n\xe3o podem ser excluidos. Voc\xea precisa exclui-los"));await v("button",t.id)}else"dishes"===m?await v("item",t.id):"sidedishes"===m&&await v("sideDishes",t.id)}t.useEffect((()=>{(async()=>{try{const[e,t,r]=await Promise.all([hs("button"),hs("item"),hs("sideDishes")]),s=t.sort(((e,t)=>e.title.localeCompare(t.title))),a=e.sort(((e,t)=>e.title.localeCompare(t.title))),c=r.sort(((e,t)=>e.sideDishes.localeCompare(t.sideDishes)));n(a),i(s),o(c)}catch(e){console.error("Error fetching data",e)}})()}),[]);const v=async(e,t)=>{await ds(e,t)};function y(e,t){"button"===t?(c(!0),p(e)):"dishes"===t?(u(!0),console.log("ITEM   ",e),p(e)):"sidedishes"===t&&(h(!0),p(e))}return(0,ys.jsxs)("div",{className:"container",children:[(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:{cat:"Edite suas categorias",dishes:"Edite seus Pratos",sidedishes:"Edite seus acompanhamentos"}[m]||"T\xedtulo padr\xe3o"})}),(0,ys.jsx)(Sl,{}),a&&(0,ys.jsx)("div",{className:"form-position",children:(0,ys.jsx)(ou,{dataObj:f,EditButtonTitle:"Edite o Bot\xe3o",setModalEditButton:c})}),e&&"cat"===m&&e.map(((e,t)=>(0,ys.jsxs)("div",{className:"row my-3",children:[(0,ys.jsx)("h2",{className:"col-5",children:e.title}),(0,ys.jsxs)("button",{className:"btn btn-danger col-3 mx-1",onClick:()=>g(e),children:["Excluir"," "]}),(0,ys.jsxs)("button",{className:"btn btn-warning col-3",onClick:()=>y(e,"button"),children:["Editar"," "]})]},t))),l&&(0,ys.jsx)("div",{className:"form-position",children:(0,ys.jsx)(Vu,{dataObj:f,mainTitle:"Edite o Prato",setModalEditDishes:u})}),e&&"dishes"===m&&r.map(((e,t)=>(0,ys.jsxs)("div",{className:"row my-3",children:[(0,ys.jsx)("h2",{className:"col-5 title-dishes",children:e.title}),(0,ys.jsxs)("button",{className:"btn btn-danger col-3 mx-1",onClick:()=>g(e),children:["Excluir"," "]}),(0,ys.jsxs)("button",{className:"btn btn-warning col-3",onClick:()=>y(e,"dishes"),children:["Editar"," "]})]},t))),d&&(0,ys.jsx)("div",{className:"form-position",children:(0,ys.jsx)(gu,{dataObj:f,EditSideDishesTitle:"Edite o Acompanhamento",setModalEditSideDishes:h})}),s&&"sidedishes"===m&&s.map(((e,t)=>(0,ys.jsxs)("div",{className:"row my-3",children:[(0,ys.jsx)("h2",{className:"col-5 title-dishes",children:e.sideDishes}),(0,ys.jsxs)("button",{className:"btn btn-danger col-3 mx-1",onClick:()=>g(e),children:["Excluir"," "]}),(0,ys.jsxs)("button",{className:"btn btn-warning col-3",onClick:()=>y(e,"sidedishes"),children:["Editar"," "]})]},t)))]})},ed=e=>{let{clientFinded:n,cpf:r,setCpfModal:i}=e;const s=Y(),o=t.useContext(ws);return(0,ys.jsxs)("div",{className:"container-cpf-message",children:[(0,ys.jsxs)("h1",{children:["Bem vindo ",n[0].name," "]}),(0,ys.jsx)("p",{children:" Confirme seu n\xfamero de cpf e vamos em frente"}),(0,ys.jsx)("h3",{children:r}),(0,ys.jsxs)("div",{className:"create-new-customer-btns",children:[(0,ys.jsx)("button",{className:"btn btn-primary",onClick:()=>{i(!1)},children:"Corrigir"}),(0,ys.jsx)("button",{onClick:()=>{o.setId(n[0].id),o.setAuthorizated(!0);const e={id:n[0].id,name:n[0].name};localStorage.setItem("userMenu",JSON.stringify(e)),s("/"),i(!1)},type:"button",className:"btn btn-primary",children:"Continue"})]})]})},td=()=>{const e=Y(),n=t.useContext(ws),r=t.useRef(null),[i,s]=t.useState(!0),[o,a]=t.useState(!0),[c,l]=t.useState(!1),{form:u,setForm:d,error:h,handleChange:f,handleBlur:p,clientFinded:m}=Nl({name:"",phone:"",cpf:"",birthday:""}),[g,v]=t.useState({salute:"",gift:""}),[y,b]=t.useState(!1),[w,x]=t.useState(!1),[_,S]=t.useState(!1),[E,C]=t.useState(!1),[k,T]=t.useState(!1);t.useEffect((()=>{""===u.name?r.current.disabled=!1:r.current.disabled=!0}),[u]);const I=(0,as.getFirestore)(is);t.useEffect((()=>{!async function(){const t=await Cs("userMenu");"/"===t&&(n.setAuthorizated(!0),e(t))}(),(async()=>{const e=await hs("welcomeCustomer");v(e[0])})(),j()}),[]);const j=()=>{localStorage.hasOwnProperty("backorder")&&(a(!1),localStorage.hasOwnProperty("noFantasyName")&&a(!0))};const N=t=>{t?(!function(t){const r={fantasyName:"",name:"anonimo",phone:"777",birthday:"77",email:"anonimo@anonimo.com"};t&&(r.fantasyName=t);(0,as.addDoc)((0,as.collection)(I,"user"),r).then((e=>{n.setId(e.id);const t={id:e.id,name:r.fantasyName};localStorage.setItem("userMenu",JSON.stringify(t)),d({name:"",phone:"",birthday:"",email:"",cpf:""})})).then((()=>{e("/")})).catch((e=>{console.log(e)}))}(t),console.log("Com nome"),a(!1)):(a(!0),console.log("Sem nome"))};const P=e=>{const{id:t,value:n}=e.target;"cpf"===t?(b(!0),x(!1),C(!1),T(!1),S(!1)):"phone"===t?(b(!1),x(!0),C(!1),T(!1),S(!1)):"name"===t?(b(!1),x(!1),C(!0),T(!1),S(!1)):"email"===t?(b(!1),x(!1),C(!1),T(!0),S(!1)):"birthday"===t&&(b(!1),x(!1),C(!1),T(!1),S(!0))},D=(e,t)=>{if("clearField"===e){d((e=>({...e,id:""})));return void f({target:{id:t,value:""}})}if("Bcksp"===e){d((e=>({...e,[t]:e[t].slice(0,-1)})));const e={target:{id:t,value:u[t].slice(0,-1)}};return void f(e)}let n="";"phone"===t?n=u.phone+e:"cpf"===t?n=u.cpf+e:"name"===t?n=u.name+e:"email"===t?n=u.email+e:"birthday"===t&&(n=u.birthday+e);f({target:{id:t,value:n}})},O=(e,t)=>{if("cpf"===t){b(!1);p({target:{id:"cpf",value:e}})}if("phone"===t){x(!1);p({target:{id:"phone",value:e}})}if("name"===t){C(!1);p({target:{id:"name",value:e}})}if("email"===t){C(!1);p({target:{id:"email",value:e}})}if("birthday"===t){C(!1);p({target:{id:"birthday",value:e}})}};return(0,ys.jsxs)("section",{className:"welcome-message",children:[o&&(0,ys.jsx)(Pl,{justNameFantasy:N,setPopupName:a}),g&&g.salute&&g.gift&&(0,ys.jsxs)("main",{children:[g.salute&&g.gift&&(0,ys.jsx)("h1",{children:"Seja bem vindo"}),g.salute&&(0,ys.jsx)("p",{children:g.salute}),g.gift&&(0,ys.jsx)("p",{children:g.gift})]}),(0,ys.jsx)("div",{className:"create-new-customer-btns",children:(0,ys.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>N(),ref:r,children:"Continuar sem os meus dados"})}),c&&(0,ys.jsx)(Hu,{error:h,setErrorPopup:l}),(0,ys.jsxs)("form",{onSubmit:function(t){t.preventDefault();const r=""===u.name?{name:"anonimo",phone:"777",birthday:"77",email:"anonimo@anonimo.com"}:u;h.birthday||h.phone||h.cpf?l(!0):(0,as.addDoc)((0,as.collection)(I,"user"),r).then((e=>{n.setId(e.id);const t={id:e.id,name:r.name};localStorage.setItem("userMenu",JSON.stringify(t)),d({name:"",phone:"",birthday:"",email:""})})).then((()=>{e("/")})).catch((e=>{console.log(e)}))},className:"m-1",children:[(0,ys.jsx)(Il,{id:"cpf",autoComplete:"off",required:!0,label:"CPF",value:u.cpf,type:"text",onChange:f,onFocus:P,onBlur:p}),y&&n.isToten&&(0,ys.jsx)(Ml,{handleBlur:p,addCharacter:D,closeKeyboard:()=>O(u.cpf,"cpf"),id:"cpf"}),h.cpf&&(0,ys.jsx)("div",{className:"error-form",children:h.cpf}),m.length>0&&i&&(0,ys.jsx)(ed,{clientFinded:m,cpf:u.cpf,setCpfModal:s}),(0,ys.jsx)(Il,{id:"name",autoComplete:"off",required:!0,label:"Nome",value:u.name,type:"text",onFocus:P,onChange:f}),E&&n.isToten&&(0,ys.jsx)(jl,{addCharacter:D,id:"name",closeKeyboard:()=>O(u.name,"name")}),(0,ys.jsx)(Il,{id:"phone",required:!0,label:"Celular",autoComplete:"off",value:u.phone,type:"text",onFocus:P,onChange:f}),w&&n.isToten&&(0,ys.jsx)(Ml,{handleBlur:p,addCharacter:D,closeKeyboard:()=>O(u.cpf,"phone"),id:"phone"}),h.phone&&(0,ys.jsx)("div",{className:"error-form",children:h.phone}),(0,ys.jsx)(Il,{id:"birthday",required:!0,label:"Anivers\xe1rio",value:u.birthday,type:"text",onFocus:P,onChange:f}),_&&n.isToten&&(0,ys.jsx)(Ml,{handleBlur:p,addCharacter:D,closeKeyboard:()=>O(u.cpf,"phone"),id:"birthday"}),h.birthday&&(0,ys.jsx)("div",{className:"error-form",children:h.birthday}),(0,ys.jsx)("div",{className:"create-new-customer-btns",children:(0,ys.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Cadastrar"})})]})]})};const nd=function(){const[e,n]=t.useState({btnColor:"",bgColor:"",fontColor:"",titleFontColor:"",titleFont:"",textFont:"",secundaryBgColor:""}),r=(0,as.getFirestore)(is),i=Y();function s(t){let{target:r}=t;const{id:i,value:s}=r;n({...e,[i]:s})}return t.useEffect((()=>{!async function(){const e=await hs("styles");console.log(e),n(e[1])}()}),[]),(0,ys.jsxs)(ys.Fragment,{children:[(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:"Gerenciando Estilos"})}),(0,ys.jsxs)("form",{onSubmit:function(t){t.preventDefault(),(0,as.setDoc)((0,as.doc)(r,"styles","Ka5eQA5um9W3vA5gyV70"),e).then((e=>{i("/")})).catch((e=>{console.log(e)}))},className:"m-1",children:[(0,ys.jsx)(Il,{id:"btnColor",label:"Cor dos bot\xf5es",value:e.btnColor,type:"color",onChange:s}),(0,ys.jsx)(Il,{id:"bgColor",label:"Cor de Fundo geral",value:e.bgColor,type:"color",onChange:s}),(0,ys.jsx)(Il,{id:"secundaryBgColor",label:"Cor de Fundo secund\xe1rio",value:e.secundaryBgColor,type:"color",onChange:s}),(0,ys.jsx)(Il,{id:"fontColor",label:"Cor de Texto",value:e.fontColor,type:"color",onChange:s}),(0,ys.jsx)(Il,{id:"titleFontColor",label:"Cor dos T\xedtulos",value:e.titleFontColor,type:"color",onChange:s}),(0,ys.jsxs)("div",{className:"my-3",children:[(0,ys.jsx)("label",{className:"form-label",children:"Fontes de T\xedtulos"}),(0,ys.jsxs)("select",{id:"titleFont",value:e.titleFont,className:"form-select",onChange:s,children:[(0,ys.jsx)("option",{disabled:!0,value:"",children:"Selecione sua fonte"}),(0,ys.jsx)("option",{value:"Arial",children:"Arial"}),(0,ys.jsx)("option",{value:"impact",children:"Impact"}),(0,ys.jsx)("option",{value:"sans serif ",children:"Snas Serif"})]})]}),(0,ys.jsxs)("div",{className:"my-3",children:[(0,ys.jsx)("label",{className:"form-label",children:"Fontes de Textos"}),(0,ys.jsxs)("select",{id:"textFont",value:e.textFont,className:"form-select",onChange:s,children:[(0,ys.jsx)("option",{disabled:!0,value:"",children:"Selecione sua fonte"}),(0,ys.jsx)("option",{value:"impact",children:"Impact"}),(0,ys.jsx)("option",{value:"Arial",children:"Arial"}),(0,ys.jsx)("option",{value:"sans serif ",children:"Snas Serif"})]})]}),(0,ys.jsx)("button",{type:"submit",children:"Submit"})]})]})};const rd=function(){const e=(0,as.getFirestore)(is),n=Y(),[r,i]=t.useState({gift:"",salute:""});function s(e){let{target:t}=e;const{id:n,value:s}=t;i({...r,[n]:s,[n]:s})}return(0,ys.jsxs)("div",{className:"container mt-5 p-3 bg-body-tertiar",children:[(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:"Sauda\xe7\xe3o inicial"})}),(0,ys.jsx)(tu,{title:"Crie um novo Usu\xe1rio e senha"}),(0,ys.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{(0,as.setDoc)((0,as.doc)(e,"welcomeCustomer","Zju4GZbnQFaq4fWjGch1"),r).then((e=>{n("/")}))}catch(i){console.log(i)}},className:"m-1",children:[(0,ys.jsxs)("div",{className:"container-textArea",children:[(0,ys.jsxs)("div",{children:[(0,ys.jsx)("label",{children:"Crie uma sauda\xe7\xe3o para a tela inicial do seu Menu"}),(0,ys.jsx)("textarea",{id:"gift",className:"text-area",value:r.gift,onChange:s,children:"Sauda\xe7\xe3o"})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("label",{children:"Descreva aqui o brinde que vai oferecer ao seu cliente por se cadastrar"}),(0,ys.jsx)("textarea",{id:"salute",className:"text-area",value:r.salute,onChange:s,children:"Sauda\xe7\xe3o"})]})]}),(0,ys.jsx)("button",{className:"btn btn-primary",children:"Enviar"})]})]})},id=e=>{let{onPaymentMethodChange:n,item:r}=e;const[i,s]=t.useState("cash"),o=e=>{const{value:t}=e.target;s(t),n(t,r)};return(0,ys.jsxs)("div",{className:"paymentMethod-container",children:[(0,ys.jsxs)("div",{children:[(0,ys.jsx)("input",{className:"form-check-input",id:"cash",value:"cash",name:"options",type:"radio",checked:"cash"===i,onChange:o}),(0,ys.jsx)("label",{className:"form-check-label",children:"Dinheiro"})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("input",{className:"form-check-input",id:"credite",value:"credite",name:"options",type:"radio",checked:"credite"===i,onChange:o}),(0,ys.jsx)("label",{className:"form-check-label",children:"Cr\xe9dito"})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("input",{className:"form-check-input",id:"debit",value:"debit",name:"options",type:"radio",checked:"debit"===i,onChange:o}),(0,ys.jsx)("label",{className:"form-check-label",children:"D\xe9bito"})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("input",{className:"form-check-input",id:"pix",value:"pix",name:"options",type:"radio",checked:"pix"===i,onChange:o}),(0,ys.jsx)("label",{className:"form-check-label",children:"Pix"})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("input",{className:"form-check-input",id:"vr",value:"vr",name:"options",type:"radio",checked:"vr"===i,onChange:o}),(0,ys.jsx)("label",{className:"form-check-label",children:"VR"})]})]})},sd={containerBtnRequest:"RequestListToBePrepared_containerBtnRequest__N8Ek6",allRequest:"RequestListToBePrepared_allRequest__UPlm7",containerRequestListToBePrepared:"RequestListToBePrepared_containerRequestListToBePrepared__Z4DlV",userContainer:"RequestListToBePrepared_userContainer__xY5yL",customerProfileButton:"RequestListToBePrepared_customerProfileButton__U3P53",btnStatus:"RequestListToBePrepared_btnStatus__CTjOk",pendent:"RequestListToBePrepared_pendent__U0XvA",done:"RequestListToBePrepared_done__Wgsrs",PopupContainer:"RequestListToBePrepared_PopupContainer__fZPVT",promotionSelect:"RequestListToBePrepared_promotionSelect__CNY4c",requestItem:"RequestListToBePrepared_requestItem__xI0Tb",imageButton:"RequestListToBePrepared_imageButton__NroFv",sideDishesList:"RequestListToBePrepared_sideDishesList__xcanF"},od="RecipeModal_recipeGlobalContainer__Z96Js",ad="RecipeModal_btnContainer__BMQBw",cd="RecipeModal_imageRecipeContainer__L4ITe",ld="RecipeModal_noRecipe__e7MFn",ud="RecipeModal_titleRecipe__xGpxW",dd="RecipeModal_recipeText__boh3i",hd=e=>{let{recipeModal:n,setRecipeModal:r}=e;const[i,s]=t.useState({}),[o,a]=t.useState(""),[c,l]=t.useState("");return t.useEffect((()=>{(async()=>{const e=await fs("item",n.id),{recipe:t,image:r,title:i}=e;console.log("Receita   ",t),t&&s(t),r&&i&&(a(r),l(i))})()}),[]),(0,ys.jsxs)("div",{className:od,children:[(0,ys.jsx)("div",{className:ad,children:(0,ys.jsx)("button",{onClick:()=>r((e=>({...e,openModal:!1}))),children:"x"})}),i.FinalingridientsList?(0,ys.jsxs)("div",{children:[(0,ys.jsx)("div",{className:cd,children:o&&(0,ys.jsx)("img",{src:o,alt:"image"})}),Array.isArray(i.FinalingridientsList)?(0,ys.jsxs)(ys.Fragment,{children:[(0,ys.jsx)("h3",{children:"Ingredientes"}),(0,ys.jsx)("ul",{children:i.FinalingridientsList.map(((e,t)=>(0,ys.jsx)("li",{children:"string"===typeof e?e:"".concat(e.amount).concat(e.unitOfMeasurement," ").concat(e.name)},t)))})]}):(0,ys.jsxs)(ys.Fragment,{children:[(0,ys.jsx)("h3",{children:"Ingredientes organizados"}),(0,ys.jsx)("div",{children:Object.entries(i.FinalingridientsList).map((e=>{let[t,n]=e;return(0,ys.jsxs)("div",{children:[(0,ys.jsx)("h4",{children:t.toUpperCase()}),(0,ys.jsx)("ul",{children:n.map(((e,t)=>(0,ys.jsxs)("li",{children:[e.name," ",e.amount,e.unitOfMeasurement]},t)))})]},t)}))})]}),(0,ys.jsxs)("h3",{className:ud,children:["Preparo do ",c]}),(0,ys.jsx)("p",{children:i.Explanation})]}):(0,ys.jsx)("div",{className:ld,children:(0,ys.jsx)("p",{className:dd,children:"N\xe3o temos uma receita"})})]})},fd=e=>{let{item:n,request:r,descontFinalPrice:i}=e;const[s,o]=t.useState(null),[a,c]=t.useState({}),[l,u]=t.useState(!1),[d,h]=t.useState(!0),[f,p]=t.useState({name:"",dateTime:"",idUserVoucher:"",phone:"",cpf:"",requestDone:[]}),m=(0,as.getFirestore)(is);t.useEffect((()=>{console.log("item   ",n),r&&(async()=>{const e=await fs("user",n.idUser);if(e&&"anonimo"!==e.name){h(!1),o("registrated");const t=await g(n.idUser);c(e),h(!!t)}})()}),[]);const g=async e=>{const t=(await hs("voucherPromotion")).filter((t=>t.idUserVoucher===e));return console.log("Retorna todos os clientes que j\xe1 usaram o voucher   ",t),t.length>0};t.useEffect((()=>{f.name&&f.requestDone&&f.requestDone.length>0&&(async()=>{try{const e=await(0,as.addDoc)((0,as.collection)(m,"voucherPromotion"),f);console.log("Documento adicionado com sucesso!",e),h(!0),i(3,n.id)}catch(e){console.error("Erro ao adicionar o documento:",e)}})()}),[f]);return(0,ys.jsxs)("div",{className:"button=customer=profile-container",children:[l&&(0,ys.jsx)(Ll,{onClose:()=>u(!1),msg:"Voc\xea est\xe1 prestes a resgatar o Voucher desse cliente",onConfirm:()=>{const e=[];if(r&&r.length>0)for(let t=0;t<r.length;t++)e.push(r[t].name);p({name:n.name,dateTime:n.dateTime,discount:3,idUserVoucher:n.idUser,cpf:a.cpf,phone:a.phone,requestDone:e}),u(!1)}}),(0,ys.jsx)("button",{disabled:d,className:"".concat(s?"registrated":""," button-profile"),onClick:()=>{u(!0)},children:s?a.name:"Cliente"})]})},pd="MessagePromotions_popup__iPS9C",md="MessagePromotions_popupContent__nBXhr",gd="MessagePromotions_buttons__zpW-n",vd=e=>{let{message:t,setClose:n,onContinue:r,AddPromotion:i,item:s}=e;return(0,ys.jsx)("div",{className:pd,children:(0,ys.jsxs)("div",{className:md,children:[(0,ys.jsx)("p",{children:t}),(0,ys.jsxs)("div",{className:gd,children:[(0,ys.jsx)("button",{onClick:()=>{n(!1)},children:"Cancelar"}),i&&(0,ys.jsx)("button",{onClick:()=>{r(),n(!1)},children:"Continuar"})]})]})})},yd=()=>{const e=(0,as.getFirestore)(is),[n,r]=t.useState([]),[i,s]=t.useState(!1),[o,a]=t.useState(null),c=t.useContext(ws),l=Y(),[u,d]=t.useState({openModal:!1,id:""}),[h,f]=t.useState([]),[p,m]=t.useState(""),[g,v]=t.useState([]),[y,b]=t.useState(!1),[w,x]=t.useState(""),[_,S]=t.useState(!1),[E,C]=t.useState({}),[k,T]=t.useState(""),[I,j]=t.useState(0),[N,P]=t.useState(null);t.useEffect((()=>{const e=us("request",(e=>{let t=e.filter((e=>!1===e.orderDelivered));t=ks(t),r(t)}));return O(),()=>e()}),[]);const D=async()=>{let e=await hs("request");e=e.filter((e=>!1===e.orderDelivered)),e=ks(e),r(e)},O=async()=>{try{const[e,t]=await Promise.all([hs("Promotions"),hs("BenefitedCustomer")]);console.log("promotionsData      ",e);const n=new Date,r=e.filter((e=>{const t=new Date(e.startDate),r=new Date(e.finalDate);return n>=t&&n<r}));f(r),v(t)}catch(e){console.error("Error fetching data:",e)}},A=()=>{s(!1)},R=(t,n)=>{n.paymentMethod=t,(0,as.setDoc)((0,as.doc)(e,"request",n.id),n).then((()=>{console.log("Document successfully updated !"),D()})).catch((e=>{console.log(e)}))},M=async(t,n)=>{try{const r=(0,as.doc)(e,"request",n),i=await(0,as.getDoc)(r);if(i.exists()){const e=i.data().finalPriceRequest-t;await(0,as.updateDoc)(r,{finalPriceRequest:e}),console.log("finalPriceRequest atualizado com sucesso para:",e)}else console.log("Documento n\xe3o encontrado!")}catch(r){console.error("Erro ao atualizar finalPriceRequest:",r)}},L=async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Editado",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(t)||(t=[t]),!r){const e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();r="".concat(t,"/").concat(n,"/").concat(i)}const i=await hs("stock");for(let s=0;s<t.length;s++){let o=t[s];const a=null===i||void 0===i?void 0:i.find((e=>e.product===o.product));if(a){const t=a.totalCost,i=a.totalVolume,s="Editado"===n?0:o.totalCost,c="Editado"===n?Number(o.amount):Number(a.amount)+Number(o.amount),l="Editado"===n?0:o.totalVolume,u=o.unitOfMeasurement;"Editado"!==n&&/^[^\d]+$/.test(n)&&isNaN(n)&&(o.totalCost=t-t/i,o.totalVolume=(o.totalVolume||0)+(a.totalVolume||0)),o.UsageHistory=a.UsageHistory||[],o.UsageHistory.push(U(a,n,r,c,s,u,l,i,t,o.totalCost,o.totalVolume)),o=F(o);const d=(0,as.doc)(e,"stock",a.id);await(0,as.updateDoc)(d,o)}else o.UsageHistory=[U(o,n,r,0,o.totalCost,o.totalVolume)],o=F(o),await(0,as.addDoc)((0,as.collection)(e,"stock"),o)}},F=e=>e&&"object"===typeof e&&!Array.isArray(e)?Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return void 0!==n&&null!==n})).map((e=>{let[t,n]=e;return[t,F(n)]}))):e,U=(e,t,n,r,i,s,o,a,c,l,u)=>({date:n,outputProduct:Number(o).toFixed(2),category:t||0,unit:s,package:r,inputProduct:0,cost:i,previousVolume:a,previousCost:c,ContentsInStock:u,totalResourceInvested:Number(l).toFixed(2)}),z=(e,t,n)=>{n.minimumValue?q(t,e,n):(S(!0),e.benefitUsed.push({date:t.dateTime,nomeDaPromocao:n.title,discount:n.discount,listaDeProdutos:t.request.map((e=>e.name))}),b(!0),S(!0),x("Voc\xea est\xe1 prestes a resgatar a promo\xe7\xe3o ".concat(n.title," para o cliente ").concat(e.name,", concedendo um desconto de ").concat(n.discount," reais. As regras s\xe3o:").concat(n.rules," ")),j(n.discount),m(""),T("edit"),C(e),n.minimumValue&&(e.score+=Number(t.finalPriceRequest),q(t,e,n)))},V=async()=>{if("add"===k){var t;const r=Number(N.finalPriceRequest)-Number(E.benefitUsed[0].discount);var n;if(N.finalPriceRequest=r<0?0:r,E.score&&(E.score=.1),Array.isArray(E.benefitUsed)&&E.benefitUsed.length>0&&Array.isArray(E.promotionTitle)&&!E.promotionTitle.includes(null===(t=E.benefitUsed[E.benefitUsed.length-1])||void 0===t?void 0:t.nomeDaPromocao))E.promotionTitle.push(null===(n=E.benefitUsed[E.benefitUsed.length-1])||void 0===n?void 0:n.nomeDaPromocao);(0,as.setDoc)((0,as.doc)(e,"request",N.id),N);const i=await(0,as.addDoc)((0,as.collection)(e,"BenefitedCustomer"),E);console.log("Document written with ID: ",i.id),O(),D()}else if("edit"===k){var r;const t=Number(N.finalPriceRequest)-Number(I);var i;if(N.finalPriceRequest=t<0?0:t,E.score&&(E.score=.1),Array.isArray(E.benefitUsed)&&E.benefitUsed.length>0&&Array.isArray(E.promotionTitle)&&!E.promotionTitle.includes(null===(r=E.benefitUsed[E.benefitUsed.length-1])||void 0===r?void 0:r.nomeDaPromocao))E.promotionTitle.push(null===(i=E.benefitUsed[E.benefitUsed.length-1])||void 0===i?void 0:i.nomeDaPromocao);const n=F(E);C(n),(0,as.setDoc)((0,as.doc)(e,"request",N.id),N);const s=(0,as.doc)(e,"BenefitedCustomer",E.id);await(0,as.updateDoc)(s,E),console.log("Document updated with ID: ",E.id),O(),D()}},q=(e,t,n)=>{const{finalPriceRequest:r}=e,{minimumValue:i}=n;return t.score?(t.score+=Number(e.finalPriceRequest),t.score>=n.minimumValue?(b(!0),S(!0),x("Voc\xea est\xe1 prestes a resgatar a promo\xe7\xe3o ".concat(n.title," para o cliente ").concat(e.name,", concedendo um desconto de ").concat(n.discount," reais. As regras s\xe3o:").concat(n.rules," ")),t.benefitUsed.push({date:e.dateTime,nomeDaPromocao:n.title,discount:n.discount,listaDeProdutos:e.request.map((e=>e.name))}),m(""),j(n.discount),T("edit"),void C(t)):(b(!0),t.benefitUsed.push({date:e.dateTime,nomeDaPromocao:n.title,discount:n.discount,listaDeProdutos:e.request.map((e=>e.name))}),C(t),x("O cliente ".concat(e.name," ainda n\xe3o alcan\xe7ou o valor m\xednimo para resgatar esse desconto. O valor atual acumulado pelo cliente referente a essa  promo\xe7\xe3o \xe9 de  ").concat(t.score," e o valor m\xednimo necess\xe1rio \xe9 de ").concat(n.minimumValue," reais. Ele ainda deve consumir o valor de ").concat(n.minimumValue-t.score,". As regras s\xe3o:").concat(n.rules," ")),S(!1),m(""),void(1===t.benefitUsed.length?B(t,"add"):B(t,"edit")))):r>=i?(t.benefitUsed.push({date:e.dateTime,nomeDaPromocao:n.title,discount:n.discount,listaDeProdutos:e.request.map((e=>e.name))}),b(!0),S(!0),x("Voc\xea est\xe1 prestes a resgatar a promo\xe7\xe3o ".concat(n.title," para o cliente ").concat(e.name,", concedendo um desconto de ").concat(n.discount," reais. As regras s\xe3o:").concat(n.rules," ")),m(""),T("add"),void C(t)):(t.benefitUsed.push({date:e.dateTime,nomeDaPromocao:n.title,discount:n.discount,listaDeProdutos:e.request.map((e=>e.name))}),b(!0),t.score=Number(r),C(t),x("O cliente ".concat(e.name," ainda n\xe3o alcan\xe7ou o valor m\xednimo para resgatar esse desconto. O valor atual acumulado pelo cliente referente a essa  promo\xe7\xe3o \xe9 de  ").concat(e.finalPriceRequest," e o valor m\xednimo necess\xe1rio \xe9 de ").concat(n.minimumValue," reais. Ele ainda deve consumir o valor de ").concat(n.minimumValue-r,". As regras s\xe3o:").concat(n.rules," ")),S(!1),m(""),console.log(t),void(1===t.benefitUsed.length?B(t,"add"):B(t,"edit")))},B=async(t,n)=>{if("edit"===n){const n=(0,as.doc)(e,"BenefitedCustomer",t.id);return await(0,as.updateDoc)(n,t),console.log("Document updated with ID: ",t.id),O(),void D()}if("add"===n){const n=await(0,as.addDoc)((0,as.collection)(e,"BenefitedCustomer"),t);console.log("Document written with ID: ",n.id),O(),D()}},H=t=>{"anonimo"===t.name&&ds("user",t.idUser),(async e=>{const t={CostPerUnit:0,amount:0,product:"",totalCost:0,totalVolume:0,unitOfMeasurement:"",columePerUnit:0},n=e.dateTime,{request:r}=e;for(let i=0;i<r.length;i++){const e=r[i],s=e.name,{FinalingridientsList:o}=e.recipe;if(Array.isArray(o[e.size]))for(let r=0;r<o[e.size].length;r++){const i=o[e.size][r];t.totalVolume=-Number(i.amount.replace(",",".")),t.product=i.name,t.unitOfMeasurement=i.unitOfMeasurement;const a=[t];await L(a,s,n)}else for(let r=0;r<o.length;r++){const e=o[r];t.totalVolume=-Number(e.amount.replace(",",".")),t.product=e.name,t.unitOfMeasurement=e.unitOfMeasurement;const i=[t];await L(i,s,n)}}})(t),t.orderDelivered=!0,(0,as.setDoc)((0,as.doc)(e,"request",t.id),t).then((()=>{console.log("Document successfully updated !"),D()})).catch((e=>{console.log(e)}))};return(0,ys.jsxs)("div",{children:[(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:"Cozinha"})}),n&&n.map(((t,n)=>(0,ys.jsxs)("div",{className:sd.containerRequestListToBePrepared,children:[(0,ys.jsxs)("div",{className:sd.userContainer,children:[(0,ys.jsxs)("div",{children:[(0,ys.jsxs)("p",{children:[(0,ys.jsx)("span",{children:"Nome"})," ",Ss(t.name)]}),(0,ys.jsxs)("p",{children:[(0,ys.jsx)("span",{children:"Pedido"}),": ",Es(t.id,4)," ;"]}),(0,ys.jsxs)("p",{children:[(0,ys.jsx)("span",{children:"Ordena\xe7\xe3o"}),": ",t.countRequest]}),(0,ys.jsxs)("p",{children:[(0,ys.jsx)("span",{children:"Data"})," ",t.dateTime]}),(0,ys.jsxs)("h2",{children:["Valor final R$ ",t.finalPriceRequest,",00"]}),(0,ys.jsx)("div",{className:sd.customerProfileButton,children:(0,ys.jsx)(fd,{item:t,request:t.request,descontFinalPrice:M})}),(0,ys.jsx)(id,{item:t,onPaymentMethodChange:R}),(0,ys.jsx)("div",{className:sd.promotionSelect,children:(0,ys.jsxs)("select",{name:"selectedPromotion",value:p,onChange:e=>(async(e,t)=>{const n=Number(e.target.value),r=h[n],{title:i,reusable:s,rules:o,discount:a,minimumValue:c}=r;P(t),m(n);const l={name:t.name,idUser:t.idUser,promotionTitle:[i],dateTime:t.dateTime,currentFinalPriceRequest:t.finalPriceRequest,benefitUsed:[]},u=g.find((e=>e.idUser===t.idUser));if(!u)return b(!0),S(!0),void(c?q(t,l,r):(x("Voc\xea est\xe1 prestes a resgatar a promo\xe7\xe3o ".concat(i," para o cliente ").concat(t.name," concedendo um desconto de ").concat(a," reais. As regras s\xe3o:").concat(o," ")),l.benefitUsed.push({date:t.dateTime,nomeDaPromocao:i,discount:r.discount,listaDeProdutos:t.request.map((e=>e.name))}),m(""),C(l),T("add")));if(u){if("false"===s){const e=u.promotionTitle.find((e=>e===i));if(e){var d;S(!1),b(!0);const e=(null===(d=u.benefitUsed.find((e=>e.nomeDaPromocao===i)))||void 0===d?void 0:d.listaDeProdutos)||[];return m(""),void x("O cliente ".concat(u.name," j\xe1 usou a promo\xe7\xe3o ").concat(i," na data ").concat(t.dateTime," na compra dos itens ").concat(e.map((e=>e)).join(", ")))}return void z(u,t,r)}z(u,t,r)}})(e,t),children:[(0,ys.jsx)("option",{value:"",children:"Selecione uma promo\xe7\xe3o "}),h&&h.length>0&&h.map(((e,t)=>(0,ys.jsx)("option",{value:t,children:e.title},t)))]})})]}),(0,ys.jsxs)("div",{className:sd.btnStatus,children:[(0,ys.jsx)("button",{onClick:()=>{return e=t.id,s(!0),void a(e);var e},className:sd.pendent,children:"Cancelar pedido"}),(0,ys.jsx)("div",{children:i&&(0,ys.jsx)(Ll,{msg:"Voc\xea est\xe1 prestes a excluir esse pedido",onClose:A,onConfirm:()=>(async e=>{const t=await fs("request",e);await ds("request",e),"anonimo"===t.name&&await ds("user",t.idUser),s(!1)})(o)})}),(0,ys.jsx)("div",{children:y&&(0,ys.jsx)(vd,{message:w,AddPromotion:_,setClose:b,onContinue:V})}),(0,ys.jsx)("button",{disabled:!t.paymentMethod,className:t.paymentDone?sd.done:sd.pendent,onClick:()=>(t=>{t.paymentDone=!0,(0,as.setDoc)((0,as.doc)(e,"request",t.id),t).then((()=>{console.log("Document successfully updated !"),D(),c.setUserNewRequest(t),l("/print")})).catch((e=>{console.log(e)}))})(t),children:"Pago"}),(0,ys.jsx)("button",{disabled:!t.paymentDone,className:t.done?sd.pendent:sd.done,onClick:()=>(t=>{t.done=!1,(0,as.setDoc)((0,as.doc)(e,"request",t.id),t).then((()=>{console.log("Document successfully updated !"),D()})).catch((e=>{console.log(e)}))})(t),children:"Pronto"}),(0,ys.jsx)("button",{disabled:t.done,className:t.orderDelivered?sd.done:sd.pendent,onClick:()=>H(t),children:"Entregue"})]})]}),t.request&&t.request.map(((e,t)=>(0,ys.jsxs)("div",{className:sd.requestItem,children:[u.openModal&&(0,ys.jsx)(hd,{setRecipeModal:d,recipeModal:u}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("h5",{children:e.name}),(0,ys.jsx)("p",{children:Es(e.id,4)}),e.category&&(0,ys.jsxs)("p",{className:sd.category,children:["Categoria ",e.category]}),e.size&&(0,ys.jsxs)("p",{children:["Tamanho:",(0,ys.jsx)("strong",{children:e.size})]}),(0,ys.jsx)("h5",{children:"Acompanhamento"}),(0,ys.jsx)("div",{className:sd.sideDishesList,children:e.sideDishes&&e.sideDishes.length>0?e.sideDishes.map(((e,t)=>(0,ys.jsxs)("p",{children:[e.name,","]},t))):(0,ys.jsx)("p",{children:"N\xe3o tem acompanhamento"})})]}),(0,ys.jsxs)("div",{className:sd.imageButton,children:[(0,ys.jsx)("img",{src:e.image,alt:"123"}),(0,ys.jsx)("button",{onClick:()=>d({openModal:!0,id:e.id}),className:"btn btn-warning",children:"Receita"})]})]},t)))]},t.id))),";"]})},bd=e=>{let{movingItem:n}=e;const[r,i]=t.useState(!1),s=t.useRef();return t.useEffect((()=>{if(n)return i(!0),console.log("movingItem   ",n),s.current=setTimeout((()=>{i(!1)}),7e3),()=>clearTimeout(s.current)}),[n]),(0,ys.jsx)("div",{children:r&&n&&(0,ys.jsxs)("div",{className:"popup ".concat(r?"show popup-animate":""),children:[(0,ys.jsx)("h1",{children:n.name}),(0,ys.jsx)("h1",{className:"bord",children:Es(n.id,4)}),(0,ys.jsx)("h3",{children:"Seu pedido j\xe1 est\xe1 pronto"})]})})},wd=n.p+"static/media/duelosteve.1e369fa81a43e3380b86.mp3",xd=()=>{const[e,n]=t.useState([]),[r,i]=t.useState([]),[s,o]=t.useState(null),a=t.useRef(r),c=t.useRef(e),l=(0,as.getFirestore)(is);t.useEffect((()=>{const e=us("request",(e=>{let t=e.filter((e=>e.done));t=ks(t);let r=e.filter((e=>!e.done&&!e.orderDelivered));r=ks(r),n(t),i(r)}));return()=>e()}),[l]),t.useEffect((()=>{const t=r.length!==a.current.length,n=e.length!==c.current.length;if(t&&n){const t=c.current.find((t=>!e.some((e=>e.id===t.id))));t&&(o(t),console.log("Objeto movido:",t),u()),a.current=r,c.current=e}t&&(a.current=r),n&&(c.current=e)}),[r.length,e.length]);const u=()=>{new Audio(wd).play()};return(0,ys.jsxs)("div",{className:"order-queue-container",children:[(0,ys.jsxs)("div",{className:"title-btn-container",children:[(0,ys.jsx)("h1",{children:" Fila de pedidos"}),(0,ys.jsx)(bl,{to:"/",children:"X"})]}),(0,ys.jsx)("p",{children:"Acompanhe abaixo o andamento e o status do seu pedido"}),s&&(0,ys.jsx)(bd,{movingItem:s}),(0,ys.jsxs)("div",{className:"list-columns",children:[(0,ys.jsxs)("div",{children:[(0,ys.jsx)("h3",{children:"Em preparo"}),e&&e.length>0&&e.map(((e,t)=>(0,ys.jsx)("div",{className:"border-red",children:(0,ys.jsxs)("div",{className:"horizont-line-queue ",children:[(0,ys.jsxs)("p",{children:["Nome: ",Ss(e.name)]}),(0,ys.jsxs)("p",{children:[(0,ys.jsx)("span",{children:"Pedido"}),": ",Es(e.id,4)," ;"," "]}),(0,ys.jsxs)("p",{children:[(0,ys.jsx)("span",{children:"Ord"}),": ",e.countRequest," ;"," "]})]},t)})))]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("h3",{children:"Pronto"}),r&&console.log("PEDIDOS FEITOS   ",r)&&r.length>0&&r.map(((e,t)=>(0,ys.jsx)("div",{className:"border-green",children:(0,ys.jsxs)("div",{className:"horizont-line-queue",children:[(0,ys.jsx)("p",{children:Ss(e.name)}),(0,ys.jsxs)("p",{children:[(0,ys.jsx)("span",{children:"Pedido"}),": ",Es(e.id,4)," ;"]}),(0,ys.jsxs)("p",{children:[(0,ys.jsx)("span",{children:"Ord"}),": ",e.countRequest," ;"," "]})]},e.id)})))]})]})]})},_d=()=>{const[e,n]=t.useState([]),[r,i]=t.useState({category:"",search:""});return t.useEffect((()=>{const e=us("request",(e=>{const t=ks(e,"direction");n(t)}));return()=>e()}),[]),(0,ys.jsxs)("div",{className:"container-request-list",children:[(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:"Lista de Pedidos"})}),e&&e.map((e=>(0,ys.jsxs)("div",{className:"request",children:[(0,ys.jsxs)("div",{className:"customer",children:[(0,ys.jsx)("h3",{children:"Cliente"}),(0,ys.jsxs)("p",{className:"customer-name",children:[(0,ys.jsx)("span",{children:"Nome"})," ",e.name]}),(0,ys.jsxs)("p",{className:"customer-request",children:[(0,ys.jsx)("span",{children:"Pedido"})," ",Es(e.id,5),"/",(0,ys.jsx)("strong",{children:e.countRequest})]}),(0,ys.jsxs)("p",{children:[(0,ys.jsx)("span",{children:"Tipo de pagamento"})," ",e.paymentMethod]}),(0,ys.jsxs)("p",{children:[(0,ys.jsx)("span",{children:"Valor Total R$ "})," ",e.finalPriceRequest,",00"]}),(0,ys.jsxs)("p",{children:[" ",(0,ys.jsx)("span",{children:"Data"})," ",e.dateTime]}),(0,ys.jsxs)("p",{className:"idUser",children:[(0,ys.jsx)("span",{})," ",e.idUser]})]}),(0,ys.jsx)("div",{children:e.request&&e.request.map(((e,t)=>(0,ys.jsxs)("div",{className:"dishes",children:[(0,ys.jsxs)("div",{children:[(0,ys.jsxs)("h3",{children:["item ",t+1]}),(0,ys.jsx)("p",{children:e.name}),(0,ys.jsxs)("p",{children:["R$ ",e.finalPrice,",00"]})]}),(0,ys.jsxs)("div",{className:"sidedishes",children:[(0,ys.jsx)("p",{children:(0,ys.jsx)("h3",{children:"Adicionais"})}),e.sideDishes&&e.sideDishes.map(((e,t)=>(0,ys.jsx)("div",{children:(0,ys.jsx)("p",{children:e.name})})))]})]},t)))})]},e.id)))]})},Sd={formContainer:"CreatePromotions_formContainer__abPRx",promotionForm:"CreatePromotions_promotionForm__p5d8V",rulesField:"CreatePromotions_rulesField__AWNyh",dateField:"CreatePromotions_dateField__edJlp",buttonContainer:"CreatePromotions_buttonContainer__f9RLv"},Ed=()=>{const[e,n]=(0,t.useState)({title:"",discount:"",finalDate:"",startDate:"",minimumValue:"",reusable:"",rules:""}),r=(0,ve.Mq)(),i=(0,as.getFirestore)(r),[s,o]=(0,t.useState)(""),[a,c]=(0,t.useState)([]);t.useEffect((()=>{l()}),[]);const l=async()=>{const e=await hs("Promotions");console.log("Promotions",e),c(e)};t.useEffect((()=>{if(s){const e=a.find((e=>e.title===s));n({title:e.title,discount:e.discount,finalDate:e.finalDate,startDate:e.startDate,minimumValue:e.minimumValue,reusable:e.reusable,rules:e.rules})}}),[s]);const u=t=>{const{name:r,value:i}=t.target;n({...e,[r]:i})};return(0,ys.jsx)("div",{className:Sd.formContainer,children:(0,ys.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{if(s){const t=a.find((e=>e.title===s)),n=(0,as.doc)(i,"Promotions",t.id);await(0,as.updateDoc)(n,e),console.log("Document updated with ID: ",t.id),l()}else{const t=await(0,as.addDoc)((0,as.collection)(i,"Promotions"),e);l(),console.log("Document written with ID: ",t.id)}}catch(t){console.error("Error updating or adding document: ",t)}o(""),n({title:"",discount:"",finalDate:"",startDate:"",minimumValue:"",reusable:"",rules:""})},className:Sd.promotionForm,children:[(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:"Promo\xe7\xf5es"})}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("label",{children:"Titulo da Promo\xe7\xe3o:"}),(0,ys.jsx)("input",{type:"text",name:"title",value:e.title,onChange:u})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("label",{children:"Desconto:"}),(0,ys.jsx)("input",{type:"text",name:"discount",value:e.discount,onChange:u})]}),(0,ys.jsxs)("div",{className:Sd.dateField,children:[(0,ys.jsxs)("div",{children:[(0,ys.jsx)("label",{children:"Data Incial:"}),(0,ys.jsx)("input",{type:"date",name:"startDate",value:e.startDate,onChange:u})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("label",{children:"Data Final:"}),(0,ys.jsx)("input",{type:"date",name:"finalDate",value:e.finalDate,onChange:u})]})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("label",{children:"Selecione uma promo\xe7\xe3o:"}),(0,ys.jsxs)("select",{name:"selectedPromotion",value:s,onChange:e=>{o(e.target.value)},children:[(0,ys.jsx)("option",{value:"",children:"Selecione uma promo\xe7\xe3o para editar"}),a&&a.length>0&&a.map(((e,t)=>(0,ys.jsx)("option",{value:e.title,children:e.title},t)))]})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("label",{children:"Reuso:"}),(0,ys.jsxs)("select",{name:"reusable",value:e.reusable,onChange:u,children:[(0,ys.jsx)("option",{value:"",children:"Reuso"}),(0,ys.jsx)("option",{value:"true",children:"Reusable"}),(0,ys.jsx)("option",{value:"false",children:"Not Reusable"})]})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)("label",{children:"Valor m\xednimo da promo\xe7\xe3o para resgate do desconto:"}),(0,ys.jsx)("input",{type:"text",name:"minimumValue",value:e.minimumValue,onChange:u})]}),(0,ys.jsxs)("div",{className:Sd.rulesField,children:[(0,ys.jsx)("label",{children:"Regras da promo\xe7\xe3o:"}),(0,ys.jsx)("textarea",{name:"rules",value:e.rules,onChange:u})]}),(0,ys.jsx)("div",{className:Sd.buttonContainer,children:(0,ys.jsx)("button",{type:"submit",className:Sd.button,children:s?"Editar Promo\xe7\xe3o":"Criar Promo\xe7\xe3o"})})]})})},Cd="customerList_customerListContainer__FwpaI",kd="customerList_searchContainer__+9m1L",Td="customerList_buttonTitleContainer__biwXP",Id=e=>{let{oneClient:n,setShowPopup:r}=e;const[i,s]=t.useState(!1),[o,a]=t.useState(null),c=(0,as.getFirestore)(is);t.useEffect((()=>{n&&("anonimo"===n.name?s(!1):(console.log("CLIENTE  ",n),s(!0),async function(e){try{const t=(0,as.collection)(c,"request"),n=(0,as.query)(t,(0,as.where)("idUser","==",e)),r=await(0,as.getDocs)(n);return r.docs.map((e=>({id:e.id,...e.data()})))}catch(t){throw console.error("Erro ao buscar pedidos do usu\xe1rio:",t),t}}(n.id).then((e=>{console.log("Pedidos do usu\xe1rio:",e),a(e)})).catch((e=>{console.error("Erro:",e)}))))}),[n]);const l=(e,t)=>{let n="".concat(t);"Phone:"===e&&(n=t.replace(/\D/g,"")),navigator.clipboard.writeText(n)};return(0,ys.jsxs)("div",{className:"container-eachCustomer",children:[(0,ys.jsx)("div",{className:"btn-container",children:(0,ys.jsx)("button",{onClick:()=>r(!1),children:"X"})}),i?(0,ys.jsxs)("div",{children:[(0,ys.jsx)("h3",{children:"Cliente Selecionado"}),(0,ys.jsxs)("p",{onClick:()=>l("Nome: ",n.name),children:["Nome: ",(0,ys.jsx)("span",{children:n.name})]}),(0,ys.jsxs)("p",{onClick:()=>l("Anivers\xe1rio: ",n.birthday),children:["Anivers\xe1rio: ",(0,ys.jsx)("span",{children:n.birthday})]}),(0,ys.jsxs)("p",{onClick:()=>l("CPF: ",n.cpf),children:["CPF: ",(0,ys.jsx)("span",{children:n.cpf})]}),(0,ys.jsxs)("p",{onClick:()=>l("EMAIL: ",n.email),children:["EMAIL: ",(0,ys.jsx)("span",{children:n.email})]}),(0,ys.jsxs)("p",{onClick:()=>l("Phone:",n.phone),children:["Phone: ",(0,ys.jsx)("span",{children:n.phone})]}),o&&o.map((e=>(0,ys.jsxs)("div",{className:"Allrequests",children:[(0,ys.jsxs)("div",{className:"customer",children:[(0,ys.jsxs)("p",{children:[(0,ys.jsx)("span",{children:"Valor Total R$ "})," ",e.finalPriceRequest,",00"]}),(0,ys.jsxs)("p",{children:[" ",(0,ys.jsx)("span",{children:"Data"})," ",e.dateTime]})]}),(0,ys.jsx)("div",{children:e.request&&e.request.map(((e,t)=>(0,ys.jsxs)("div",{className:"dishes",children:[(0,ys.jsxs)("div",{children:[(0,ys.jsxs)("h3",{children:["item ",t+1]}),(0,ys.jsx)("p",{children:e.name}),(0,ys.jsxs)("p",{children:["R$ ",e.finalPrice,",00"]})]}),(0,ys.jsxs)("div",{className:"sidedishes",children:[(0,ys.jsx)("p",{children:(0,ys.jsx)("h3",{children:"Adicionais"})}),e.sideDishes&&e.sideDishes.map(((e,t)=>(0,ys.jsx)("div",{children:(0,ys.jsx)("p",{children:e.name})})))]})]})))})]},e.id)))]}):(0,ys.jsx)("h3",{className:"advert-message",children:"N\xe3o temos os dados desse cliente"})]})},jd=()=>{const[e,n]=t.useState(null),[r,i]=t.useState(""),[s,o]=t.useState([]),[a,c]=t.useState({}),[l,u]=t.useState(!1),[d,h]=t.useState(!1),[f,p]=t.useState(""),[m,g]=t.useState(!1);t.useEffect((()=>{(async()=>{const e=await hs("user");n(e),o(e)})()}),[]),t.useEffect((()=>{(async()=>{const e=await hs("user");n(e),o(e)})()}),[m]);const v=(e,t)=>{p(e),h(!0),t&&f.name===e.name&&(h(!1),ds("user",e.id),g((e=>!e)))};return(0,ys.jsxs)("div",{className:Cd,children:[l&&(0,ys.jsx)(Id,{oneClient:a,setShowPopup:u}),(0,ys.jsx)("div",{className:kd,children:(0,ys.jsx)("input",{type:"text",value:r,onChange:e=>{let{target:t}=e;const r=t.value.toLowerCase();if(i(r),""===r)n(s);else{const e=s.filter((e=>{const t=e.name&&e.name.toLowerCase().includes(r),n=e.cpf&&e.cpf.toLowerCase().includes(r),i=e.birthday&&e.birthday.toLowerCase().includes(r);return t||n||i}));n(e)}},placeholder:"Busque pelo nome "})}),(0,ys.jsxs)("div",{className:Td,children:[e&&e.length>0&&(0,ys.jsxs)("h5",{children:[(0,ys.jsx)("span",{children:e.length})," Clientes"]}),(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:"Lista de Clientes"})}),(0,ys.jsx)("button",{onClick:async()=>{const e=(await hs("user")).filter((e=>"anonimo"===e.name));e.length>0&&await Promise.all(e.map((e=>ds("user",e.id))))},children:"Excluir Anonimos"})]}),(0,ys.jsxs)("table",{striped:!0,bordered:!0,hover:!0,children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Nome"}),(0,ys.jsx)("th",{children:"CPF"}),(0,ys.jsx)("th",{children:"Celular"}),(0,ys.jsx)("th",{children:"Aniver\xe1rio"}),(0,ys.jsx)("th",{children:"Excluir"})]})}),(0,ys.jsx)("tbody",{children:e&&e.length>0&&e.map(((e,t)=>(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{onClick:()=>(e=>{c(e),u(!0)})(e),children:Ss(e.name)}),(0,ys.jsx)("td",{children:e.cpf}),(0,ys.jsx)("td",{children:e.phone}),(0,ys.jsx)("td",{children:e.birthday}),(0,ys.jsxs)("td",{children:[d&&(0,ys.jsx)(Ll,{msg:"Voc\xea est\xe1 prestes a excluir ".concat(f.name),item:f,onConfirm:v,onClose:()=>h(!1)}),(0,ys.jsx)("button",{onClick:()=>v(e,!1),children:"Excluir"})]})]},t)))})]})]})},Nd={customerListContainer:"ExpensesManegementList_customerListContainer__i-k5X",containerAddExpenses:"ExpensesManegementList_containerAddExpenses__s5Phn",btnAdd:"ExpensesManegementList_btnAdd__Ztufs",titleTable:"ExpensesManegementList_titleTable__gZjHJ",openPopup:"ExpensesManegementList_openPopup__OI9i3",containerExpensesManegementTable:"ExpensesManegementList_containerExpensesManegementTable__MXFP-"},Pd="AddExpensesForm_containerAddExpensesForm__E5UUa",Dd="AddExpensesForm_formProduct__8h10V",Od="AddExpensesForm_selectform__OUmPc",Ad="AddExpensesForm_ContainerTableIngredients__frE6r",Rd=e=>{let{setShowPopup:n,setRefreshData:r,obj:i}=e;const[s,o]=t.useState({name:"",value:0,dueDate:"",paymentDate:"",category:"",account:"",provider:"",confirmation:0,items:[]}),[a,c]=t.useState({product:"",amount:0,CostPerUnit:0,totalCost:0,volumePerUnit:0,totalVolume:0,operationSupplies:!1,unitOfMeasurement:""}),[l,u]=t.useState([]),[d,h]=t.useState(null),[f,p]=t.useState(null),[m,g]=t.useState(null),[v,y]=t.useState(0),b=(0,as.getFirestore)(is);t.useEffect((()=>{(async()=>{const[e,t,n]=await Promise.all([hs("product"),hs("provider"),hs("expenses")]);e&&e.length>0&&h(w(e)),n&&n.length>0&&g(w(n)),t&&t.length>0&&p(w(t))})()}),[]);const w=e=>e.sort(((e,t)=>e.name.localeCompare(t.name)));t.useEffect((()=>{if(l){let e=0;l.forEach((t=>{e+=t.totalCost})),y(e)}x()}),[l]),t.useEffect((()=>{console.log("total     ",v),o({...s,items:l,value:v,confirmation:v})}),[v]),t.useEffect((()=>{o(i?{name:i.name,value:i.value,dueDate:i.dueDate,paymentDate:i.paymentDate,category:i.category,confirmation:i.confirmation}:{name:"",value:0,dueDate:"",paymentDate:"",category:"",confirmation:0})}),[i]),t.useEffect((()=>{0!==a.CostPerUnit&&0!==a.amount&&c((e=>({...e,totalCost:e.CostPerUnit*e.amount})))}),[a.CostPerUnit,a.amount]),t.useEffect((()=>{0!==a.volumePerUnit&&0!==a.amount&&c((e=>({...e,totalVolume:e.volumePerUnit*e.amount})))}),[a.volumePerUnit,a.amount]),t.useEffect((()=>{console.log("FORM:",s)}),[s]);const x=()=>(0,ys.jsx)("div",{className:Ad,children:(0,ys.jsxs)("table",{children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Produto"}),(0,ys.jsx)("th",{children:"Quantidade"}),(0,ys.jsx)("th",{children:"Custo por unidade"}),(0,ys.jsx)("th",{children:"Custo Total"}),(0,ys.jsx)("th",{children:"Volume"}),(0,ys.jsx)("th",{children:"Unidade de medida"}),(0,ys.jsx)("th",{children:"Excluir"})]})}),(0,ys.jsx)("tbody",{children:l&&l.length>0&&l.map(((e,t)=>(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:e.product}),(0,ys.jsx)("td",{children:e.amount}),(0,ys.jsx)("td",{children:e.CostPerUnit}),(0,ys.jsx)("td",{children:e.totalCost}),(0,ys.jsx)("td",{children:e.volumePerUnit}),(0,ys.jsx)("td",{children:e.unitOfMeasurement}),(0,ys.jsx)("td",{onClick:()=>{return e=t,console.log("Index removido:",e),void u((t=>t.filter(((t,n)=>n!==e))));var e},children:"X"})]},t)))})]})}),_=(e,t,n,r,i,s,o,a,c,l,u)=>({date:n,outputProduct:0,category:t||0,unit:s,package:r,inputProduct:o,cost:i,previousVolume:a,previousCost:c,ContentsInStock:u,totalResourceInvested:l}),S=e=>{const{id:t,value:n}=e.target;o((e=>({...e,[t]:n})))},E=e=>{const{id:t,value:n}=e.target;let r={};return"product"===t?(r=d[n],console.log("Produto selecionado:",r),void c((e=>({...e,product:r?r.name:"",operationSupplies:!!r.operationSupplies,unitOfMeasurement:r?r.unitOfMeasurement:""})))):"amount"===t&&"un"===a.unitOfMeasurement?(console.log(a.unitOfMeasurement),void c((e=>({...e,[t]:n,volumePerUnit:1})))):void c((e=>({...e,[t]:n})))},C=()=>{console.log("To aqui")};return(0,ys.jsxs)("div",{className:Pd,children:[(0,ys.jsx)(Fl,{setClose:n}),(0,ys.jsx)("h1",{children:"Adicione uma nova despesa"}),(0,ys.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),s&&s.items&&s.items.length>0&&(console.log("Formul\xe1rio enviado:",s),async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"000",n=arguments.length>2?arguments[2]:void 0;console.log("objeto recebido   ",e);const r=await hs("stock");for(let i=0;i<e.length;i++){const s=e[i],o=null===r||void 0===r?void 0:r.find((e=>e.product===s.product));if(o){const r=o.totalCost,a=o.totalVolume,c=s.totalCost,l=Number(o.amount)+Number(s.amount),u=s.totalVolume,d=s.unitOfMeasurement;s.totalCost+=o.totalCost||0,s.totalVolume+=o.totalVolume||0,s.UsageHistory=o.UsageHistory||[],s.operationSupplies="operationSupplies"in e[i]&&e[i].operationSupplies,s.UsageHistory.push(_(o,t,n,l,c,d,u,a,r,s.totalCost,s.totalVolume)),console.log("Item atual  ",s);const h=(0,as.doc)(b,"stock",o.id);await(0,as.updateDoc)(h,s)}else{const e=0,r=0,i=s.totalCost,o=Number(s.amount),a=s.totalVolume,c=s.unitOfMeasurement;s.UsageHistory=[_(s,t,n,o,i,c,a,r,e,s.totalCost,s.totalVolume)],await(0,as.addDoc)((0,as.collection)(b,"stock"),s)}}}(s.items,s.account,s.paymentDate)),i){const e=(0,as.doc)(b,"outgoing",i.id);(0,as.updateDoc)(e,s).then((()=>{console.log("Documento atualizado com sucesso!"),r((e=>!e)),console.log("Documento atualizado com sucesso!"),n(!1),o({name:"",value:0,dueDate:"",paymentDate:"",category:"",confirmation:0,items:[]}),i=null,console.log("OBJ  ",i)})).catch((e=>{console.error("Erro ao atualizar o documento:",e)}))}else(0,as.addDoc)((0,as.collection)(b,"outgoing"),s).then((()=>{r((e=>!e)),n(!1),o({name:"",value:0,dueDate:"",paymentDate:"",category:"",confirmation:0}),i=null,console.log("OBJ  ",i)}))},className:"m-1",children:[(0,ys.jsxs)("div",{className:Dd,children:[(0,ys.jsx)("div",{className:Od,children:(0,ys.jsxs)("select",{id:"name",value:s.name,required:!0,onChange:S,onFocus:C,children:[(0,ys.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Selecione uma despesa"}),m&&m.map(((e,t)=>(0,ys.jsx)("option",{value:e.name,children:e.name},t)))]})}),(0,ys.jsx)(Il,{id:"value",autoComplete:"off",required:!0,label:"Valor",value:s.value,type:"number",onFocus:C,onChange:S}),(0,ys.jsx)(Il,{id:"dueDate",autoComplete:"off",required:!0,label:"Vencimento",value:s.dueDate,type:"date",onFocus:C,onChange:S}),(0,ys.jsx)(Il,{id:"paymentDate",autoComplete:"off",required:!0,label:"Data Pagamento",value:s.paymentDate,type:"date",onFocus:C,onChange:S}),(0,ys.jsx)(Il,{id:"confirmation",autoComplete:"off",required:!0,label:"Confirma\xe7\xe3o",value:s.confirmation,type:"number",onFocus:C,onChange:S}),(0,ys.jsx)("div",{className:Od,children:(0,ys.jsxs)("select",{id:"provider",required:!0,onChange:S,children:[(0,ys.jsx)("option",{children:"Selecione um fornecedor"}),f&&f.length>0&&f.map(((e,t)=>(0,ys.jsx)("option",{value:e.provider,children:e.name},t)))]})}),(0,ys.jsx)(Il,{id:"account",autoComplete:"off",className:"account",label:"Nota fiscal",value:s.account,type:"text",onChange:S}),(0,ys.jsx)("div",{className:Od,children:(0,ys.jsxs)("select",{id:"category",value:s.category,required:!0,onChange:S,children:[(0,ys.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Selecione o tipo de custo"}),(0,ys.jsx)("option",{value:"fixed",children:"Fixo"}),(0,ys.jsx)("option",{value:"variable",children:" Vari\xe1vel"})]})})]}),(0,ys.jsxs)("fieldset",{children:[(0,ys.jsx)("legend",{children:"Adicionar Item"}),(0,ys.jsx)("div",{className:Od,children:(0,ys.jsxs)("select",{id:"product",value:null===d||void 0===d?void 0:d.findIndex((e=>e.name===a.product)),onChange:E,children:[(0,ys.jsx)("option",{value:"",children:"Selecione um produto"}),d&&d.map(((e,t)=>(0,ys.jsx)("option",{value:t,children:e.name},t)))]})}),(0,ys.jsx)(Il,{id:"amount",autoComplete:"off",className:"num",label:"Qtd de volumes",value:a.amount,type:"number",onChange:E}),(0,ys.jsx)(Il,{id:"CostPerUnit",autoComplete:"off",className:"num",label:"Custo por vol",value:a.CostPerUnit,type:"number",onChange:E}),(0,ys.jsx)(Il,{id:"totalCost",autoComplete:"off",className:"num",label:"Custo Total",value:a.totalCost,type:"number",onChange:E}),(0,ys.jsx)(Il,{id:"volumePerUnit",autoComplete:"off",className:"num",label:"Qtd por volume",value:a.volumePerUnit,type:"number",onChange:E}),(0,ys.jsx)("button",{type:"button",onClick:()=>{""!==a.product?(c({...a,totalVolume:a.volumePerUnit*a.amount}),u((e=>[...e,a]))):alert("Produto n\xe3o foi selecionado. Por favor, selecione o produto."),console.log("total ",v),c({product:"",amount:0,CostPerUnit:0,totalCost:0,volumePerUnit:0,totalVolume:0,unitOfMeasurement:""})},children:"Adicionar"})]}),(0,ys.jsx)("button",{children:"Enviar"})]}),a&&x()]})},Md="RegisterProvider_ContainerAddProviderForm__JtRkr",Ld="RegisterProvider_containerInputs__B69zp",Fd="RegisterProvider_containerBtn__6nLA7",Ud="RegisterProvider_btn__aDUsJ",zd=e=>{let{setShowPopup:n}=e;const[r,i]=t.useState({name:"",cnpj:""}),[s,o]=t.useState(null),[a,c]=t.useState(!1),l=(0,as.getFirestore)(is);t.useEffect((()=>{u(),d()}),[]),t.useEffect((()=>{u(),d()}),[a]);const u=async()=>{const e=await hs("provider");e&&e.length>0&&o(e)},d=()=>(s&&s.length,(0,ys.jsxs)("table",{children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Fornecedor"}),(0,ys.jsx)("th",{children:"CNPJ"}),(0,ys.jsx)("th",{children:"Excluir"})]})}),(0,ys.jsx)("tbody",{children:s&&s.length>0&&s.map(((e,t)=>(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:e.name}),(0,ys.jsx)("td",{children:e.cnpj}),(0,ys.jsx)("td",{onClick:()=>(ds("provider",e.id),void c((e=>!e))),children:"X"})]},t)))})]})),h=e=>{const{id:t,value:n}=e.target;if("cnpj"===t){let e=n.replace(/\D/g,"");e=e.slice(0,14);const r=e.replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/\/(\d{4})(\d)/,"/$1-$2");i((e=>({...e,[t]:r})))}else i((e=>({...e,[t]:n})))};return(0,ys.jsxs)("div",{className:Md,children:[(0,ys.jsx)(Fl,{setClose:n}),(0,ys.jsx)("h1",{children:"Adicione um novo fornecedor"}),(0,ys.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,as.addDoc)((0,as.collection)(l,"provider"),r).then((()=>{c((e=>!e)),i({name:"",cnpj:""})}))},className:"m-1",children:[(0,ys.jsxs)("div",{className:Ld,children:[(0,ys.jsx)(Il,{id:"name",autoComplete:"off",required:!0,label:"Nome",value:r.name,type:"text",onChange:h}),(0,ys.jsx)(Il,{id:"cnpj",autoComplete:"off",label:"CNPJ",value:r.cnpj,type:"text",onChange:h})]}),(0,ys.jsx)("div",{className:Fd,children:(0,ys.jsx)("button",{className:Ud,children:"Enviar"})})]}),s&&d()]})},Vd={ContainerAddProviderForm:"RegisterProduct_ContainerAddProviderForm__fEWrM",containerWaringMessage:"RegisterProduct_containerWaringMessage__DcjUU",containerInputs:"RegisterProduct_containerInputs__cTGJi",containerBtn:"RegisterProduct_containerBtn__-UZ-S",containerProductRegisterTable:"RegisterProduct_containerProductRegisterTable__JknEr",exclude:"RegisterProduct_exclude__rd1nv",edit:"RegisterProduct_edit__M9YeY"},qd=e=>{let{setShowPopup:n}=e;const[r,i]=t.useState({name:"",minimumAmount:"",unitOfMeasurement:"",operationSupplies:!1}),[s,o]=t.useState(null),[a,c]=t.useState(!1),[l,u]=t.useState(!1),[d,h]=t.useState(null),[f,p]=t.useState(""),[m,g]=t.useState(!1),[v,y]=t.useState(null),b=(0,as.getFirestore)(is);t.useEffect((()=>{x(),_()}),[]),t.useEffect((()=>{x(),_()}),[a]);const w=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y(e),g(!0),t&&(ds("product",e.id),c((e=>!e)),g(!1))},x=async()=>{const e=(await hs("product")).sort(((e,t)=>e.name.localeCompare(t.name)));e&&e.length>0&&o(e)},_=()=>(s&&s.length,(0,ys.jsx)("div",{className:Vd.containerProductRegisterTable,children:(0,ys.jsxs)("table",{children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Produto"}),(0,ys.jsx)("th",{children:"Volume m\xednimo"}),(0,ys.jsx)("th",{children:"Unidade de medida"}),(0,ys.jsx)("th",{children:"Produtos de Suporte"}),(0,ys.jsx)("th",{children:"Editar"}),(0,ys.jsx)("th",{children:"Excluir"})]})}),(0,ys.jsx)("tbody",{children:s&&s.length>0&&s.map(((e,t)=>(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:e.name}),(0,ys.jsx)("td",{children:e.minimumAmount||0}),(0,ys.jsx)("td",{children:e.unitOfMeasurement}),(0,ys.jsx)("td",{children:e.operationSupplies?"Insumo":"Materia Prima"}),(0,ys.jsx)("td",{className:Vd.edit,onClick:()=>{return t=e,u(!0),h(t.id),p(t.name),void i({name:t.name,minimumAmount:t.minimumAmount,unitOfMeasurement:t.unitOfMeasurement});var t},children:"Editar"}),(0,ys.jsx)("td",{className:Vd.exclude,onClick:()=>w(e),children:"X"})]},t)))})]})})),S=e=>{const{id:t,value:n}=e.target;i((e=>({...e,[t]:n})))};return(0,ys.jsxs)("div",{className:Vd.ContainerAddProviderForm,children:[(0,ys.jsx)(Fl,{setClose:n}),(0,ys.jsx)("div",{className:Vd.containerWaringMessage,children:m&&(0,ys.jsx)(Dl,{setWarningMsg:g,message:"Voc\xea est\xe1 prestes a excluir ".concat(v.name),sendRequestToKitchen:()=>{w(v,!0)}})}),(0,ys.jsx)("h1",{children:"Adicione um novo Produto"}),(0,ys.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l){const e=(0,as.doc)(b,"product",d),t={};for(const i in r)void 0!==r[i]&&null!==r[i]&&(t[i]=r[i]);const n=(0,as.query)((0,as.collection)(b,"stock"),(0,as.where)("product","==",f)),s=await(0,as.getDocs)(n);if(!s.empty)for(const i of s.docs){const e=(0,as.doc)(b,"stock",i.id),t={...i.data(),product:r.name,unitOfMeasurement:r.unitOfMeasurement};void 0!==r.minimumAmount&&null!==r.minimumAmount&&(t.minimumAmount=r.minimumAmount),await(0,as.updateDoc)(e,t),console.log("SideDishes item updated successfully: ".concat(i.id))}const o=(0,as.query)((0,as.collection)(b,"sideDishes"),(0,as.where)("sideDishes","==",f)),a=await(0,as.getDocs)(o);if(!a.empty)for(const i of a.docs){const e=(0,as.doc)(b,"sideDishes",i.id),t={...i.data(),sideDishes:r.name,unitOfMeasurement:r.unitOfMeasurement};void 0!==r.unitOfMeasurement&&null!==r.unitOfMeasurement&&(t.unitOfMeasurement=r.minimumAmount),await(0,as.updateDoc)(e,t),console.log("Stock item updated successfully: ".concat(i.id))}await(0,as.setDoc)(e,t).then((()=>{console.log("Document successfully updated !"),x(),u(!1),i({name:"",minimumAmount:"",unitOfMeasurement:"",operationSupplies:!1})})).catch((e=>{console.error("Error updating document:",e)}))}else(0,as.addDoc)((0,as.collection)(b,"product"),r).then((()=>{c((e=>!e)),i({name:"",unitOfMeasurement:"",minimumAmount:"",operationSupplies:!1})})).catch((e=>{console.error("Error adding document:",e)}))},className:"m-1",children:[(0,ys.jsxs)("div",{className:Vd.containerInputs,children:[(0,ys.jsx)(Il,{id:"name",autoComplete:"off",required:!0,label:"Nome",value:r.name,type:"text",onChange:S}),(0,ys.jsx)(Il,{id:"minimumAmount",autoComplete:"off",required:!0,label:"Volume m\xednimo",value:r.minimumAmount,type:"text",onChange:S}),(0,ys.jsx)("div",{className:"checkbox-form",children:(0,ys.jsxs)("label",{htmlFor:"operationSupplies",children:[(0,ys.jsx)("input",{id:"operationSupplies",type:"checkbox",checked:!!r.operationSupplies,onChange:e=>i((t=>({...t,operationSupplies:e.target.checked})))}),"Material de suporte"]})}),(0,ys.jsxs)("div",{className:"select-form",children:[(0,ys.jsx)("label",{}),(0,ys.jsxs)("select",{id:"unitOfMeasurement",className:"form-select unitOfMeasurement",value:r.unitOfMeasurement,required:!0,onChange:S,children:[(0,ys.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Unidade de medida"}),(0,ys.jsx)("option",{value:"un",children:" Unidade"}),(0,ys.jsx)("option",{value:"L",children:" Litro"}),(0,ys.jsx)("option",{value:"ml",children:" Mililitro"}),(0,ys.jsx)("option",{value:"kg",children:" Kilo"}),(0,ys.jsx)("option",{value:"g",children:" Gramas"})]})]})]}),(0,ys.jsx)("div",{className:Vd.containerBtn,children:(0,ys.jsx)("button",{className:Vd.btn,children:l?"Mandar altera\xe7\xf5es":"Enviar"})})]}),s&&_()]})},Bd={ContainerAddExpensesForm:"RegisterExpenses_ContainerAddExpensesForm__e3b2B",containerBtn:"RegisterExpenses_containerBtn__AwkHv",containerExpensesRegisterTable:"RegisterExpenses_containerExpensesRegisterTable__QdhqM",exclude:"RegisterExpenses_exclude__3M56-",edit:"RegisterExpenses_edit__ddnqW"};const Hd=function(e){let{setShowPopup:r}=e;const[i,s]=t.useState({name:""}),[o,a]=t.useState(null),[c,l]=t.useState(!1),[u,d]=t.useState(!1),[h,f]=t.useState(null),[p,m]=t.useState(""),[g,v]=t.useState(!1),[y,b]=t.useState(null);t.useEffect((()=>{w(),x()}),[]);const w=async()=>{const e=(await hs("expenses")).sort(((e,t)=>e.name.localeCompare(t.name)));e&&e.length>0&&a(e)},x=()=>(o&&o.length,(0,ys.jsx)("div",{className:Bd.containerExpensesRegisterTable,children:(0,ys.jsxs)("table",{children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Nome da categoria de despesa"}),(0,ys.jsx)("th",{children:"Editar"}),(0,ys.jsx)("th",{children:"Excluir"})]})}),(0,ys.jsx)("tbody",{children:o&&o.length>0&&o.map(((e,t)=>(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:e.name}),(0,ys.jsx)("td",{className:Bd.edit,onClick:()=>{return t=e,console.log("EditItem",t),d(!0),f(t.id),void s({name:t.name});var t},children:"Editar"}),(0,ys.jsx)("td",{className:Bd.exclude,onClick:()=>_(e),children:"X"})]},t)))})]})})),_=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b(e),v(!0),t&&(ds("expenses",e.id),w(),v(!1))};return(0,ys.jsxs)("div",{className:Bd.ContainerAddExpensesForm,children:[(0,ys.jsx)(Fl,{setClose:r}),(0,ys.jsx)("div",{className:Bd.containerWaringMessage,children:g&&(0,ys.jsx)(Dl,{setWarningMsg:v,message:"Voc\xea est\xe1 prestes a excluir ".concat(y.name),sendRequestToKitchen:()=>_(y,!0)})}),(0,ys.jsx)("h1",{children:"Adicione uma nova categoria de despesa"}),(0,ys.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(u){if(void 0===i.name)return;await async function(e,t,r){try{const i=(0,as.doc)(cs,e,t);await Promise.resolve().then(n.bind(n,481)).then((e=>e.setDoc(i,r,{merge:!1}))),console.log("Documento ".concat(t,' na cole\xe7\xe3o "').concat(e,'" substitu\xeddo com sucesso.'))}catch(i){throw console.error("Erro ao substituir o documento ".concat(t,' na cole\xe7\xe3o "').concat(e,'":'),i),i}}("expenses",h,i),d(!1)}else{const e=await async function(e,t){try{const r=(0,as.collection)(cs,e);return(await Promise.resolve().then(n.bind(n,481)).then((e=>e.addDoc(r,t)))).id}catch(r){throw console.error("Erro ao adicionar item \xe0 cole\xe7\xe3o:",r),r}}("expenses",i);e&&(console.log("Item added successfully",e),w())}s({name:""}),w()}catch(t){console.error("Error adding item:",t)}},className:"m-1",children:[(0,ys.jsx)("div",{className:Bd.containerInputs,children:(0,ys.jsx)(Il,{id:"name",autoComplete:"off",required:!0,label:"Nome",value:i.name,type:"text",onChange:e=>{const{id:t,value:n}=e.target;s((e=>({...e,[t]:n})))}})}),(0,ys.jsx)("div",{className:Bd.containerBtn,children:(0,ys.jsx)("button",{className:Bd.btn,children:u?"Mandar altera\xe7\xf5es":"Enviar"})})]}),o&&x()]})},Wd=e=>{let{oneExpense:n,setOpenSumaryPopup:r}=e;return t.useState((()=>{n&&console.log("item   ",n)}),[n]),(0,ys.jsxs)("div",{className:"container-sumary-expenses",children:[(0,ys.jsx)(Fl,{setClose:r}),(0,ys.jsx)("h1",{children:"Despesa Completa"}),(0,ys.jsxs)("main",{children:[(0,ys.jsxs)("div",{children:[(0,ys.jsxs)("p",{children:["Nome da Despesa",(0,ys.jsxs)("span",{children:[": ",n.name]})]}),(0,ys.jsxs)("p",{children:["Categoria",(0,ys.jsxs)("span",{children:[": ",n.category]})]}),(0,ys.jsxs)("p",{children:[" ","Confirma\xe7\xe3o",(0,ys.jsxs)("span",{children:[": ",n.confirmation]})]}),(0,ys.jsxs)("p",{children:["Data de Pagamento",(0,ys.jsxs)("span",{children:[": ",n.dueDate]})]}),(0,ys.jsxs)("p",{children:["Despesa Paga em ",(0,ys.jsxs)("span",{children:[": ",n.paymentDate]})]}),(0,ys.jsxs)("p",{children:["Valor Total",(0,ys.jsxs)("span",{children:[": ",n.value]})]}),(0,ys.jsxs)("p",{children:["Quantidade de items",(0,ys.jsxs)("span",{children:[": ",n.items.length]})]})]}),(0,ys.jsx)("div",{children:n.items&&n.items.length>0&&n.items.map((e=>(0,ys.jsxs)("div",{className:"container-item",children:[(0,ys.jsxs)("h4",{children:["Produto ",e.product]}),(0,ys.jsxs)("p",{children:["Custo por unidade",(0,ys.jsxs)("span",{children:[" ",e.CostPerUnit]})]}),(0,ys.jsxs)("p",{children:["Custo Total",(0,ys.jsxs)("span",{children:[" ",e.totalCost]})]}),(0,ys.jsxs)("p",{children:["Volume por unidade",(0,ys.jsxs)("span",{children:[" ",e.volumePerUnit,e.unitOfMeasurement]})]}),(0,ys.jsxs)("p",{children:["Quantdade de volumes",(0,ys.jsxs)("span",{children:[" ",e.amount]})]}),(0,ys.jsxs)("p",{children:["Volume Total",(0,ys.jsxs)("span",{children:[" ",e.totalVolume,e.unitOfMeasurement]})]})]})))})]})]})},Kd=()=>{const[e,n]=t.useState(null),[r,i]=t.useState(!1),[s,o]=t.useState(!1),[a,c]=t.useState(!1),[l,u]=t.useState(!1),[d,h]=t.useState(""),[f,p]=t.useState(!1),[m,g]=t.useState(null),[v,y]=t.useState(!1),[b,w]=t.useState(!1),[x,_]=t.useState(null);t.useEffect((()=>{(async()=>{const e=(await hs("outgoing")).sort(((e,t)=>new Date(t.dueDate)-new Date(e.dueDate)));n(e)})()}),[]),t.useEffect((()=>{(async()=>{const e=(await hs("outgoing")).sort(((e,t)=>new Date(t.dueDate)-new Date(e.dueDate)));n(e)})()}),[f]);const S=(e,t)=>{h(e),y(!0),t&&d.name===e.name&&(y(!1),ds("outgoing",e.id),p((e=>!e)))};return(0,ys.jsxs)("div",{className:Nd.customerListContainer,children:[v&&(0,ys.jsx)(Ll,{msg:"Voc\xea est\xe1 prestes a excluir ".concat(d.name),item:d,onConfirm:S,onClose:()=>y(!1)}),(0,ys.jsx)("div",{className:"containerAddExpenses",children:a&&(0,ys.jsx)(Hd,{setShowPopup:c,obj:m})}),(0,ys.jsx)("div",{className:"container-add-expenses",children:s&&(0,ys.jsx)(zd,{setShowPopup:o,obj:m})}),(0,ys.jsx)("div",{className:"containerAddExpenses",children:l&&(0,ys.jsx)(qd,{setShowPopup:u,obj:m})}),(0,ys.jsx)("div",{className:"container-add-provider",children:r&&(0,ys.jsx)(Rd,{setShowPopup:i,setRefreshData:p,obj:m})}),b&&(0,ys.jsx)(Wd,{setOpenSumaryPopup:w,oneExpense:x}),(0,ys.jsx)("div",{className:Nd.titleTable,children:(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:"Despesas"})})}),(0,ys.jsxs)("div",{className:Nd.btnAdd,children:[(0,ys.jsx)("button",{onClick:()=>{i(!0),g(null)},children:"Adicione Despesa"})," ",(0,ys.jsxs)("select",{id:"register",onChange:e=>{const t=e.target.value;"product"===t?u(!0):"provider"===t?o(!0):"expenses"===t&&c(!0),e.target.value=""},defaultValue:"",children:[(0,ys.jsx)("option",{value:"",disabled:!0,children:"Selecione uma op\xe7\xe3o de cadastro"}),(0,ys.jsx)("option",{value:"product",children:"Cadastrar Produtos"}),(0,ys.jsx)("option",{value:"provider",children:"Cadastrar Fornecedores"}),(0,ys.jsx)("option",{value:"expenses",children:"Cadastrar Despesas"})]})]}),(0,ys.jsx)("div",{className:Nd.containerExpensesManegementTable,children:(0,ys.jsxs)("table",{striped:!0,bordered:!0,hover:!0,children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Nome da despesa"}),(0,ys.jsx)("th",{children:"Valor"}),(0,ys.jsx)("th",{children:"Data de Vencimento"}),(0,ys.jsx)("th",{children:"Categoria"}),(0,ys.jsx)("th",{children:"Data do Pagamento"}),(0,ys.jsx)("th",{children:"Fornecedor"}),(0,ys.jsx)("th",{children:"Confirma\xe7\xe3o"}),(0,ys.jsx)("th",{children:"Editar"}),(0,ys.jsx)("th",{children:"Excluir"})]})}),(0,ys.jsxs)("tbody",{children:[e&&e.length>0&&e.map(((e,t)=>{var n,r;return(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{Title:e.name,className:"openPopup",onClick:()=>(e=>{w(!0),_(e)})(e),children:(null===(n=e.name)||void 0===n?void 0:n.length)>10?"".concat(e.name.slice(0,10),"..."):e.name}),(0,ys.jsx)("td",{children:Number(e.value).toFixed(2)}),(0,ys.jsx)("td",{children:e.dueDate}),(0,ys.jsx)("td",{children:e.category}),(0,ys.jsx)("td",{children:e.paymentDate}),(0,ys.jsx)("td",{title:e.provider,children:(null===(r=e.provider)||void 0===r?void 0:r.length)>10?"".concat(e.provider.slice(0,10),"..."):e.paymentDate}),(0,ys.jsx)("td",{children:Number(e.confirmation).toFixed(2)}),(0,ys.jsx)("td",{children:(0,ys.jsx)("button",{onClick:()=>(g(e),void i(!0)),children:"Editar"})}),(0,ys.jsx)("td",{children:(0,ys.jsx)("button",{onClick:()=>S(e,!1),children:"Excluir"})})]},t)})),(()=>{if(!e||0===e.length)return null;const t=e.reduce(((e,t)=>(e.estimate+=Number(t.value),e.paid+=Number(t.confirmation),e)),{paid:0,estimate:0});return(0,ys.jsxs)("tr",{className:Nd.totals,children:[(0,ys.jsx)("td",{children:"Total Estimado = "})," ",(0,ys.jsx)("td",{children:Number(t.estimate).toFixed(2)})," ",(0,ys.jsx)("td",{colSpan:2})," ",(0,ys.jsx)("td",{children:"Total Pago = "}),(0,ys.jsx)("td",{children:Number(t.paid).toFixed(2)})," ",(0,ys.jsx)("td",{colSpan:2})," "]})})()," "]})]})})]})},Gd="TrackStockProduct_containerTrackStockproduct__z5bj3",Qd="TrackStockProduct_tableStockContainer__UZioB",$d="TrackStockProduct_containerAdjustmentScreen__MDM5T",Yd="TrackStockProduct_containerBtnStockList__PL6oF",Xd="TrackStockProduct_btnChangeStockList__z7eTh",Jd="TrackStockProduct_warning__2IIAV",Zd={popupOverlay:"EditFormStockProduct_popupOverlay__gSfSf",containerEditStock:"EditFormStockProduct_containerEditStock__+CVuI",closeBtnContainer:"EditFormStockProduct_closeBtnContainer__kY1a3",field:"EditFormStockProduct_field__hXHyU",addBtn:"EditFormStockProduct_addBtn__G06du"},eh=e=>{let{obj:n,setShowEditForm:r,fetchStock:i}=e;const[s,o]=t.useState({CostPerUnit:Number(n.CostPerUnit),amount:Number(n.amount),product:n.product,totalCost:Number(n.totalCost),totalVolume:Number(n.totalVolume),unitOfMeasurement:n.unitOfMeasurement,volumePerUnit:Number(n.volumePerUnit),minimumAmount:Number(n.minimumAmount),id:n.id}),a=(0,as.getFirestore)(is);t.useEffect((()=>{console.log("objeto recebido por pros  ",n)}),[]);const c=(e,t,n,r,i,s,o,a,c,l,u)=>({date:n,outputProduct:0,category:t||0,unit:s,package:r,inputProduct:o,cost:i,previousVolume:a,previousCost:c,ContentsInStock:u,totalResourceInvested:l}),l=e=>{const{id:t,value:r}=e.target;if("totalVolume"===t){const e=n.totalCost*(s.totalVolume/n.totalVolume),t=Number(s.totalVolume)/Number(n.volumePerUnit);o({...s,totalCost:e,amount:t})}else o({...s,totalCost:r})},u=e=>{const{id:t,value:n}=e.target,r=Number(n);o((e=>({...e,[t]:isNaN(r)?0:r})))};return(0,ys.jsx)("div",{className:Zd.popupOverlay,children:(0,ys.jsxs)("div",{className:Zd.containerEditStock,children:[(0,ys.jsx)("div",{className:Zd.closeBtnContainer,children:(0,ys.jsx)("button",{className:Zd.closeBtn,type:"button",onClick:()=>r(!1),children:"X"})}),(0,ys.jsxs)("div",{className:Zd.field,children:[(0,ys.jsx)("h3",{children:"Produto"}),(0,ys.jsx)("p",{children:"".concat(s.product,"- ").concat(s.unitOfMeasurement)})]}),(0,ys.jsx)("div",{className:Zd.field,children:(0,ys.jsx)(Il,{id:"totalVolume",autoComplete:"off",className:"num",label:"Volume Total",value:s.totalVolume,type:"number",onChange:u,onBlur:l})}),(0,ys.jsx)("div",{className:Zd.field,children:(0,ys.jsx)(Il,{id:"totalCost",autoComplete:"off",className:"num",label:"Custo Total",value:s.totalCost,type:"number",onChange:u,onBlur:l})}),(0,ys.jsx)("div",{className:Zd.field,children:(0,ys.jsx)(Il,{id:"minimumAmount",autoComplete:"off",className:"num",label:"Volume M\xednimo",value:s.minimumAmount,type:"text",onChange:u,onBlur:l})}),(0,ys.jsxs)("div",{className:Zd.field,children:[(0,ys.jsx)("h3",{children:"Volume Total do Produto"}),(0,ys.jsxs)("p",{children:[s.totalVolume,s.unitOfMeasurement]})]}),(0,ys.jsx)("button",{className:Zd.addBtn,type:"button",onClick:async()=>{try{await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Editado",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(e)||(e=[e]),!n){const e=new Date,t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();n="".concat(t,"/").concat(r,"/").concat(i)}const r=await hs("stock");for(let i=0;i<e.length;i++){const s=e[i],o=null===r||void 0===r?void 0:r.find((e=>e.product===s.product));if(o){const e=o.totalCost,r=o.totalVolume,i="Editado"===t?0:s.totalCost,a="Editado"===t?Number(s.amount):Number(o.amount)+Number(s.amount),l="Editado"===t?0:s.totalVolume,u=s.unitOfMeasurement;"Editado"!==t&&(s.totalCost=(s.totalCost||0)+(o.totalCost||0),s.totalVolume=(s.totalVolume||0)+(o.totalVolume||0)),s.UsageHistory=o.UsageHistory||[],s.UsageHistory.push(c(o,t,n,a,i,u,l,r,e,s.totalCost,s.totalVolume)),console.log("Item atual  ",s)}else s.UsageHistory=[c(s,t,n,0,s.totalCost,s.totalVolume)]}}(s);const e=(0,as.doc)(a,"stock",s.id);await(0,as.updateDoc)(e,s),console.log("Documento atualizado com sucesso!"),i(),r(!1)}catch(e){console.error("Erro ao atualizar o documento:",e)}},children:"Adicionar"})]})})},th="AdjustmentRecords_containderAdjustmentRecords__Gklyu",nh="AdjustmentRecords_containderAdjustmentRecordsTable__2YY7Q",rh=e=>{let{eventLogData:n,setShowAdjustmentRecords:r,title:i}=e;return t.useEffect((()=>{console.log("array de eventos   ",n)}),[n]),(0,ys.jsxs)("div",{className:th,children:[(0,ys.jsx)(Fl,{setClose:r}),(0,ys.jsxs)("h1",{children:["Lista de Ocorrencias do ",i]}),";",(0,ys.jsx)("div",{className:nh,children:(0,ys.jsxs)("table",{striped:!0,bordered:!0,hover:!0,children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Data"}),(0,ys.jsx)("th",{children:"Entrada do produto"}),(0,ys.jsx)("th",{children:"Saida"}),(0,ys.jsx)("th",{children:"Categoria"}),(0,ys.jsx)("th",{children:"Vol Anterior"}),(0,ys.jsx)("th",{children:"Investimento anterior"}),(0,ys.jsx)("th",{children:"Volume Atual"}),(0,ys.jsx)("th",{children:"Investimento Atual"}),(0,ys.jsx)("th",{children:"Total de Embalagens"})]})}),(0,ys.jsx)("tbody",{children:n&&n.length>0&&n.slice().reverse().map(((e,t)=>(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:e.date}),(0,ys.jsxs)("td",{children:[e.inputProduct," ",e.unit]}),(0,ys.jsx)("td",{children:null===e||void 0===e?void 0:e.outputProduct}),(0,ys.jsx)("td",{children:e.category}),(0,ys.jsxs)("td",{children:[Number(e.previousVolume).toFixed(2)," ",e.unit]}),(0,ys.jsxs)("td",{children:["R$",Number(e.previousCost).toFixed(2)]}),(0,ys.jsxs)("td",{children:[" ",Number(e.ContentsInStock).toFixed(2),e.unit]}),(0,ys.jsxs)("td",{children:["R$ ",Number(e.totalResourceInvested).toFixed(2)]}),(0,ys.jsx)("td",{children:e.package})]},t)))})]})})]})},ih=()=>{const[e,n]=t.useState(null),[r,i]=t.useState(null),[s,o]=t.useState(!1),[a,c]=t.useState(""),[l,u]=t.useState(!1),[d,h]=t.useState(null),[f,p]=t.useState(""),[m,g]=t.useState(null),[v,y]=t.useState(!1),[b,w]=t.useState(!1);t.useEffect((()=>{x()}),[]);const x=async()=>{const e=(await hs("stock")).sort(((e,t)=>e.product.localeCompare(t.product)));i(e);const t=e.filter((e=>!1===e.operationSupplies&&(void 0===e.activityStatus||!1===e.activityStatus)));n(t)},_=(e,t)=>{console.log("item a ser excluido   ",e),e&&c(e),o(!0),t&&(o(!1),async function(e,t,n,r){try{const i=(0,as.doc)(cs,e,t),s=await(0,as.getDoc)(i);if(!s.exists())return'Erro: Documento com id "'.concat(t,'" n\xe3o encontrado na cole\xe7\xe3o "').concat(e,'".');const o=s.data(),a={};return a[n]=r,await(0,as.updateDoc)(i,a),"undefined"!==typeof window&&window.location&&window.location.reload(),Object.prototype.hasOwnProperty.call(o,n)?'Chave "'.concat(n,'" atualizada com sucesso no objeto ').concat(t,' da cole\xe7\xe3o "').concat(e,'".'):'Chave "'.concat(n,'" criada e atribu\xedda com sucesso no objeto ').concat(t,' da cole\xe7\xe3o "').concat(e,'".')}catch(i){return"not-found"===i.code?'Erro: Cole\xe7\xe3o "'.concat(e,'" n\xe3o encontrada.'):"Erro ao atualizar/criar chave: ".concat(i.message)}}("stock",a.id,"activityStatus",!v),x())};return(0,ys.jsxs)("div",{className:Gd,children:[l&&(0,ys.jsx)(eh,{fetchStock:x,obj:d,setShowEditForm:u}),(0,ys.jsx)("div",{className:$d,children:b&&(0,ys.jsx)(rh,{eventLogData:m,setShowAdjustmentRecords:w,title:f})}),(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:"Estoque"})}),(0,ys.jsx)("div",{className:Qd,children:(0,ys.jsxs)("table",{striped:!0,bordered:!0,hover:!0,children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Produto"}),(0,ys.jsx)("th",{children:"Custo de Estoque"}),(0,ys.jsx)("th",{children:"Estoque em volume"}),(0,ys.jsx)("th",{children:"Quantidade de embalagens"}),(0,ys.jsx)("th",{children:"Editar"}),(0,ys.jsx)("th",{children:"Excluir"})]})}),(0,ys.jsx)("tbody",{children:e&&e.length>0&&e.map(((e,t)=>(0,ys.jsxs)("tr",{className:_s(e.product,e.totalVolume,e.minimumAmount,e.totalCost)?"":Jd,children:[(0,ys.jsx)("td",{onClick:()=>(e=>{p(e.product),g(e.UsageHistory),w(!0)})(e),children:e.product}),(0,ys.jsxs)("td",{children:["R$ ",Number(e.totalCost).toFixed(2)]}),(0,ys.jsxs)("td",{children:[Number(e.totalVolume).toFixed(2),e.unitOfMeasurement]}),s&&(0,ys.jsx)(Ll,{msg:"Voc\xea est\xe1 prestes a ".concat(v?"Restaurar":"Excluir"," ").concat(a.product),item:a,onConfirm:()=>_(void 0,!0),onClose:()=>o(!1)}),(0,ys.jsx)("td",{children:Number(e.amount).toFixed(2)}),(0,ys.jsx)("td",{style:{cursor:"pointer"},onClick:()=>(e=>{h(e),u(!0)})(e),children:"Editar"}),(0,ys.jsx)("td",{style:{cursor:"pointer"},onClick:()=>_(e,!1),children:v?"Restaurar":"Excluir"})]},t)))})]})}),(0,ys.jsx)("div",{className:Yd,children:(0,ys.jsx)("button",{className:Xd,onClick:()=>{const e=!v,t=r.filter((t=>!1===t.operationSupplies&&(e?!0===t.activityStatus:!1===t.activityStatus||void 0===t.activityStatus)));n(t),y(e)},children:v?"Itens Habilitados":"Itens Excluidos"})})]})},sh=()=>{const e=Y(),n=t.useContext(ws),[r,i]=t.useState(!1),{form:s,setForm:o,error:a,handleChange:c,handleBlur:l}=Nl({name:"",phone:"",cpf:"",birthday:"",email:""});return(0,ys.jsxs)("div",{className:"welcome-message",children:[(0,ys.jsx)("h3",{children:" Caso j\xe1 seja cliente,digite o seu CPF"}),(0,ys.jsxs)("div",{className:"cpf-input",children:[(0,ys.jsx)(Il,{id:"cpf",autoComplete:"off",required:!0,label:"CPF",value:s.cpf,type:"text",onChange:c,onFocus:e=>{const{id:t,value:n}=e.target;"cpf"===t&&i(!0)}}),r&&n.isToten&&(0,ys.jsx)(Ml,{addCharacter:(e,t)=>{if("clearField"===e){o((e=>({...e,id:""})));return void c({target:{id:t,value:""}})}if("Bcksp"===e){o((e=>({...e,[t]:e[t].slice(0,-1)})));const e={target:{id:t,value:s[t].slice(0,-1)}};return void c(e)}let n="";"phone"===t?n=s.phone+e:"cpf"===t?n=s.cpf+e:"name"===t?n=s.name+e:"email"===t&&(n=s.email+e);c({target:{id:t,value:n}})},closeKeyboard:()=>{return e=s.cpf,void("cpf"==="cpf"&&(i(!1),l({target:{id:"cpf",value:e}})));var e},id:"cpf"})]}),a.cpf&&(0,ys.jsx)("div",{className:"error-form",children:a.cpf}),(0,ys.jsxs)("div",{className:"create-new-customer-btns",children:[(0,ys.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{e("/create-customer")},children:"Ainda n\xe3o sou cliente"}),(0,ys.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:async()=>{const t=(await hs("user")).filter((e=>e.cpf===s.cpf));if(t.length>0){n.setId(t[0].id),n.setAuthorizated(!0);const r={id:t[0].id,name:t[0].name};localStorage.setItem("userMenu",JSON.stringify(r)),e("/")}else e("/create-customer")},children:"Continue"})]})]})},oh="requestManagementModule_managementRequests__DS049",ah="requestManagementModule_containerDate__UqM4T",ch="requestManagementModule_containerRequestManagementTable__G1QcW",lh=e=>{let{dishesRequested:n,setShowAccountingManagementPopup:r,setTotals:i}=e;const[s,o]=t.useState(null),[a,c]=t.useState({}),l=(0,as.getFirestore)(is);t.useEffect((()=>{(async()=>{if(n&&n.length>0){console.log("DISHES REQUESTED:",n);try{const e=await fs("item",n[0].id);o({name:n[0].name,costPriceObj:null!==e&&void 0!==e&&e.costPriceObj?null===e||void 0===e?void 0:e.costPriceObj:void 0,costProfitMarginCustomized:null!==e&&void 0!==e&&e.costProfitMarginCustomized?null===e||void 0===e?void 0:e.costProfitMarginCustomized:void 0})}catch(e){console.error("Erro ao buscar o item:",e)}const t={};for(const r of n)if(r.sideDishes)for(const n of r.sideDishes)if(!t[n.name])try{const e=await u(n.name);t[n.name]=e}catch(e){console.error("Erro ao buscar acompanhamento:",n.name,e)}c(t),console.log("SIDE DISHES DATA:",t)}else console.warn("dishesRequested ou dishesRequested.id est\xe3o indefinidos")})()}),[n]),t.useEffect((()=>{s&&console.log("costPrice     ",s)}),[s]);const u=async e=>{try{const t=(0,as.collection)(l,"sideDishes"),n=(0,as.query)(t,(0,as.where)("sideDishes","==",e)),r=await(0,as.getDocs)(n);if(r.empty)return console.log("Acompanhamento n\xe3o encontrado"),null;{const e=r.docs[0].data();return{cost:e.costPriceObj.cost,price:e.price,percentage:e.costPriceObj.percentage,profit:e.costPriceObj.profit}}}catch(t){return console.error("Erro ao buscar o acompanhamento:",t),null}};return(0,ys.jsxs)("div",{className:"accounting-management-popup-container",children:[(0,ys.jsx)(Fl,{setClose:r}),null!==s&&void 0!==s&&s.costPriceObj?(0,ys.jsxs)("table",{striped:!0,bordered:!0,hover:!0,children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Nome"}),(0,ys.jsx)("th",{children:"Custo"}),(0,ys.jsx)("th",{children:"Pre\xe7o"}),(0,ys.jsx)("th",{children:"Lucro"}),(0,ys.jsx)("th",{children:"Porcentagem"}),(0,ys.jsx)("th",{children:"Nome"}),(0,ys.jsx)("th",{children:"Custo"}),(0,ys.jsx)("th",{children:"Pre\xe7o"}),(0,ys.jsx)("th",{children:"Lucro"}),(0,ys.jsx)("th",{children:"Porcentagem"})]})}),(0,ys.jsx)("tbody",{children:(()=>{if(null===s||void 0===s||!s.costPriceObj)return(0,ys.jsx)("h1",{children:"Esses dados n\xe3o foram cadastrados"});let e=0,t=0,r=0;const i=n.flatMap(((n,i)=>{let o;n.size&&(o=Object.values(s.costProfitMarginCustomized||{}).find((e=>e.label===n.size)));const c=o||s.costPriceObj,l=c?c.price-c.cost:null;c&&(e+=Number(c.cost),t+=Number(c.price),r+=Number(l));const u=n.sideDishes&&n.sideDishes.length>0;console.log("costData   ",c);return[(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:n.name}),(0,ys.jsx)("td",{children:(null===c||void 0===c?void 0:c.cost)||"N/A"}),(0,ys.jsx)("td",{children:(null===c||void 0===c?void 0:c.price)||"N/A"}),(0,ys.jsx)("td",{children:l||"N/A"}),(0,ys.jsx)("td",{children:(null===c||void 0===c?void 0:c.percentage)||"N/A"})]},"".concat(i,"-main")),...u?n.sideDishes.map(((n,s)=>{const o=a[n.name],c=o?o.price-o.cost:null;return o&&(e+=Number(o.cost),t+=Number(o.price),r+=Number(c)),(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{colSpan:"5"})," ",(0,ys.jsx)("td",{children:n.name}),(0,ys.jsx)("td",{children:(null===o||void 0===o?void 0:o.cost)||"N/A"}),(0,ys.jsx)("td",{children:(null===o||void 0===o?void 0:o.price)||"N/A"}),(0,ys.jsx)("td",{children:c||"N/A"}),(0,ys.jsx)("td",{children:(null===o||void 0===o?void 0:o.percentage)||"N/A"})]},"".concat(i,"-sideDish-").concat(s))})):[]]}));return i.push((0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{}),(0,ys.jsx)("td",{children:(0,ys.jsx)("strong",{children:Number(e).toFixed(2)})}),(0,ys.jsx)("td",{children:(0,ys.jsx)("strong",{children:Number(t).toFixed(2)})}),(0,ys.jsx)("td",{children:(0,ys.jsx)("strong",{children:Number(r).toFixed(2)})}),(0,ys.jsx)("td",{colSpan:"6"})]},"totals")),i})()})]}):(0,ys.jsx)("h1",{children:"Esses dados n\xe3o foram cadastrados"})]})},uh=()=>(0,ys.jsx)("div",{class:"ui active centered inline loader"}),dh=()=>{const[e,n]=t.useState(null),[r,i]=t.useState([]),[s,o]=t.useState([]),[a,c]=t.useState({totalCost:0,totalPrice:0,totalProfit:0}),[l,u]=t.useState([]),[d,h]=t.useState(null),[f,p]=t.useState(null),[m,g]=t.useState(!1),[v,y]=t.useState({amount:0,totalValue:0,cost:0,profit:0,discount:0}),[b,w]=t.useState({startDate:"",endDate:""}),[x,_]=t.useState(null),[S,E]=t.useState(!1);t.useEffect((()=>{(async()=>{try{const[e,t,r,s]=await Promise.all([hs("request"),hs("voucherPromotion"),hs("sideDishes"),hs("item")]),o=e.reduce(((e,t)=>{var n;if(!Array.isArray(t.request))return console.warn("Elemento ignorado, `request` n\xe3o \xe9 um array:",t),e;const r=(null===(n=t.request)||void 0===n?void 0:n.map((e=>({...e,dateTime:t.dateTime,paymentMethod:t.paymentMethod}))))||[];return[...e,...r]}),[]);n(o),i(o),p(s),h(r),u(t)}catch(e){console.error("Erro ao buscar os dados:",e)}})()}),[]),t.useEffect((()=>{(async()=>{if(b.startDate&&b.endDate){const e=new Date(b.startDate),t=new Date(b.endDate);if(e>t)alert("Data de in\xedcio n\xe3o pode ser maior que a data de fim.");else{E(!0);const i=C(r,e,t),s=await j(i);console.log("statusList   ",s);const o=C(l,e,t);k(o),n(s),E(!1)}}})()}),[b,r]),t.useEffect((()=>{T()}),[e]);const C=(e,t,n)=>e&&e.length>0?e.filter((e=>{var r;const i=new Date(null===(r=e.dateTime)||void 0===r?void 0:r.split(" - ")[0].split("/").reverse().join("-"));return i>=t&&i<=n})):[],k=e=>{let t=0;e&&(e.forEach((e=>{t+=Number(e.discount)})),y({...v,discount:t}),console.log("Total params 2   ",v))},T=()=>{let t=0,n=0,r=0,i=0,s=0;e&&e.length>0&&e.forEach((e=>{e&&e.totalSum&&e.repetitions&&(t+=Number(e.totalSum),n+=Number(e.repetitions),i+=Number(e.profit),r+=Number(e.card),s+=Number(e.cost))})),y({...v,amount:n,card:r,totalValue:t,cost:s,profit:i})},I=(e,t)=>e*({debit:.025,pix:.025,cash:0,credite:.029,vr:.07}[t]||0),j=async e=>{const t={};if(_(e),e&&e.length>0)for(const n of e){let e=0,r=0;if(n.sideDishes&&n.sideDishes.length>0){n.sideDishes.map((e=>P(e.name))).forEach((t=>{t&&(e+=t.cost,r+=t.profit)}))}const i=N(n.id,n.size,n.name);if(i){const{cost:t=0,price:n=0}=i;e+=Number(t),r+=Number(n)-Number(t)}const{name:s,finalPrice:o,paymentMethod:a}=n,c=Number(o)||0,l=I(c,a);t[s]?(t[s].repetitions+=1,t[s].totalSum+=c,t[s].cost+=isNaN(e)?0:e,t[s].profit+=c-(l+e),t[s].card+=l):t[s]={name:s,repetitions:1,totalSum:c,cost:isNaN(e)?0:e,profit:c-(l+e),card:l}}return console.log("productMap:",t),Object.values(t)},N=(e,t,n)=>{let r=f.find((t=>t.id===e));r||(r=f.find((e=>e.title.trim().toLowerCase()===n.trim().toLowerCase())));const{costProfitMarginCustomized:i={},costPriceObj:s={}}=r||{};let o;if(i&&s)return""===t?{...s,cost:Number(s.cost),price:Number(s.price)}:(o=Object.values(i||{}).find((e=>e.label===t)),o?{...o,cost:Number(o.cost),price:Number(o.price)}:void 0)},P=e=>{const t=d.find((t=>t.name===e));return t?{cost:Number(t.costPriceObj.cost),profit:t.costPriceObj.profit}:{cost:0,profit:0}},D=e=>{let{target:t}=e;const{id:n,value:r}=t;w({...b,[n]:r})};return(0,ys.jsxs)("div",{className:oh,children:[m&&(0,ys.jsx)(lh,{dishesRequested:s,setShowAccountingManagementPopup:g,setTotals:c}),S&&(0,ys.jsx)(uh,{}),(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:" Vendas"})}),(0,ys.jsxs)("div",{className:ah,children:[(0,ys.jsx)("div",{children:(0,ys.jsx)(Il,{id:"startDate",required:!0,label:"Data Inicial",value:b.startDate,type:"date",onChange:D})}),(0,ys.jsx)("div",{children:(0,ys.jsx)(Il,{id:"endDate",required:!0,label:"Data Final",value:b.endDate,type:"date",onChange:D})})]}),(0,ys.jsx)("div",{className:ch,children:(0,ys.jsxs)("table",{children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Nome"}),(0,ys.jsx)("th",{children:"quantidade"}),(0,ys.jsx)("th",{children:"valor total"}),(0,ys.jsx)("th",{children:"Cart\xe3o"}),(0,ys.jsx)("th",{children:" Custo"}),(0,ys.jsx)("th",{children:" Lucro"}),(0,ys.jsx)("th",{children:"Desconto"})]})}),(0,ys.jsxs)("tbody",{children:[e&&e.length>0&&e[0].repetitions?e.map(((e,t)=>(0,ys.jsxs)("tr",{onClick:()=>(e=>{const t=x.filter((t=>t.name===e.name));o(t),console.log("itemSelected",s),g(!0)})(e),children:[(0,ys.jsx)("td",{children:e.name}),(0,ys.jsx)("td",{children:e.repetitions}),(0,ys.jsx)("td",{children:e.totalSum}),(0,ys.jsx)("td",{children:Number(e.card).toFixed(2)}),(0,ys.jsx)("td",{children:Number(e.cost).toFixed(2)}),(0,ys.jsx)("td",{children:Number(e.profit).toFixed(2)}),(0,ys.jsx)("td",{colSpan:"1"})]},t))):(0,ys.jsx)("tr",{children:(0,ys.jsx)("td",{colSpan:"3",className:"empty-message",children:"Selecione alguma data v\xe1lida"})}),(0,ys.jsxs)("tr",{className:"score-total",children:[(0,ys.jsx)("td",{children:"Total"}),(0,ys.jsx)("td",{children:v.amount}),(0,ys.jsxs)("td",{children:[v.discount?v.totalValue-v.discount:v.totalValue,",00"]}),(0,ys.jsx)("td",{children:Number(v.card||0).toFixed(2)}),(0,ys.jsx)("td",{children:Number(v.cost||0).toFixed(2)}),(0,ys.jsx)("td",{children:Number(v.profit||0).toFixed(2)}),(0,ys.jsx)("td",{children:0!==v.discount?v.discount:0})]})]})]})})]})},hh="TableComponent_containerTable__AYwFc",fh=e=>{let{filteredCompleteRequests:n}=e;const[r,i]=t.useState(null);t.useEffect((()=>{n&&console.log("I am here    ",n);const e=o();e&&i(e)}),[n]),t.useState((()=>{r&&s()}),[r]);const s=()=>{if(r)return(0,ys.jsxs)("table",{children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"M\xe9todo de Pagamento"}),(0,ys.jsx)("th",{children:"Valor"})]})}),(0,ys.jsxs)("tbody",{children:[(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:"D\xe9bito"}),(0,ys.jsx)("td",{children:r.debit})]}),(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:"Cr\xe9dito"}),(0,ys.jsx)("td",{children:r.credit})]}),(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:"Dinheiro"}),(0,ys.jsx)("td",{children:r.cash})]}),(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:"Pix"}),(0,ys.jsx)("td",{children:r.pix})]}),(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:"Total Bruto"}),(0,ys.jsx)("td",{children:r.grossdiscount})]}),(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:"Desconto"}),(0,ys.jsx)("td",{children:r.discount})]}),(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:"Total com Desconto"}),(0,ys.jsx)("td",{children:r.total})]})]})]})},o=()=>{if(!n||0===n.length)return null;return n.reduce(((e,t)=>{const{paymentMethod:n,request:r,finalPriceRequest:i}=t,s=r.reduce(((e,t)=>e+t.finalPrice),0);e.total+=i;const o=s-i;return o>0&&(e.discount+=o),r.forEach((t=>{const r=t.finalPrice;e.grossdiscount+=r,"debit"===n?e.debit+=r:"credite"===n?e.credit+=r:"cash"===n?e.cash+=r:"pix"===n&&(e.pix+=r)})),e}),{total:0,debit:0,credit:0,cash:0,pix:0,discount:0,grossdiscount:0})};return(0,ys.jsxs)("div",{className:hh,children:[s(),(0,ys.jsxs)("table",{children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Nome do Produto"}),(0,ys.jsx)("th",{children:"Numero"}),(0,ys.jsx)("th",{children:"M\xe9todo de Pagamento"}),(0,ys.jsx)("th",{children:"Pre\xe7o Final"}),(0,ys.jsx)("th",{children:"Pre\xe7o item"}),(0,ys.jsx)("th",{children:"Data e Hora"})]})}),(0,ys.jsx)("tbody",{children:n&&0!==n.length?(n=ks(n),n.flatMap((e=>{const{paymentMethod:t,dateTime:n,countRequest:r,finalPriceRequest:i,request:s}=e;return s.map(((e,s)=>(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:e.name}),(0,ys.jsx)("td",{children:r}),(0,ys.jsx)("td",{children:t}),(0,ys.jsx)("td",{children:i}),(0,ys.jsx)("td",{children:e.finalPrice}),(0,ys.jsx)("td",{children:n})]},"".concat(e.name,"-").concat(s))))}))):null})]})]})},ph=()=>{const[e,n]=t.useState([]),[r,i]=t.useState(null),[s,o]=t.useState(null),[a,c]=t.useState({startDate:"",endDate:""}),[l,u]=t.useState(null);t.useEffect((()=>{(async()=>{try{const[e]=await Promise.all([hs("request")]);i(e)}catch(e){console.error("Erro ao buscar os dados:",e)}})()}),[]),t.useEffect((()=>{(async()=>{if(a.startDate&&a.endDate){const e=new Date(a.startDate),t=new Date(a.endDate);if(e>t)alert("Data de in\xedcio n\xe3o pode ser maior que a data de fim.");else{const n=d(r,e,t);o(n)}}})()}),[a]);const d=(e,t,n)=>e&&e.length>0?e.filter((e=>{var r;const i=new Date(null===(r=e.dateTime)||void 0===r?void 0:r.split(" - ")[0].split("/").reverse().join("-"));return i>=t&&i<=n})):[],h=e=>{let{target:t}=e;const{id:n,value:r}=t;c({...a,[n]:r})};return(0,ys.jsxs)("div",{className:"management-requests",children:[(0,ys.jsx)(bl,{to:"/admin/admin",children:(0,ys.jsx)(tu,{mainTitle:"Fechamento de Caixa"})}),(0,ys.jsxs)("div",{className:"container-date",children:[(0,ys.jsx)("div",{children:(0,ys.jsx)(Il,{id:"startDate",required:!0,label:"Data Inicial",value:a.startDate,type:"date",onChange:h})}),(0,ys.jsx)("div",{children:(0,ys.jsx)(Il,{id:"endDate",required:!0,label:"Data Final",value:a.endDate,type:"date",onChange:h})})]}),(0,ys.jsx)(fh,{filteredCompleteRequests:s})]})},mh=()=>{const{form:e,setForm:n,error:r,handleChange:i,handleBlur:s,clientFinded:o}=Nl({name:"",phone:"",cpf:"",birthday:"",email:""}),[a,c]=t.useState(!1),[l,u]=t.useState(!1),[d,h]=t.useState(null),[f,p]=t.useState(!1),m=t.useContext(ws),{name:g,finalPriceRequest:v,dateTime:y,countRequest:b,request:w,category:x,paymentMethod:_}=m.userNewRequest,[S,E]=t.useState("");t.useEffect((()=>{console.log("Estou no emissor de NFCe     ",m.userNewRequest),I();(async()=>{const e=function(e,t){if(!Array.isArray(e))return[];const n=e=>{if(!e)return new Date(0);const[t,n]=e.split(" "),[r,i,s]=t.split("/");return new Date("".concat(s,"-").concat(i.padStart(2,"0"),"-").concat(r.padStart(2,"0"),"T").concat(n))};return e.sort(((e,t)=>{const r=n(e.date_issued);return n(t.date_issued)-r}))}(await hs("taxDocuments"));u(e)})()}),[]);const C={data_emissao:"",cnpj_emitente:"19337953000178",indicador_inscricao_estadual_destinatario:"9",cpf_destinatario:e.cpf,modalidade_frete:9,local_destino:1,presenca_comprador:1,natureza_operacao:"VENDA AO CONSUMIDOR"},k=async(e,t,n)=>{try{const r=(0,as.getFirestore)(),i=new Date,s="".concat(i.getDate(),"/").concat(i.getMonth()+1,"/").concat(i.getFullYear()," ").concat(i.getHours(),":").concat(i.getMinutes()),o={...e,date_issued:s,total_value:t,ref:n,active:!1},a=await(0,as.addDoc)((0,as.collection)(r,"taxDocuments"),o);console.log("Documento adicionado com ID:",a.id);const c=await hs("taxDocuments");u(c)}catch(r){console.error("Erro ao salvar o documento no Firestore:",r)}},T=e=>({debit:"04",credite:"03",vr:"03",cash:"01",pix:"99"}[e]),I=()=>{const t=T(_);if("04"===t||"03"===t){if(!S)return void c(!0);c(!1)}else console.log("N\xe3o precisa"),c(!1);r.cpf&&""!=e.cpf?(c(!0),console.log("Tem erro")):(c(!1),console.log("N\xe3o tem erro"))};t.useEffect((()=>{I()}),[S]);async function j(e,t){if(t){if(t){h(null);const t="http://localhost:4000/api/cancel-nfce/".concat(e.ref);console.log("Chamando backend com URL:",t);const n={justificativa:"O cliente desistiu da compra no momento do pagamento por motivos pessoais."};console.log("Enviando corpo da requisi\xe7\xe3o:",n);try{const r=await fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),i=await r.json();console.log("Resposta do backend:",i),r.ok?(console.log("Cancelamento realizado com sucesso:",i),N(e)):console.error("Erro ao cancelar NFC-e:",i)}catch(r){console.error("Erro ao fazer a requisi\xe7\xe3o:",r)}}}else h(e)}const N=async e=>{const t=(0,as.getFirestore)(),n=(0,as.doc)(t,"taxDocuments",e.id);try{(await(0,as.getDoc)(n)).exists()&&(await(0,as.updateDoc)(n,{activate:!0}),console.log("Documento atualizado com sucesso."),u((t=>t.map((t=>t.ref===e.ref?{...t,activate:!0}:t)))))}catch(r){console.error("Erro ao atualizar o documento no Firestore:",r)}},P=e=>{let t={agua:20011e3,refrigerante:22021e3};return t[e]?(console.log(t[e]),t[e]):(console.log("outros"),"08119000")},D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:34;const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<e;r++){n+=t.charAt(Math.floor(62*Math.random()))}return n},O=()=>(new Date).toISOString();return(0,ys.jsxs)("div",{className:"fiscal-attributes-container",children:[(0,ys.jsx)("h1",{children:"Aqui come\xe7a a emiss\xe3o de NFCe"}),(0,ys.jsxs)("div",{className:"input-container",children:[(0,ys.jsxs)("div",{children:[(0,ys.jsx)("label",{className:"form-label"}),(0,ys.jsxs)("select",{id:"card",className:"form-select custom-select",value:S,required:!0,onChange:e=>{const{value:t}=e.target;E(t),I()},children:[(0,ys.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Selecione a bandeira do cart\xe3o"}),(0,ys.jsx)("option",{value:"01",children:"Master Card"}),(0,ys.jsx)("option",{value:"02",children:" Visa"}),(0,ys.jsx)("option",{value:"03",children:"American Express"}),(0,ys.jsx)("option",{value:"04",children:"Sorocred"}),(0,ys.jsx)("option",{value:"05",children:"Outros"})]})]}),(0,ys.jsxs)("div",{children:[(0,ys.jsx)(Il,{id:"cpf",autoComplete:"off",placeholder:"CPF",value:e.cpf,type:"text",onChange:i,onBlur:I}),r.cpf&&(0,ys.jsx)("div",{className:"error-form",children:r.cpf})]})]}),(0,ys.jsx)("button",{disabled:a,onClick:async()=>{C.data_emissao=O(),C.items=[],C.formas_pagamento=[],C.formas_pagamento.push({forma_pagamento:T(_),valor_pagamento:v,bandeira_operadora:S});for(let r=0;r<w.length;r++)C.items.push({numero_item:r+1,codigo_ncm:P(w[r].category),quantidade_comercial:1,quantidade_tributavel:1,descricao:w[r].name,cfop:"5102",codigo_produto:w[r].id,valor_unitario_tributavel:w[r].finalPrice,valor_unitario_comercial:w[r].finalPrice,valor_desconto:0,icms_origem:"0",icms_situacao_tributaria:"102",unidade_comercial:"un",unidade_tributavel:"un",valor_total_tributos:"0.00"});console.log("Com item alterado    ",C);const e=D(),t="http://localhost:4000/api/send-nfce?ref=".concat(e),n=C;console.log("Esse \xe9 o payload   ",n);try{const r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(r.ok){const t=await r.json();if(console.log("Resposta da API CEFAZ:",t),await k(t,v,e),"autorizado"===t.status&&t.caminho_danfe){const e="https://api.focusnfe.com.br".concat(t.caminho_danfe),n=window.open(e,"_blank");n.onload=()=>{n.print()}}}else console.error("Erro ao enviar NFC-e:",r.statusText)}catch(r){console.error("Erro na requisi\xe7\xe3o:",r)}},className:"btn btn-success",children:"Gerar Nota fiscal"}),(0,ys.jsxs)("table",{children:[(0,ys.jsx)("thead",{children:(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("th",{children:"Nota"}),(0,ys.jsx)("th",{children:"Data"}),(0,ys.jsx)("th",{children:"valor total"}),(0,ys.jsx)("th",{children:"Imprimir"}),(0,ys.jsx)("th",{children:"Cancelar Nota"})]})}),(0,ys.jsx)("tbody",{children:l&&l.map(((e,t)=>(0,ys.jsxs)("tr",{children:[(0,ys.jsx)("td",{children:e.ref}),(0,ys.jsx)("td",{children:e.date_issued}),(0,ys.jsx)("td",{children:e.total_value}),(0,ys.jsx)("td",{children:(0,ys.jsx)("a",{href:"https://api.focusnfe.com.br".concat(e.caminho_danfe),target:"_blank",rel:"noopener noreferrer",children:"nota"})}),(0,ys.jsxs)("td",{children:[(0,ys.jsx)("button",{onClick:()=>{h(e)},disabled:e.activate,children:"Cancelar"}),(null===d||void 0===d?void 0:d.ref)===e.ref&&(0,ys.jsx)(Ll,{msg:"Tem certeza que deseja cancelar essa nota",onClose:()=>{h(null)},onConfirm:j,item:e})]})]},t)))})]})]})},gh="Documentation_documentationContainer__9ddZQ",vh="Documentation_sidebar__0hZT+",yh="Documentation_menuList__xErlx",bh="Documentation_menuItem__69RSE",wh="Documentation_content__rPWB7",xh="Documentation_section__Cph1z",_h=()=>(0,ys.jsxs)("div",{className:gh,children:[(0,ys.jsx)("div",{className:vh,children:(0,ys.jsxs)("ul",{className:yh,children:[(0,ys.jsx)("li",{children:(0,ys.jsx)("a",{href:"#introduction",className:bh,children:"Introdu\xe7\xe3o"})}),(0,ys.jsx)("li",{children:(0,ys.jsx)("a",{href:"#usage",className:bh,children:"Como Usar"})})]})}),(0,ys.jsxs)("div",{className:wh,children:[(0,ys.jsxs)("section",{id:"introduction",className:xh,children:[(0,ys.jsx)("h2",{children:"Introdu\xe7\xe3o"}),(0,ys.jsx)("p",{children:"Bem-vindo \xe0 documenta\xe7\xe3o do Bar Menu. Aqui voc\xea encontrar\xe1 informa\xe7\xf5es para utilizar e customizar o aplicativo."})]}),(0,ys.jsxs)("section",{id:"usage",className:xh,children:[(0,ys.jsx)("h2",{children:"Como Usar"}),(0,ys.jsx)("p",{children:"Para come\xe7ar, navegue pelo menu \xe0 esquerda e selecione o t\xf3pico desejado para visualizar o conte\xfado correspondente."})]})]})]}),Sh="MainPictureMenu_containerPictureMenu__Fi2jQ",Eh="MainPictureMenu_containerDishes__+3EJv",Ch="MainPictureMenu_loaded__iE92B",kh="MainPictureMenu_submenu__BG0dN",Th="MainPictureMenu_categories__tDSC1",Ih="MainPictureMenu_categoryItem__kSYmr",jh="MainPictureMenu_dishes__dt7Sc",Nh="MainPictureMenu_mainTitle__vmHJK",Ph="MainPictureMenu_subContainer__nXvP2",Dh="MainPictureMenu_itemContainer__roapj",Oh="MainPictureMenu_text__IxbLu",Ah="MainPictureMenu_image__j9PQJ",Rh=()=>{const[e,n]=t.useState(!0),[r,i]=t.useState([]),[s,o]=t.useState([]),[a,c]=t.useState([]),[l,u]=t.useState(""),[d,h]=t.useState({}),[f,p]=t.useState(!1),[m,g]=t.useState(!1),[v,y]=t.useState(""),b=t.useContext(ws);Hl();const w=Y();t.useEffect((()=>{b.isToten?w("/new-layout"):w("/");(async()=>{try{const[e,t]=await Promise.all([hs("button"),hs("item")]),r={category:"main",parent:"bestSellers",title:"OS MAIS VENDIDOS ",image:"https://firebasestorage.googleapis.com/v0/b/react-bar-67f33.appspot.com/o/frontImage%2FWhatsApp%20Image%202024-07-26%20at%2011.19.36.png?alt=media&token=f129a337-ee65-4402-90b2-8ce8a5fb593f"};if(function(){if(localStorage.hasOwnProperty("userMenu")){let e=JSON.parse(localStorage.getItem("userMenu")).name.split(" ")[0];e=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),y(e)}}(),Array.isArray(e)&&e.length>0){e.unshift(r);const t=e.filter((e=>"hide"!==e.parent));o(t)}i(t),n(!1)}catch(e){console.error("Erro fetching data",e)}})()}),[]),t.useEffect((()=>{r.length>0&&x("bestSellers","OS MAIS VENDIDOS")}),[r]);const x=(e,t)=>{if(console.log("Essa \xe9 a minha categoria   ",e),r&&r.length>0)if("bestSellers"!==e){const n=r.filter((t=>t.category===e));c(n),u(t)}else{const e=r.filter((e=>!0===e.carrossel));c(e),u(t)}},_=async()=>{if(m){const e=await Bl();return localStorage.setItem("userMenu",JSON.stringify({id:e.id,name:e.name})),void g(!1)}g(!0)};return!e&&(0,ys.jsxs)("div",{className:"".concat(Sh," ").concat(e?"":Ch),children:[(0,ys.jsx)("div",{className:"WarningMessage-container",children:m&&(0,ys.jsx)(Dl,{message:"Voc\xea est\xe1 prestes a sair do sistema",setWarningMsg:g,sendRequestToKitchen:_})}),(0,ys.jsx)(Xl,{logoutCustomer:_,nameClient:v,isToten:b.isToten}),(0,ys.jsx)("div",{className:Eh,children:f&&(0,ys.jsx)(Ts,{item:d,setModal:p})}),(0,ys.jsxs)("div",{className:kh,children:[(0,ys.jsx)("nav",{className:Th,children:s&&s.length>0&&s.map(((e,t)=>(0,ys.jsxs)("div",{className:Ih,onClick:()=>x(e.parent,e.title),children:[(0,ys.jsx)("h3",{children:e.title}),(0,ys.jsx)("img",{src:e.image?e.image:"https://i.pinimg.com/736x/fe/23/38/fe2338260fb041d8d94999fe48cb218f.jpg",alt:""})]},t)))}),(0,ys.jsxs)("section",{className:jh,children:[(0,ys.jsx)("h3",{className:Nh,children:l}),(0,ys.jsx)("div",{className:Ph,children:a&&a.length>0&&a.map(((e,t)=>(0,ys.jsxs)("div",{className:Dh,style:{animationDelay:"".concat(.1*t,"s")},children:[(0,ys.jsxs)("div",{className:Oh,children:[(0,ys.jsx)("h3",{children:e.title}),(0,ys.jsx)("p",{children:e.comment}),(0,ys.jsx)("button",{onClick:()=>(e=>{h(e),p(!0)})(e),children:"Fa\xe7a o seu pedido"})]}),(0,ys.jsx)("div",{className:Ah,children:(0,ys.jsx)("img",{src:e.image,alt:""})})]},e.id||t)))})]})]})]})},Mh={containerManagementRecipes:"ManagementRecipes_containerManagementRecipes__rrC6v",deleteContainer:"ManagementRecipes_deleteContainer__c+KHu",replaceModuleContainer:"ManagementRecipes_replaceModuleContainer__RB7Ty",leftSide:"ManagementRecipes_leftSide__0XX8Y"},Lh=()=>{const[e,n]=t.useState(null),[r,i]=t.useState([]),[s,o]=t.useState(""),[a,c]=t.useState(""),[l,u]=t.useState(""),[d,h]=t.useState([]),[f,p]=t.useState([]),[m,g]=t.useState([]),[v,y]=t.useState([]),[b,w]=t.useState(!1),[x,_]=t.useState(!1),S=(0,as.getFirestore)(is);t.useEffect((()=>{(async()=>{try{const[e,t]=await Promise.all([hs("stock"),hs("item")]);console.log("prato  ",t);const r=e.sort(((e,t)=>e.product.localeCompare(t.product)));i(r),n(t)}catch(e){console.error("Erro ao buscar os dados:",e)}})()}),[]);const E=t=>{h([]),g([]);const{id:n,value:r}=t.target,i=r;"productStockToDelete"===n&&o(r),"productStockToEdit"===n&&u(r);for(const s of e)if(s&&s.recipe&&s.recipe.FinalingridientsList)if(Array.isArray(s.recipe.FinalingridientsList)){if(void 0!==s.recipe.FinalingridientsList.find((e=>e.name===i))){const e={name:s.title,id:s.id};"productStockToDelete"===n?h((t=>[...t,e])):"productStockToEdit"===n&&g((t=>[...t,e]))}}else if("object"===typeof s.recipe.FinalingridientsList)for(const e of Object.values(s.recipe.FinalingridientsList))if(Array.isArray(e)){if(void 0!==e.find((e=>e.name===i))){const e={name:s.title,id:s.id};"productStockToDelete"===n?h((t=>[...t,e])):"productStockToEdit"===n&&g((t=>[...t,e]));break}}},C=(e,t)=>{"delete"===t?p((t=>t.find((t=>t.id===e.id))?t.filter((t=>t.id!==e.id)):[...t,e])):"edit"===t&&y((t=>t.find((t=>t.id===e.id))?t.filter((t=>t.id!==e.id)):[...t,e]))},k=t=>{if(w(!0),t)for(const n of f){const t=e.filter((e=>e.id===n.id));if(t&&t.length>0){let{FinalingridientsList:e}=t[0].recipe||{};Array.isArray(e)?e=e.filter((e=>e.name!==s)):"object"===typeof e&&Object.keys(e).forEach((t=>{e[t]=e[t].filter((e=>e.name!==s))}));const r=(0,as.doc)(S,"item",n.id);(0,as.updateDoc)(r,{"recipe.FinalingridientsList":e}).then((()=>{console.log("Ingrediente removido com sucesso de ".concat(n)),w(!1),h([]),p([])}))}}else console.log("N\xe3o vai excluir")},T=t=>{if(_(!0),t)for(const n of v){const t=e.filter((e=>e.id===n.id));if(t&&t.length>0){let{FinalingridientsList:e}=t[0].recipe||{};if(!e){console.warn("FinalingridientsList n\xe3o encontrado para recipeId ".concat(n));continue}Array.isArray(e)?(e=e.map((e=>e.name===l?{...e,name:a}:e)),console.log("RECEITA MODIDICADA   ",e)):"object"===typeof e&&Object.keys(e).forEach((t=>{e[t]=e[t].map((e=>e.name===l?{...e,name:a}:e))})),console.log("Prato selecionado   ",e);const r=(0,as.doc)(S,"item",n.id);(0,as.updateDoc)(r,{"recipe.FinalingridientsList":e}).then((()=>{console.log("Ingrediente removido com sucesso de ".concat(n)),_(!1),y([]),g([])})).catch((e=>{console.error("Erro ao atualizar o ingrediente em ".concat(n,": "),e)}))}}};return(0,ys.jsxs)("div",{className:Mh.containerManagementRecipes,children:[(0,ys.jsx)("div",{className:Mh.containerWarningMessage,children:b&&(0,ys.jsx)(Dl,{message:"Voc\xea est\xe1 prestes a exclui o ingrediente ".concat(s," das receitas ").concat(f.map((e=>e.name)).join(", ").replace(/, ([^,]*)$/," e $1"),"  "),setWarningMsg:w,sendRequestToKitchen:()=>k(!0),style:{fontSize:"14px"}})}),(0,ys.jsxs)("div",{className:Mh.containerWarningMessage,children:[" ",x&&m&&m.length>0&&(0,ys.jsx)(Dl,{message:"Voc\xea est\xe1 prestes a  substituiu o ingrediente ".concat(l,"  pelo ingrediente ").concat(a,", nas seguites receitas:  ").concat(v.map((e=>e.name)).join(", ").replace(/, ([^,]*)$/," e $1"),". Lembre-se que somente o ingrediente foi substituido, as por\xe7oes e a unidade de medida do ingrediente como litro ou grama, continuam as mesmas"),setWarningMsg:_,sendRequestToKitchen:()=>T(!0),style:{fontSize:"20px"}})]}),(0,ys.jsx)("h1",{children:"Gerenciamento de Receitas"}),(0,ys.jsx)("h3",{children:"Use esse modulo para excluir ingredientes dos pratos selecionados"}),(0,ys.jsxs)("div",{className:Mh.deleteContainer,children:[(0,ys.jsxs)("div",{className:Mh.leftSide,children:[(0,ys.jsxs)("select",{id:"productStockToDelete",value:s,className:"select-input",onChange:E,children:[(0,ys.jsx)("option",{value:"",children:"Selecione um ingrediente"}),(null===r||void 0===r?void 0:r.length)>0&&r.map(((e,t)=>(0,ys.jsx)("option",{value:e.product,children:e.product},t)))]}),(0,ys.jsx)("button",{onClick:()=>k(!1),disabled:0===f.length,children:"Excluir ingredientes"})]}),(0,ys.jsx)("ul",{children:d&&d.length>0&&d.map(((e,t)=>(0,ys.jsxs)("li",{children:[" ",(0,ys.jsx)("input",{type:"checkbox",checked:f.some((t=>t.id===e.id)),onChange:()=>C(e,"delete")}),e.name]},t)))})]}),(0,ys.jsx)("h3",{children:"Use esse m\xf3dulo para substituir ingredientes dos pratos selecionados"}),(0,ys.jsxs)("div",{className:Mh.replaceModuleContainer,children:[(0,ys.jsxs)("div",{className:Mh.leftSide,children:[(0,ys.jsxs)("select",{id:"productStockToEdit",value:l,className:"select-input",onChange:E,children:[(0,ys.jsx)("option",{value:"",children:"Produto que vai sair"}),(null===r||void 0===r?void 0:r.length)>0&&r.map(((e,t)=>(0,ys.jsx)("option",{value:e.product,children:e.product},t)))]}),(0,ys.jsxs)("select",{id:"productToReplace",value:a,className:"select-input",onChange:e=>c(e.target.value),children:[(0,ys.jsx)("option",{value:"",children:"Produto que vai entrar"}),(null===r||void 0===r?void 0:r.length)>0&&r.map(((e,t)=>(0,ys.jsx)("option",{value:e.product,children:e.product},t)))]}),(0,ys.jsx)("button",{onClick:()=>T(!1),disabled:0===v.length||""===a,children:"Substituir ingredientes"})]}),(0,ys.jsx)("ul",{children:m&&m.length>0&&m.map(((e,t)=>(0,ys.jsxs)("li",{children:[" ",(0,ys.jsx)("input",{type:"checkbox",checked:v.some((t=>t.id===e.id)),onChange:()=>C(e,"edit")}),e.name]},t)))})]})]})};const Fh=function(){const[e,n]=t.useState(!0),[r,i]=t.useState((()=>Jl)),s=Q(),o=t.useContext(ws);t.useEffect((()=>{"true"===localStorage.getItem("isToten")&&o.setIsToten(!0);n(!s.pathname.startsWith("/admin")),(async()=>{if("/"===s.pathname){const e=await a();console.log("Modo de figura   ",e),i((()=>e?eu:Jl))}})()}),[s.pathname]);const a=async()=>{try{return(await fs("PictureMode","7OQE7SP75uGlSokNrpNE")).menuPictureMode}catch(e){console.error("Erro fetching data",e)}};return(0,ys.jsxs)("div",{className:"ultra-wrapper",children:[e&&(0,ys.jsx)(qu,{}),(0,ys.jsxs)(pe,{children:[(0,ys.jsx)(he,{path:"/",element:t.createElement(r)}),(0,ys.jsx)(he,{path:"/new-layout",element:(0,ys.jsx)(Rh,{})}),(0,ys.jsx)(he,{path:"/create-customer",element:(0,ys.jsx)(td,{})}),(0,ys.jsx)(he,{path:"/request",element:(0,ys.jsx)(Wl,{})}),(0,ys.jsx)(he,{path:"/orderqueue",element:(0,ys.jsx)(xd,{})}),(0,ys.jsx)(he,{path:"/nfce",element:(0,ys.jsx)(mh,{})}),(0,ys.jsx)(he,{path:"/print",element:(0,ys.jsx)(zl,{})}),(0,ys.jsx)(he,{path:"/admin/recipedish",element:(0,ys.jsx)(zu,{})}),(0,ys.jsx)(he,{path:"/admin/login",element:(0,ys.jsx)(Wu,{})}),(0,ys.jsx)(he,{path:"/admin/check-customer-nolog",element:(0,ys.jsx)(sh,{})}),(0,ys.jsx)(he,{path:"/admin/signup",element:(0,ys.jsx)(Bu,{})}),(0,ys.jsx)(he,{path:"/admin",element:(0,ys.jsx)(Qu,{})}),(0,ys.jsx)(he,{path:"/admin/signup",element:(0,ys.jsx)(Bu,{})}),(0,ys.jsxs)(he,{path:"/admin/*",element:(0,ys.jsx)(Gu,{}),children:[(0,ys.jsx)(he,{path:"expenses",element:(0,ys.jsx)(Kd,{})}),(0,ys.jsx)(he,{path:"sell-flow",element:(0,ys.jsx)(ph,{})}),(0,ys.jsx)(he,{path:"request",element:(0,ys.jsx)(dh,{})}),(0,ys.jsx)(he,{path:"documentation",element:(0,ys.jsx)(_h,{})}),(0,ys.jsx)(he,{path:"stock",element:(0,ys.jsx)(ih,{})}),(0,ys.jsx)(he,{path:"requestlist",element:(0,ys.jsx)(yd,{})}),(0,ys.jsx)(he,{path:"item",element:(0,ys.jsx)(Vu,{})}),(0,ys.jsx)(he,{path:"EditButton/:id",element:(0,ys.jsx)(Zu,{})}),(0,ys.jsx)(he,{path:"category",element:(0,ys.jsx)(ou,{})}),(0,ys.jsx)(he,{path:"customer",element:(0,ys.jsx)(jd,{})}),(0,ys.jsx)(he,{path:"sidedishes",element:(0,ys.jsx)(gu,{})}),(0,ys.jsx)(he,{path:"frontimage",element:(0,ys.jsx)(Ju,{})}),(0,ys.jsx)(he,{path:"styles",element:(0,ys.jsx)(nd,{})}),(0,ys.jsx)(he,{path:"operationCost",element:(0,ys.jsx)(Yu,{})}),(0,ys.jsx)(he,{path:"promotions",element:(0,ys.jsx)(Ed,{})}),(0,ys.jsx)(he,{path:"welcome",element:(0,ys.jsx)(rd,{})}),(0,ys.jsx)(he,{path:"requestlistcheck",element:(0,ys.jsx)(_d,{})}),(0,ys.jsx)(he,{path:"managementRecipes",element:(0,ys.jsx)(Lh,{})})]}),(0,ys.jsx)(he,{path:"*",element:(0,ys.jsx)(ue,{to:"/bar-menu.io",replace:!0})})]})]})},Uh=e=>{let{children:n}=e;const{setStyles:r}=(0,t.useContext)(ws);return(0,t.useEffect)((()=>{!async function(){try{const e=(await hs("styles"))[1];r(e);const t=(e=>{const t={};for(const[n,r]of Object.entries(e))t["--".concat(n.trim().replace(/([A-Z])/g,"-$1").toLowerCase())]=r;return t})(e);for(const[n,r]of Object.entries(t))document.documentElement.style.setProperty(n,r)}catch(e){console.error("Error fetching styles:",e)}}()}),[r]),(0,ys.jsx)(ys.Fragment,{children:n})};i.createRoot(document.getElementById("root")).render((0,ys.jsx)(gl,{basename:"/bar-menu.io",children:(0,ys.jsx)(xs,{children:(0,ys.jsx)(Uh,{children:(0,ys.jsx)(Fh,{})})})}))})()})();
//# sourceMappingURL=main.95e92a22.js.map